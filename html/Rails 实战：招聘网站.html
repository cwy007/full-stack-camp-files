
<style>
  .frame {
      margin-left: 30px;
      margin-right: 30px;
  }

  h1, h2, h3, h4, h5, h6 {
      font-weight: normal;
  }

  .view-count {
      float: right;
      margin-top: -54px;
      color: #9B9B9B;
  }

  .markdown h2, .markdown h3, .markdown h4 {
      text-align: left;
      font-weight: 800;
      font-size: 16px !important;
      line-height: 100%;
      margin: 0;
      color: #555;
      margin-top: 16px;
      margin-bottom: 16px;
      border-bottom: 1px solid #eee;
      padding-bottom: 5px;
  }

    .markdown .figure-code figcaption {
      background-color: #e6e6e6;

      font: 100%/2.25 Monaco, Menlo, Consolas, 'Courier New', monospace;
      text-indent: 10.5px;

      -moz-border-radius: 0.25em 0.25em 0 0;
      -webkit-border-radius: 0.25em;
      border-radius: 0.25em 0.25em 0 0;
      -moz-box-shadow: inset 0 0 0 1px #d9d9d9;
      -webkit-box-shadow: inset 0 0 0 1px #d9d9d9;
      box-shadow: inset 0 0 0 1px #d9d9d9;
  }

  .markdown {
      position: relative;
      line-height: 1.8em;
      font-size: 14px;
      text-overflow: ellipsis;
      word-wrap: break-word;
      font-family: 'PT Serif', Georgia, Times, 'Times New Roman', serif !important;
  }

  .markdown ol li, .markdown ul li {
      line-height: 1.6em;
      padding: 2px 0;
      color: #333;
      font-size: 16px;
  }

  .markdown .figure-code {
      margin: 20px 0;
  }

  .post-content {
      padding-top: 5px;
      padding-bottom: 5px;
  }

  .markdown code {
      background-color: #ececec;
      color: #d14;
      font-size: 85%;
      text-shadow: 0 1px 0 rgba(255,255,255,0.9);
      border: 1px solid #d9d9d9;
      padding: 0.15em 0.3em;
  }

  div {
      display: block;
  }

  .markdown figure.code pre {
      background-color: #ffffcc !important;
  }

  .code .gi {
      color: #859900;
      line-height: 1.2em;
  }

  .code .err {
      color: #93A1A1;
  }

  .markdown a:link, .markdown a:visited {
      color: #0069D6 !important;
      text-decoration: none !important;
  }

  .markdown p {
      font-size: 16px;
      line-height: 1.5em;
  }

  .markdown blockquote {
      margin-left: 0 !important;
      margin-right: 0 !important;
      padding: 12px;
      border-left: 5px solid #50AF51;
      background-color: #F3F8F3;
      clear: both;
      display: block;
  }

  .markdown blockquote>*:first-child {
      margin-top: 0 !important;
  }

  .markdown blockquote>*:last-child {
      margin-bottom: 0 !important;
  }

  .markdown blockquote p {
      color: #222;
  }

  * {
      outline: none !important;
  }

  a:active, a:hover, a:link, a:visited {
      text-decoration: none;
  }

  pre {
      margin: 0;
  }

  .markdown img {
      vertical-align: top;
      max-width:100%;
      height:auto;
  }

  h1 a {
    color: #071A52;
  }

  h4 {
    color: #734488;
  }

  hr {
    border-color: #DEDEDE;
    border-width: 0.8px;
    margin-bottom: auto;
  }

  .end {
    height: 400px;
  }

  .end img {
    clear: both;
    display: block;
    margin: 10px auto;
  }

  .end p {
    text-align: center;
    font-size: 2.5em;
    margin: 60px auto 100px;
    color: #ddd;
  }
</style>
<div class='frame'><h1>
      [直播回放]4月5日 开学第一课
    </h1><h4>所属章节：开学第一课</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>主讲人：<br>
Xdite老师</p>

<p>时间：<br>
2017年4月5日 20:00</p>

<p>时长：<br>
主讲时长约20分钟<br>
答疑环节时长约45分钟</p>

<p>概要：<br>
1.课程运作模式<br>
2.学习方法<br>
3.互动答疑Q&amp;A</p>

    </div>
      <script src="//fast.wistia.com/embed/medias/pc02qicyjc.jsonp" async></script>
<script src="//fast.wistia.com/assets/external/E-v1.js" async></script>
<div class="player-bg">
    <div class="loading-tips">
        <button class="btn btn-default btn-lg">
            <i class="fa fa-spinner fa-spin"></i>
        </button>
        <p>视频文件正在加载，请确保已经打开VPN</p>
    </div>
    <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
        <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
            <div class="wistia_embed wistia_async_pc02qicyjc videoFoam=true" style="height:100%;width:100%"> </div>
            <script>
                window._wq = window._wq || [];
                _wq.push({ id: "pc02qicyjc", onReady: function(video) {
                    window.wistia_video = video;
                        window.wistia_video.time("112.90369");
                    var url = "/user_wistia_position_records/update_position";
                    var post_id = "513"; 
                    setInterval(function(){                        
                        if (wistia_video.state() === "playing") {
                            var data = {
                                position: wistia_video.time(),
                                post_id: post_id 
                            };                            
                            $.post(url, data);
                        }                        
                    }, 5000);
                }});
            </script>            
        </div>
    </div>
</div>

  </div></div><div class='frame'><h1>
      开学介绍
    </h1><h4>所属章节：开学第一课</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>大家好，欢迎来到全栈营开学第一堂课。首先先跟各位介绍，全栈营是一个 3 个月的编程学习营</p>

<ul>
<li>前 2 个月是主修</li>
<li>最后 1 个月是选修（ 求职 / 自己做项目 ）</li>
</ul>
<h3>你可以从这个营 GET 到</h3>
<p>三个月结业后，你可以从这个营 GET 到</p>

<ul>
<li>编程的能力（相当于 18 个月自学）</li>
<li>自行创业做产品的能力</li>
<li>高效协作的能力</li>
<li>一个全新的你</li>
</ul>
<h3>丑话讲在前面</h3>
<p>很多人报名全栈营，最担心的一件事，就是我零基础能不能学会。零基础，是肯定学会的。全栈营的第一名陈同学就是一个零基础的女生。</p>

<p>我们运营编程教育这么多年，发现编程最后能不能学会的人，与他之前的背景没有太大正相关，但与两件事有很强的正相关。就是「傲慢」与「分心」。</p>

<ul>
<li>什么是「傲慢」呢？就是坚持用自己的旧方式学编程。</li>
<li>什么是「分心」呢？就是在学全栈营时，还同时去学一些乱七八糟与编程无关的东西，把精力都浪费掉了。</li>
</ul>

<p>这一点，各位可以从许多全栈营第一期身上看到太多血淋淋的例子了。</p>

<blockquote>
<p>如果每天把 1-2 个小时留给全栈营，学会编程并且开发产品，完全是可以做到的。</p>
</blockquote>

<p>所以如果你有这两种倾向，请各位尽早戒掉。</p>
<h3>你不用担心落后</h3>
<p>再来，有些同学担心落后，所以做作业时，会赶。</p>

<p>我们每个作业与课程是有紧密关连的，也就是如果关键课程或作业，你只是随便刷一刷要赶下个课时，再做下一课你会很吃力的。</p>
<h4>我们建议这样的学习方法：</h4>
<ul>
<li>如果你<code>落后了，趁周末去参加 meetup 一口气补上你的作业</code>，有同伴的协助你解 bug 很快</li>
<li>多<code>认识同城的小伙伴，互相做提取练习与讨论</code>。全栈营的课 delay 一个礼拜还不至于出现大问题，但我们强烈<code>建议你跟著大部队的进度学习</code>，这样学习效果会最好。</li>
<li>参赛期间，我们会等待大家的进度。<code>尽量参赛，不要担心自己作品丑</code>。</li>
</ul>
<h4>千万不要这样做：</h4>
<ul>
<li>买完了只是把全栈营当收藏夹。一个月以后再打开全栈营猛力学习，这样铁定是会跟不上的。</li>
<li>觉得自己不会赢，就不参加比赛，这将是巨大的损失。</li>
</ul>

    </div>
  </div></div><div class='frame'><h1>
      未来课表
    </h1><h4>所属章节：开学第一课</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>接下来的课表</h2>
<p>接下来的 4-6 月，是全栈营线上版的第二期。</p>
<h3>四月</h3>
<ul>
<li>专注在如何拆解归类 IDEA</li>
<li>IDEA 如何变成代码</li>
<li>装潢你的代码</li>
<li>练习基本知识与结交小伙伴</li>
<li>第一个成果验收 - Job Listing 装潢比赛</li>
</ul>
<h3>五月</h3>
<ul>
<li>深入学习编程架构</li>
<li>第二个作品</li>
<li>学会高效协作</li>
<li>学会运用网路上资源解决简单至复杂的问题</li>
<li>第二个成果验收 - JD Store 装潢比赛</li>
</ul>
<h3>六月</h3>
<ul>
<li>产品化，Growth Hacking</li>
<li>求职

<ul>
<li>深入 API</li>
<li>深入 Testing</li>
<li>包装自己</li>
</ul>
</li>
</ul>
<h3>本周进度</h3>
<p>那么，本周开学我们会教什么呢？我们主要会教两个主题：</p>

<ul>
<li>什么是 Computational Thinking</li>
<li>如何把脑袋的点子落地变成代码</li>
</ul>

<p>我们会教各位做第一个简单的网站：一个招聘网站。这个网站会跟 Rails 101 很像。你会发现，将脑袋的点子落地变成代码，并不是想像中的难。</p>
<h4>每周更新</h4>
<ul>
<li>每周一：上新教材，Xdite 老师直播</li>
<li>每周四：客座老师答疑，或补充知识。开学第一周是王秒老师，教各位「编程英语」。</li>
</ul>

    </div>
  </div></div><div class='frame'><h1>
       1-1 Computational Thinking - Part 1
    </h1><h4>所属章节：1-Computational Thinking</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>在第一堂课，我们想要介绍一个重要的概念。这个概念叫 Computational Thinking。</p>

<p>在过去，我发现许多人对于「入门编程」这件事，存在的最大误解就是：</p>

<blockquote>
<p>编程 = 学习逻辑、程式语法</p>
</blockquote>

<p>所以，上编程课最重要的就是学语法。</p>

<p>这却是一个相当大的误会。</p>

<p>而且有这样误解的人，后来即便学会了程式语言的语法，也要花上极大的时间，才学得会独立开发写程序。</p>

<p>这也就是为什么程序员的养成过程需要这么长时间的原因。</p>
<h3>Computational Thinking</h3>
<p>其实，编程不是这样的。</p>

<p>如果你要入门写代码，最重要的其实是养成一种独特的思维：Computational Thinking。</p>

<p>所谓的 Computational Thinking 是什么呢？</p>

<ul>
<li>用计算机解决问题的思维</li>
<li>把大问题拆解成可以实作的小问题步骤</li>
<li>在实作过程中找到资源</li>
</ul>

<p>这才是一个程序员应当具备的最重要的能力。</p>

<p>下一节，我们将会播放一段由 Extra Credits 与 Stackoverflow 制作的「程序员入门介绍」影片，来介绍程序员最重要的基本能力。</p>

    </div>
  </div></div><div class='frame'><h1>
       1-2 Computational Thinking - Part 2
    </h1><h4>所属章节：1-Computational Thinking</h4><hr><div class="post group">
    <div class="post-content markdown">
      <blockquote>
<p>提示：</p>

<ol>
<li>需要科学上网才可以正常观看本视频；</li>
<li>如果画面模糊请到右下角设置中将画质调到最高质量。
<br>
</li>
</ol>
</blockquote>

    </div>
      <script src="//fast.wistia.com/embed/medias/ols69th901.jsonp" async></script>
<script src="//fast.wistia.com/assets/external/E-v1.js" async></script>
<div class="player-bg">
    <div class="loading-tips">
        <button class="btn btn-default btn-lg">
            <i class="fa fa-spinner fa-spin"></i>
        </button>
        <p>视频文件正在加载，请确保已经打开VPN</p>
    </div>
    <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
        <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
            <div class="wistia_embed wistia_async_ols69th901 videoFoam=true" style="height:100%;width:100%"> </div>
            <script>
                window._wq = window._wq || [];
                _wq.push({ id: "ols69th901", onReady: function(video) {
                    window.wistia_video = video;
                        window.wistia_video.time("380.146437");
                    var url = "/user_wistia_position_records/update_position";
                    var post_id = "515"; 
                    setInterval(function(){                        
                        if (wistia_video.state() === "playing") {
                            var data = {
                                position: wistia_video.time(),
                                post_id: post_id 
                            };                            
                            $.post(url, data);
                        }                        
                    }, 5000);
                }});
            </script>            
        </div>
    </div>
</div>

  </div></div><div class='frame'><h1>
      1-3 Computational Thinking - Part 3
    </h1><h4>所属章节：1-Computational Thinking</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>学编程并不会很困难。困难的是，很多人在当中容易被情绪「淹没」导致「放弃」。</p>

<p>因为，编程是一门在日常生活当中，难有正确对应反应的状况。</p>
<h3>红画面报错 ≠ 人生失败</h3>
<p>这样说吧，当各位在入门编程时，最常遇到的一个状况：</p>

<p>老是遇到红画面报错。几次下来，就会开始质疑自己是不是猪脑袋，怎么会这么容易出错，是不是人生失败组。</p>

<p>这是因为过去在人生中，其实是「少有人当面指出你的错误」，所以一旦自己收到很多「反馈」，就会立即反射到自己「容易犯错」，容易陷入深深的挫败。</p>

<p>但编程的「错误信息」其实是「不带情绪」的「真实反馈」，如果定神一看，会发现也只是一般的英文而已。可能提示你少打几个字，或拼错字而已。改掉就没事了。</p>
<h3>学习 ≠ 登山</h3>
<p>另外一个挫折点，就是把学习当成是「登山」。一旦短时间内看不到成果，就被巨大的压力压垮了。</p>

<p>在这里，我要给各位安利一个新概念：</p>

<blockquote>
<p>学习是拼图，而不是登山。</p>
</blockquote>

<p>学习编程，并不需要从计算机的基础理论知识开始学起，也并不需要把某个编程语言的语法规则全部掌握了，才能开始去编程实战。</p>

<p>我们的传统教育，让我们误以为所有的学习必须是：把基础打牢固了才可以进行下一步的学习。</p>

<p>但其实这是错误的认知。你有看过</p>

<ul>
<li>小孩先学「力学原理」，再学走路吗？</li>
<li>厨师先学「热力学」，再学烹饪吗？</li>
</ul>

<p>当然不是。</p>

<p>所有的人都是从镜像模仿开始，掌握基本的高频小套路。熟练之后，才复盘补充学习基础理论，最后牢固的。</p>
<h3>学习实质上是拼图</h3>
<p>学习不是登山而是拼图。既然是拼图，就是说你可以这里拼一块，那里拼一块，假以时日，你是可以把整个图给拼起来的。</p>

<p>当然，拼图最有效的方法应该是先把整个图的边框给拼起来。这样，你就知道图的边界在那里了，然后，再往中间填东西。</p>

<p>这门课就是以这样的原理 —— 「最外层的边框」 高频小套路 —— 构成的。</p>
<h3>Computational Thinking =&gt; Programming</h3>
<p>在这里给各位总结一下，编程是什么？编程是：</p>

<ul>
<li>观察输入是什么，输出是什么；</li>
<li>把大问题拆解成可以实作的小问题；</li>
<li>在实作过程中找到资源；</li>
<li>用电脑自动化解决问题。</li>
</ul>

<p>如此简单而已。</p>

    </div>
  </div></div><div class='frame'><h1>
      2-1 如何自救？
    </h1><h4>所属章节：2-自救教学</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h3>如何排除被困难淹没的感觉</h3>
<p><br></p>

<p>请写出以下五个问题的答案：</p>

<ul>
<li>我遇到了什么问题；</li>
<li>我想要怎么解决；</li>
<li>我希望别人怎么帮助我；</li>
<li>如果别人现在无法帮助我的话，我的解决方案是什么；</li>
<li>这个问题卡住的话，会让我接下来无法继续下去吗？</li>
</ul>
<h3>如何在Slack与交流论坛上正确地发问</h3>
<h4>第一步：</h4>
<h5>Slack：请用"问题求助"开头；请粘贴出现问题章节的网址；请写出哪个步骤在按照教材的要求操作后，出现了什么样的问题。<strong>提问要具体</strong>。</h5>
<p>范例：</p>

<figure class="figure-code code"><div class="highlight"><pre>&gt; 问题求助 https://fullstack.xinshengdaxue.com/posts/47  步骤3遇到了问题，按照教材的要求，输入了rails c，却无法得到符合教材步骤3里的结果。我输入的命令无法执行下去。
</pre></div>
</figure>

<p>(记得最前面的右尖括号和一个空白"&gt; "不可省略，可以提示助教有人发问)</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/8Ps24iGBQKKCBw5hjoFC_Screenshot%20at%20Apr%2005%2016-59-33.png" title=""></figure></p>
<h5>
<a href="https://forum.qzy.camp/">交流论坛</a>：请用“（求助）”作为标题开头，写出在哪个步骤遇到了什么问题。</h5>
<p>范例：</p>

<figure class="figure-code code"><div class="highlight"><pre> （求助） 6-0 part3 step6 遇到了问题，没有绿色提示出现。
</pre></div>
</figure>
<h4>第二步：</h4>
<p>请把包含问题（异常结果）的画面截图贴出来，图片要够大，有足够的信息，可以参考<a href="http://docs.qzy.camp/docs/slack-screen-shot/" target="_blank">Slack发问截图指南</a>。</p>

<p>推荐使用<a href="http://snip.qq.com/" target="_blank">Snip截图软件</a>。</p>
<h4>第三步：</h4>
<p>我的专案Github网址是： <code>https://github.com/我的github用户名/job-listing</code> （<strong>不要再贴Atom代码截图了，这才是程序员之间高效交流代码的方式</strong>。做完三遍rails101，上传Github总会了吧）</p>
<h4>第四步：</h4>
<p>请贴出目前最新的 log:（至少贴 100 行，且贴在 text snippet 里。点击 slack 输入框左边的＋符号，选择Code or text snippet，复制贴上终端机上的文字）。</p>

<p><figure><img src="http://ohemzrezo.bkt.clouddn.com/2016-12-10-064306.jpg" title=""></figure></p>
<h3>为什么要这样做</h3>
<p>当你说你“做了什么”，得到“不如预期的结果”。旁人不知道“你做了什么”，得到“什么结果”。</p>

<ul>
<li>所以你必须提供“输入”（输入就是你写的<code>代码</code>，但是要足够完整。贴出一张张<code>代码截图</code>的方式其实很低效，所以需要你提供 <code>github上传最新结果</code>）。</li>
<li>接着你必须提供“输出”（输出就是你的<code>浏览器截图</code>，以及你的 <code>rails s</code> log 资料）。</li>
<li>log 有时候很长，为了不洗到频道里的版，请先把 log 贴到 Gist。 </li>
</ul>
<h3>发问之前你可以先这么做</h3>
<ul>
<li>深呼吸，有 bug 是正常，不要慌张。</li>
<li>只字不差地阅读教材，仔细对照自己输入的代码和命令。</li>
<li>读错误信息，错误信息“只是英文”，不是“外星文”。你要说服你自己是看得懂的。</li>
<li>错误信息怎么阅读： 

<ul>
<li>Warning：只是提醒，不是产生 bug 的关键；</li>
<li>Error：错误信息，是 bug 产生的原因。</li>
</ul>
</li>
<li>把 Error 的第一行第二行贴到 Google，看看有没有人已经在 <a href="https://stackoverflow.com" target="_blank">Stackoverflow</a> 问过：

<ul>
<li>通常答案就在上面</li>
</ul>
</li>
</ul>
<h3>为什么你该这样做</h3>
<ul>
<li>虽然大家都乐于助人，但也不是有无限耐心的，他们更愿意能<strong>高效地帮助人</strong>。</li>
<li>有可能你的错误永远都只是在“错误信息”中，而你从来都不曾先看过，那么你的信用就会开始下降。</li>
<li>还没“只字不差地阅读教材”，就直接去问那些教材里已经写得很清楚的事情，将被视为<strong>伸手党</strong>。直接要来答案看似很爽，却丧失了大好的“提取练习”机会。</li>
</ul>

    </div>
  </div></div><div class='frame'><h1>
      [直播回放]4月7日 编程英语
    </h1><h4>所属章节：2-自救教学</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>主讲人：<br>
王秒老师</p>

<p>时间：<br>
4月7日 20:00</p>

<p>时长：<br>
主讲时长约35分钟</p>

<p>概要：<br>
王秒老师带你破解编程中英语这只拦路虎</p>

<p>提示：<br>
需要科学上网才可以正常观看本视频<br>
如果画面模糊请到右下角设置中将画质调整为720p</p>

    </div>
      <script src="//fast.wistia.com/embed/medias/x16o0pgxb8.jsonp" async></script>
<script src="//fast.wistia.com/assets/external/E-v1.js" async></script>
<div class="player-bg">
    <div class="loading-tips">
        <button class="btn btn-default btn-lg">
            <i class="fa fa-spinner fa-spin"></i>
        </button>
        <p>视频文件正在加载，请确保已经打开VPN</p>
    </div>
    <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
        <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
            <div class="wistia_embed wistia_async_x16o0pgxb8 videoFoam=true" style="height:100%;width:100%"> </div>
            <script>
                window._wq = window._wq || [];
                _wq.push({ id: "x16o0pgxb8", onReady: function(video) {
                    window.wistia_video = video;
                        window.wistia_video.time("3162.359873");
                    var url = "/user_wistia_position_records/update_position";
                    var post_id = "518"; 
                    setInterval(function(){                        
                        if (wistia_video.state() === "playing") {
                            var data = {
                                position: wistia_video.time(),
                                post_id: post_id 
                            };                            
                            $.post(url, data);
                        }                        
                    }, 5000);
                }});
            </script>            
        </div>
    </div>
</div>

  </div></div><div class='frame'><h1>
      [直播回放]4月10日 MVP 是如何练成的 xdite  
    </h1><h4>所属章节：2-自救教学</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>主讲人：<br>
xdite</p>

<p>时间：<br>
4月10日 20:00</p>

<p>时长：<br>
本次直播总时长42分钟，其中答疑22分钟</p>

<p>概要：<br>
xdite 讲解 MVP与PMF</p>

<p>提示：<br>
需要科学上网才可以正常观看本视频<br>
如果画面模糊请到右下角设置中将画质调整为720p</p>

<p>谭同学的<a href="http://tanyu-blog.logdown.com/posts/1690915-the-second-class-of-xdite">直播笔记</a></p>

    </div>
      <script src="//fast.wistia.com/embed/medias/1syquc543n.jsonp" async></script>
<script src="//fast.wistia.com/assets/external/E-v1.js" async></script>
<div class="player-bg">
    <div class="loading-tips">
        <button class="btn btn-default btn-lg">
            <i class="fa fa-spinner fa-spin"></i>
        </button>
        <p>视频文件正在加载，请确保已经打开VPN</p>
    </div>
    <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
        <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
            <div class="wistia_embed wistia_async_1syquc543n videoFoam=true" style="height:100%;width:100%"> </div>
            <script>
                window._wq = window._wq || [];
                _wq.push({ id: "1syquc543n", onReady: function(video) {
                    window.wistia_video = video;
                        window.wistia_video.time("2517.926997");
                    var url = "/user_wistia_position_records/update_position";
                    var post_id = "1087"; 
                    setInterval(function(){                        
                        if (wistia_video.state() === "playing") {
                            var data = {
                                position: wistia_video.time(),
                                post_id: post_id 
                            };                            
                            $.post(url, data);
                        }                        
                    }, 5000);
                }});
            </script>            
        </div>
    </div>
</div>

  </div></div><div class='frame'><h1>
      3-1 拆解任务 - Part 1
    </h1><h4>所属章节：3-拆解任务</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>虽说编程是：</p>

<ul>
<li>观察输入是什么，输出是什么；</li>
<li>把大问题拆解成可以实作的小问题；</li>
<li>在实作过程中找到资源；</li>
<li>用电脑自动化解决问题。</li>
</ul>

<p>但是，许多新手（甚至是入门一年左右的程序员），却不是这样学编程的。</p>
<h3>错误学习法 Step 1 — 先学编程语法</h3>
<p>他们是这样开始的。</p>

<ul>
<li>我想要学 Rails。</li>
<li>听说学 Rails 前，要先学 Ruby。</li>
<li>为了怕基础不扎实。先去学「基础 Ruby」，买了许多本 Ruby 初级书。</li>
<li>虽然说学了很多语法，但感觉学了一大技巧还是不知道要做什么。</li>
<li>最后算了，干脆再回去学 Rails。</li>
</ul>
<h3>错误学习法 Step 2 — 误入歧途</h3>
<ul>
<li>在网路上找到了一本入门书。觉得自己会做讨论版了好开心。</li>
<li>但是，发现还是不知道如何「独立」做一个网站。</li>
<li>所以，跑到了程序员聚集的「论坛上面」问……</li>
<li>请问：「怎么做一个购物网站」？</li>
<li>然后帖子冒出了一堆「……」（无言嘘声）、「!@#@%^&amp;##$%&amp;*」（热情的外星文）</li>
</ul>
<h3>错误学习法 Step 3 — 只好自学</h3>
<ul>
<li>因为在网上实在搜不到有效的解答，只好开始自学之路。</li>
<li>开始学习从「论坛」照着自己的想法，进行第一次迁移改成「商店」。

<ul>
<li>首先，先把购物网站规格列出来。</li>
<li>应该是再做 products 的 CRUD。</li>
<li>所以…… <code>rails g controller products</code>
</li>
<li>然后，……</li>
<li>……不行了，我不知道怎么做了……</li>
</ul>
</li>
</ul>
<h3>错误学习法 Step 4 — 掉入坑里，情绪崩溃</h3>
<ul>
<li>好吧，只好先做自己会做的部分。</li>
<li>看起来「会员登入」是很简单的功能，而且用 devise 一下子就做出来了。</li>
<li>瞬间感受到自信心爆棚。</li>
<li>那继续来挑战 wechat 登入吧。</li>
<li>……花了五个小时弄不出来……</li>
<li>崩溃！ ！ ！</li>
</ul>

<p>很多人都笑称以前的学习方法是「从入门到放弃」。</p>

<p>其实，更精确的形容应该是「从入门到崩溃」。</p>

<p>兴致勃勃的入门，结果渐渐发现：</p>

<ul>
<li>自己缺乏大多数基础知识；</li>
<li>不知道怎么问出一个「具体的问题」；</li>
<li>到处掉坑里，老手也不知道怎样救你。</li>
</ul>

<p>其实这真不是你的错。</p>

<p>因为编程是一门很奇特的学问。如果你按照上学时，学一般纸面知识的方式来学编程，谁都会 99% 掉坑的。</p>

<p>这也是我们第一堂课，要帮助大家解决的问题。</p>
<h3>正确学编程，正确做项目</h3>
<p>我们的第一课，就是要教各位如何正确的做项目，如何正确的学编程。你将会在这一课，学到：</p>

<ul>
<li>如何把点子变成简单的软体企划；</li>
<li>怎么把软体企划一步一步执行出来，而不迷路；</li>
<li>不被自己的情绪绊倒。</li>
</ul>

    </div>
  </div></div><div class='frame'><h1>
      3-2 拆解任务  - Part 2
    </h1><h4>所属章节：3-拆解任务</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>在继续进行下去之前，我需要各位去文具店买一包便利贴。</p>

<ul>
<li>请务必买到便利贴后，再继续进行下去；</li>
<li>请不要以其他的形式替代，否则又会掉坑里；</li>
<li>请只字不差的照做。</li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/cSj9AWNiRc6KxNLQ9knQ_post-it.png" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      3-3 拆解任务 - Part 3
    </h1><h4>所属章节：3-拆解任务</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>接下来，我们需要各位做一件事。请各位写下：从起床到公司你会做的 10-15 件事。</p>

<p>一张便贴纸，写一件事。</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/4brWvlGQT1q7PoDJLaNd_WechatIMG1%20(1).jpeg" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      3-4 拆解任务 - Part 4
    </h1><h4>所属章节：3-拆解任务</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>接着，请把你认为目标类似的便利贴放在一组里。</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/HPIbqnuATW6ILyzJ4Sg4_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-12-30%20%E4%B8%8B%E5%8D%885.26.56.png" title=""></figure></p>

<p>叠在一起，如下图所示。</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/GwRyUQJDRNuBYXpsE2Bw_WechatIMG2%20(1).jpeg" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      3-5 拆解任务 - Part 5
    </h1><h4>所属章节：3-拆解任务</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>找出群组的「类似特征」。接着你就会发现，其实这一连串的动作都是有特殊目的的。</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/n0Jt4S2bQ4asSmMWU2SH_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-12-30%20%E4%B8%8B%E5%8D%885.30.29.png" title=""></figure></p>

<p>然后，我们希望各位找到一张大桌面，或者大白纸。切成这四区。</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/oM2ZxEZNSDqXiHrO9soe_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-12-30%20%E4%B8%8B%E5%8D%885.35.53.png" title=""></figure></p>

<p>把便利贴拆开按照你认为的权重，贴进去。</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/uklTnDQTQky23JnMYSmW_WechatIMG3.jpeg" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      3-6 拆解任务  - Part 6
    </h1><h4>所属章节：3-拆解任务</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>接着你会发现，大家的权重是不一样的。</p>
<h4>公事为重</h4>
<p>比如 A 这位朋友，可能就是个公事为重的人，早餐对他来说可能是 Nice to Have</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/VHC55nb6Sb2Slg2yGJTS_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-12-30%20%E4%B8%8B%E5%8D%885.41.49.png" title=""></figure></p>
<h4>保持步调</h4>
<p>比如 B 这位朋友，他认为保持步调，先吃早餐，再去上班才是王道。</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/Tq8hdncHSPiJwUnsKsjs_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-12-30%20%E4%B8%8B%E5%8D%885.41.55.png" title=""></figure></p>
<h4>放一边</h4>
<p>比如 C 这位朋友，显然是个时尚一族。认为花时间打扮，先去跟女友约会，公事其实可以放一边。</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/630mgqE1TZaoujyaBCZg_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-12-30%20%E4%B8%8B%E5%8D%885.42.01.png" title=""></figure></p>
<h3>拆解任务的目的</h3>
<p>这个小作业，其实是让各位体验到：自己在日常生活中，也是懂做项目管理的，甚至是内建在自己的大脑中的。而这个小作业，只是慢动作回放了这个过程而已。</p>

<p>接下来的编程项目，也是可以用这种方式做慢动作回放的。</p>

    </div>
  </div></div><div class='frame'><h1>
      3-7 拆解任务 - Part 7
    </h1><h4>所属章节：3-拆解任务</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>这一课，我们要做的是搭建一个简单的<strong>招聘网站</strong>，请按照前面介绍过的方式。</p>

<ul>
<li>写下 7-10 件你觉得需要做的功能；</li>
<li>整理出目的群组；</li>
<li>按照 Must Have / Should Have / Could Have / Nice to Have 整理出一张图。</li>
</ul>

    </div>
  </div></div><div class='frame'><h1>
      4-1 用户故事 - Part 1
    </h1><h4>所属章节：4-用户故事</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h3>Must Have / Should Have</h3>
<p>当你写过一轮功能之后，会发现最后留下的 Must Have / Should Have，应该只剩下这四大部分。</p>

<ul>
<li>张贴系统 - 公司，撰写工作需求</li>
<li>观看机制 - 应征者，过滤理想工作</li>
<li>应征系统 - 应征者， 可以上传简历</li>
<li>管理系统 - 管理员可以删除隐藏工作</li>
</ul>

<p>接着我们可以用最慢的镜头，再拆解一次，发现整个系统里面有三个角色：</p>

<ul>
<li>张贴系统 - <code>公司</code>，撰写工作需求</li>
<li>观看机制 - <code>应征者</code>，过滤理想工作</li>
<li>应征系统 - <code>应征者</code>, 可以上传简历</li>
<li>管理系统 - <code>管理员</code>可以删除隐藏工作</li>
</ul>
<h3>找出角色</h3>
<ul>
<li>公司</li>
<li>应征者</li>
<li>管理员</li>
</ul>

<p>然而，一个系统里面若有三个角色，有些太复杂了。</p>

<p>我们可以将现在要做的这个招聘系统，设定为公司内部自己要用的招聘系统。那么角色就会只剩下两个而已：</p>

<ul>
<li>公司 = 管理员</li>
<li>应征者</li>
</ul>
<h3>只有两个角色的系统</h3>
<p>让我们再重新整理一遍，需求最后会变成：</p>

<ul>
<li>张贴系统 - 管理员，撰写需求</li>
<li>管理系统 - 管理员，可以编辑删除隐藏工作</li>
<li>观看机制 - 应征者，过滤理想工作</li>
<li>应征系统 - 应征者, 可以上传简历</li>
</ul>

    </div>
  </div></div><div class='frame'><h1>
      4-2 用户故事 - Part 2
    </h1><h4>所属章节：4-用户故事</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>接下来，我们要来介绍一个新工具：User Story 用户故事。</p>
<h3>User Story 用户故事</h3>
<p>用户故事是进行软件开发时，常用的一个基本工具。</p>

<p>当我们在进行一个实体项目时，常常被许多需求压到喘不过气。有时候做太多、有时候做太少、有时候做歪。用户故事就是用来解决这些事情的。</p>

<p>用户故事的主张就是我们应该：</p>

<ul>
<li>以「角色」的观点</li>
<li>理清会发生的「故事」</li>
<li>以解决或达到某种「效果」</li>
</ul>
<h3>用户故事的格式</h3>
<p>所以用户故事是这样的：</p>

<blockquote>
<p>身为「某角色」，会做「某事」，以完成「某商业价值」</p>
</blockquote>

<p>如果以「招聘系统」为例的话，用户故事大概就会是这样：</p>

<ul>
<li>身为管理员，可以张贴职缺，以达到招募人才的需求；</li>
<li>身为应征者，可以筛选职缺，以达到「筛选到自己心仪薪资水准的工作」；</li>
<li>……</li>
</ul>

<p>一般来说，小型专案初始项目约在 20-30 条，中型项目约 100 条。</p>
<h3>为什么要使用 User Story 整理系统需求</h3>
<p>这是因为如果使用 User Story，从用户的角度出发去思考，以角色为中心去叙述未来会发生什么事情。那么整个项目的视野，瞬间就会变得非常聚焦，所有功能都是「各角色所需要的关键功能」。</p>

<p>也不会花了一堆时间，按照「规格」完善了自己认为的关键功能，却少了全局观。</p>
<h3>常见的项目失败的例子</h3>
<p>比如说像我们以前在开发项目时，最常出现的状况是：客户在规格上说项目要有订单系统，而开发组老老实实做了给「一般用户」用的订单系统。</p>

<p>但在结案最后一刻，客户却说：「你们怎么那么不专业呢？后台订单系统你们都没做，至少还需要出货功能、对账功能、物流系统啊！这些不都是你们应该想得到的吗？」</p>

<p>整个系统复杂度瞬间暴增 10 倍。</p>

<p>但是如果你若不完成，客户就扬言不给尾款，甚至告你……</p>
<h3>失败的原因 ——「角色」</h3>
<p>这是因为多数的开发者，常只顾着开发「规格上的东西」。</p>

<p>而忽略了「系统是要给人用的」，没有问清楚这个系统里面有多少个「角色」。</p>

<blockquote>
<p>「角色」正是系统的复杂度关键。</p>
</blockquote>

<p>通常来说，每多一个「角色」，系统复杂度就会多上一个「次方」。不得不谨慎。</p>

<p>这也是为什么我们要在这一课当中，削减「角色」数量的原因。</p>

    </div>
  </div></div><div class='frame'><h1>
      4-3 用户故事 - Part 3
    </h1><h4>所属章节：4-用户故事</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>在这一课，我们要请各位拿出</p>

<ul>
<li>一本全白的笔记本</li>
<li>一支蓝笔</li>
<li>一支绿笔</li>
</ul>

<p>跟着我这样做。</p>

<p>（ 请千万不要跳过这个步骤。我们需要各位真的也照着写下来，才会记住这个方法。）</p>

<p>把第一版用户故事写下来。 </p>

<p>（请跟着照抄，如图所示）</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/kpIWIP0uTVWR2pp8i2mz_WechatIMG2.jpeg" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      4-4 用户故事 - Part 4
    </h1><h4>所属章节：4-用户故事</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>接着把「角色」圈起来。</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/H0SsbriIRbKlFLm4IXhf_WechatIMG3.jpeg" title=""></figure></p>

<p>然后，我们发现了这个系统内有两个角色：</p>

<ul>
<li>管理员</li>
<li>应征者</li>
</ul>

<p>在第一周，我们会优先实作「管理员」这个角色。</p>

    </div>
  </div></div><div class='frame'><h1>
      4-5 用户故事 - Part 5
    </h1><h4>所属章节：4-用户故事</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>接着我们写下「管理员」所需要做的事。</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/StZ739sTRheF1gm4heDY_WechatIMG4.jpeg" title=""></figure></p>

<p>在哪里做这些事呢？在<code>后台</code>。</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/VigtT0YQh6ooXF4ZQaKw_WechatIMG5.jpeg" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      4-6 用户故事 - Part 6 
    </h1><h4>所属章节：4-用户故事</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>职缺需求有哪些栏位呢？</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/RBgHAmIcQY6THy0Ikzz0_WechatIMG6.jpeg" title=""></figure></p>

<p>有以下这一些(请务必手写练习)</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/OqVlmQBQQeS625RPAYql_WechatIMG7.jpeg" title=""></figure></p>
<h3>职缺</h3>
<p>然后我们就会发现，我们需要一个 Job 的 model。里面要包含</p>

<ul>
<li>标题</li>
<li>内容</li>
<li>薪资上限</li>
<li>薪资下限</li>
<li>联系方式</li>
<li>隐藏/显示</li>
</ul>
<h3>后台</h3>
<p>而后台的设计，需要一个 User 的 model。而 user model 需要</p>

<ul>
<li>admin 身份登记</li>
<li>能够有 登入/登出 功能</li>
</ul>

    </div>
  </div></div><div class='frame'><h1>
      4-7 用户故事 - Part 7
    </h1><h4>所属章节：4-用户故事</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>然后我们就得出了最后一个可以实作的版本：</p>

<ul>
<li>身为管理者，我可以新增职缺需求；

<ul>
<li>包括「标题」「内容」「薪资上限」「薪资下限」「联系方式」</li>
</ul>
</li>
<li>身为管理者，我可以编辑、删除、隐藏职缺需求 （在后台）；</li>
<li>身为使用者，我必须「登入」才能申请职缺；</li>
<li>身为使用者，我必须要有「admin 身份标识」才能进入后台。</li>
</ul>

    </div>
  </div></div><div class='frame'><h1>
      5-1 Fork 教学
    </h1><h4>所属章节：5-招聘网站 - 实作</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h3>Step 0: 登录GitHub</h3>
<p>首先确认已经登录你的GitHub账户</p>
<h3>Step 1: Fork 专案</h3>
<p>到 <a href="https://github.com/quanzhanying/job-listing" rel="nofollow" target="_blank">https://github.com/quanzhanying/job-listing</a> 去 Fork 专案，点击Fork图标：<br>
<figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/Vh5VAdoFTkW9nfT0iSnZ_Snip20170103_11.png" title=""></figure></p>

<p><br></p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/vxc5QDhiThy8lphu0kbA_step-2-fork-result.png" title=""></figure></p>

<p><br></p>

<p>点选 Clone or Download 取得自己的 clone url，并复制到剪贴簿。</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/aTiQc6aTMKu1Xi6HYJwo_step-3-copy-to-pb.png" title=""></figure></p>

<p><br></p>
<h3>Step 2 : 在本机上跑起来</h3>
<ul>
<li>clone 你 fork 的 job-listing 专案到本地</li>
<li>复制 database.yml.example</li>
<li>git checkout version-1</li>
</ul>

<p>跑起来。具体指令如下：</p>

<p><code>git clone git@github.com:XXXXX/job-listing.git</code>   （XXXXX 是你的 github 用户名）<br>
<code>cd job-listing</code><br>
<code>git checkout -b version-1</code><br>
<code>cp config/database.yml.example config/database.yml</code><br>
<code>bundle check</code><br>
<code>bundle install</code><br>
<code>rails s</code></p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/JubtC5fT2mTKVi1it4A8_step-4-clone-to-local.png" title=""></figure></p>

<p>如果你在执行<code>bundle check</code>遇到了如下画面，出现红字提醒说有 gems missing。不用紧张，这只是 check 了以后发现还有一些 gem 没有安装，继续执行<code>bundle install</code>就能把他们补全。</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/CH0oDSCMQM6sSVYs7ToK_missing.png" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      5-2 Pull Request 教学
    </h1><h4>所属章节：5-招聘网站 - 实作</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h3>Step 1: 对 README.md 做一些修改</h3>
<p>在Job-listing的专案下在终端机输入<br>
<code>atom README.md</code></p>

<p>打开画面如下：<br>
<figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/RmEzq63DRSuibBtQQHQ3_README1.md.png" title=""></figure></p>

<p>替换成如下样子(或任何其他的内容)<br>
<figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/E8PhH4leRIqNa77qsi5q_README2.md.png" title=""></figure></p>

<p><br></p>
<h3>STEP 2: 存档并 push 到 Github 上</h3>
<p><code>git add .</code><br>
<code>git commit -m "first week"</code><br>
<code>git push origin version-1</code></p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/3I7TpVUqRqGHpDF53dnv_git_push.png" title=""></figure></p>

<p><br></p>
<h3>STEP 3: 拉 pull request</h3>
<p>打开你的 Github 页面<br>
<figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/v9DBK7hWSK6I07PqEUsB_Snip20170103_14.png" title=""></figure></p>

<p><br></p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/tvtDoO40RP2RDrzhdvjx_pull%20request.png" title=""></figure></p>

<p><br></p>
<h3>STEP 4: 复制网址交作业</h3>
<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/DuCf3nZ9S2S1NDgFcCvZ_Snip20170103_15.png" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      操作示范视频 - Fork &amp; Pull Request 
    </h1><h4>所属章节：5-招聘网站 - 实作</h4><hr><div class="post group">
    <div class="post-content markdown">
      <blockquote>
<p>提示：</p>

<ol>
<li>需要科学上网才可以正常观看本视频；</li>
<li>如果画面模糊请到右下角设置中将画质调整为720p。
<br>
</li>
</ol>
</blockquote>

<p>補充：</p>
<h5>Fork &amp; Pull Request 補充</h5>
<p>Fork 的翻译是叉子，其原意是形容将你盘子的牛肉叉一块过来我这，就如同 Repo 一样，复制一份来我这，如果要对他人的 Repo 进行修改或是建议的话，参考以下流程：</p>

<ol>
<li>先 Fork 过来，并且切换新的分支(Branch)</li>
<li>将新的 commit 推送到远程代码仓库(git push origin 新的Branch)</li>
<li>到自己或对方的专案提交 Pull Request</li>
</ol>

<p>Pull Request 的意思就是，我提交了我的程式码建议，希望能合并到你的专案内容，这个流程是现今大多共同协作开发的模式，甚至好用的套件都会有相当多贡献者，而这些贡献者不一定与专案持有者认识，但通常是志同道合想一起让程序界更好的程序员们</p>

<p><br></p>

    </div>
      <script src="//fast.wistia.com/embed/medias/u48wm157ld.jsonp" async></script>
<script src="//fast.wistia.com/assets/external/E-v1.js" async></script>
<div class="player-bg">
    <div class="loading-tips">
        <button class="btn btn-default btn-lg">
            <i class="fa fa-spinner fa-spin"></i>
        </button>
        <p>视频文件正在加载，请确保已经打开VPN</p>
    </div>
    <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
        <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
            <div class="wistia_embed wistia_async_u48wm157ld videoFoam=true" style="height:100%;width:100%"> </div>
            <script>
                window._wq = window._wq || [];
                _wq.push({ id: "u48wm157ld", onReady: function(video) {
                    window.wistia_video = video;
                        window.wistia_video.time("306.527853");
                    var url = "/user_wistia_position_records/update_position";
                    var post_id = "535"; 
                    setInterval(function(){                        
                        if (wistia_video.state() === "playing") {
                            var data = {
                                position: wistia_video.time(),
                                post_id: post_id 
                            };                            
                            $.post(url, data);
                        }                        
                    }, 5000);
                }});
            </script>            
        </div>
    </div>
</div>

  </div></div><div class='frame'><h1>
      5-3 招聘网站 - 实作提示
    </h1><h4>所属章节：5-招聘网站 - 实作</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>其实到这里，我们就已经把步骤拆的和「中级练习」（Rails101 部分）非常的相似，也非常的简单。</p>

<ul>
<li>身为管理者，我可以新增职缺需求；

<ul>
<li>包括「标题」「内容」「薪资上限」「薪资下限」「联系方式」</li>
</ul>
</li>
<li>身为管理者，我可以编辑、删除、隐藏职缺需求 （在后台）；</li>
<li>身为使用者，我必须「登入」才能发表职缺；</li>
<li>身为使用者，我必须要有「admin 身份注记」才能进入后台。</li>
</ul>

<p>如果同学们对中级练习非常熟悉的话，步骤其实是这样的：</p>
<h3>Step 1</h3>
<ul>
<li>套上 Bootstrap 页面</li>
<li>安装 simple_form</li>
<li>安装 devise （须做到可以登入 / 登出）</li>
</ul>
<h3>Step 2</h3>
<ul>
<li>实作 Job 的 CRUD （ JobsController )</li>
<li>先只开 Job 的 title, description</li>
<li>（最小可行性界面）</li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/RAAwMyqLQNyceRq3WJ42_Screenshot%20at%20Mar%2030%2021-05-24.png" title=""></figure></p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/LOl3neiYS7KeNi2mRrFb_Screenshot%20at%20Mar%2030%2021-09-08.png" title=""></figure></p>
<h3>Step 3 - 1</h3>
<ul>
<li>要新增 / 修改 / 删除 Job 必须得登入</li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/tx8XVqaTLyw7MOnoLsZX_Screenshot%20at%20Mar%2030%2021-10-11.png" title=""></figure></p>
<h3>Step 3 - 2</h3>
<ul>
<li>实作 Job 的 Admin 的 CRUD，在 admin/jobs</li>
<li>下拉选单要有一个链接可以到 admin_jobs_path</li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/zEKvrQnTUmtUIJzkqOWF_Screenshot%20at%20Mar%2030%2022-37-10.png" title=""></figure></p>
<h3>Step 3 - 3</h3>
<ul>
<li>在 admin / jobs 皆需要先过 require_is_admin 才能进入，否则回去首页</li>
<li>定义一个条件 admin? 判断是否是 admin</li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/JuUxKk1GTB2SwvbIRCFI_Screenshot%20at%20Mar%2030%2022-38-26.png" title=""></figure></p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/H21VBjyxQhOFhDmYmaxc_Screenshot%20at%20Feb%2010%2017-25-54.png" title=""></figure></p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/Mb1WLgUpTYSbPlREGY5k_p7.png" title=""></figure></p>
<h3>Step 3 - 4</h3>
<ul>
<li>新增「薪资上限」与「薪资下限」、「联络方式」

<ul>
<li>wage_upper_bound</li>
<li>wage_lower_bound</li>
<li>contact_email</li>
</ul>
</li>
<li>「薪资上限」、「薪资下限」不得为空</li>
<li>「薪资」必须是数字</li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/Pe9CdPDlQRWfg63tyrUC_p8.png" title=""></figure></p>
<h3>Step 3 - 5</h3>
<ul>
<li>管理者可以设定职缺是否在前台隐藏</li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/1bXq77YSkeGSzGMMH4nL_p9.png" title=""></figure></p>
<h3>Step 3 - 6</h3>
<ul>
<li>被设为隐藏的职缺，是不可以在前台看到的。</li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/2fM4PmLpTEy3axCXw7AG_p10.png" title=""></figure></p>
<h3>Step 4</h3>
<ul>
<li>首页职缺应该按照发表时间顺序</li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/iPNrO2QJRZe3woCqz61V_p11.png" title=""></figure></p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/FK2fwoJySGmlQfjcPvb8_p12.png" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      5-4 招聘网站 - 代码提示
    </h1><h4>所属章节：5-招聘网站 - 实作</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h3>示范程式码网址：</h3>
<p><a href="https://github.com/xdite/job-listing" rel="nofollow" target="_blank">https://github.com/xdite/job-listing</a></p>

<p><br></p>
<h3>方向一：如何做出 <code>require_is_admin?</code>
</h3>
<h4>用 <code>before_action</code> 做出 限制 （先使用 email ）</h4>
<p><a href="https://github.com/xdite/job-listing/commit/804ea8d1fcf30b11f9d072b097ff2ee93bb92017" rel="nofollow" target="_blank">https://github.com/xdite/job-listing/commit/804ea8d1fcf30b11f9d072b097ff2ee93bb92017</a></p>

<p><br></p>
<h4>然后把条件搬到 user model</h4>
<p><a href="https://github.com/xdite/job-listing/commit/bba8c16b48718f86b613229f6824ebbb49612cb2" rel="nofollow" target="_blank">https://github.com/xdite/job-listing/commit/bba8c16b48718f86b613229f6824ebbb49612cb2</a></p>

<p><br></p>
<h4>再把 条件改为 is_admin 栏位</h4>
<p><a href="https://github.com/xdite/job-listing/commit/5f7302da10088a8fe60ba4cc3aac8447122e47f4" rel="nofollow" target="_blank">https://github.com/xdite/job-listing/commit/5f7302da10088a8fe60ba4cc3aac8447122e47f4</a><br>
<a href="https://github.com/xdite/job-listing/commit/cb0ef1b5994f38da0fb585e2eff4adf49cb967f4" rel="nofollow" target="_blank">https://github.com/xdite/job-listing/commit/cb0ef1b5994f38da0fb585e2eff4adf49cb967f4</a></p>

<p>这时候可以去 rails console 里面把当初的 user 改为 admin</p>

<figure class="figure-code code"><figcaption><span>
</span></figcaption><div class="highlight"><pre><span class="n">u</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">first</span>
<span class="n">u</span><span class="p">.</span><span class="nf">is_admin</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">u</span><span class="p">.</span><span class="nf">save!</span>
</pre></div>
</figure>

<p><br></p>
<h4>再把 require_is_admin 搬到 application_controller</h4>
<p><a href="https://github.com/xdite/job-listing/commit/7ae248298d898be9ee13c1361abde942a1118b5a" rel="nofollow" target="_blank">https://github.com/xdite/job-listing/commit/7ae248298d898be9ee13c1361abde942a1118b5a</a></p>

<p><br></p>
<h3>方向二：薪资必须要是数字</h3>
<h4>在 model 里面限制</h4>
<p><a href="https://github.com/xdite/job-listing/commit/99bdfd5dfbc89cf1e1cc6aa8a3b297522cc7687e" rel="nofollow" target="_blank">https://github.com/xdite/job-listing/commit/99bdfd5dfbc89cf1e1cc6aa8a3b297522cc7687e</a></p>

<p><br></p>
<h3>方向三：前台只能看到公开的职缺</h3>
<p><a href="https://github.com/xdite/job-listing/commit/c7b86bd3199740dcaa9c9251cec745e38a5e4966" rel="nofollow" target="_blank">https://github.com/xdite/job-listing/commit/c7b86bd3199740dcaa9c9251cec745e38a5e4966</a></p>

<p><br></p>
<h3>方向四：前台必须按照更新时间倒序排列</h3>
<p><a href="https://github.com/xdite/job-listing/commit/fb97a5d66cf434e0ff06234abd8ffa6cb204413a" rel="nofollow" target="_blank">https://github.com/xdite/job-listing/commit/fb97a5d66cf434e0ff06234abd8ffa6cb204413a</a></p>

    </div>
  </div></div><div class='frame'><h1>
      5-5 招聘网站 - 学习方法
    </h1><h4>所属章节：5-招聘网站 - 实作</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>在这里我们分成两套学习方法，提供给同学们使用。</p>
<h3>还未牛逼的同学</h3>
<p>还是觉得一头懵的同学，请你直接看解答。</p>

<ul>
<li>第一遍参考教材贴一遍代码（注意观察输入什么会输出什么）</li>
<li>第二遍参考教材手动输入每一个代码（注意拼写之类的报错，自己debug）</li>
<li>第三遍参考教材再次手动输入每一个代码（注意观察Rails的框架）</li>
</ul>

<blockquote>
<p>备注：<br>
①如果你准备做第二遍，请参考这篇帮助文档<a href="http://docs.qzy.camp/docs/github-job-listing-2" target="_blank">利用Github 做第二遍作业</a>。<br>
②如果你准备做第三遍，请不要特意去背诵后缀为 html.erb 文件里的代码。需要背诵的只有 app/controllers/xxx.rb 里的 CRUD。</p>
</blockquote>
<h3>牛逼的同学</h3>
<p>课前已经觉得中级练习很简单的牛逼同学，请你直接按照提示，看着中级练习实作出来。</p>

<p><br></p>
<h4>10.12系统的同学请注意</h4>
<p>请在 git clone 完成以后进入专案，把 Gemfile 里的两个 spring gem 注释掉。<br>
具体可以参考 <a href="http://docs.qzy.camp/docs/sierra" target="_blank">macOS 10.12 排 Bug 指南</a>。</p>

<p><br></p>
<h4>动图制作</h4>
<p>本课作业需要提交动图。制作方法，请查阅下一页 <a href="https://fullstack.xinshengdaxue.com/posts/539" target="_blank">5-6 使用 LICEcap Demo 演示网页（录制成gif动画）</a>。</p>

    </div>
  </div></div><div class='frame'><h1>
      5-6 使用 LICEcap Demo 演示网页（录制成gif动画）
    </h1><h4>所属章节：5-招聘网站 - 实作</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>LICEcap 是一个动图录制软件，可以将屏幕区域录制成 gif 动图文件以便发布。</p>

<p>之后我们需要使用 LICEcap 录制 gif 动图来提交作业。</p>

<p>前往 <a href="http://www.cockos.com/licecap/" rel="nofollow" target="_blank">http://www.cockos.com/licecap/</a></p>

<p>下载LICEcap并安装： </p>

<p><a href="http://www.cockos.com/licecap/licecap125.dmg" rel="nofollow" target="_blank">http://www.cockos.com/licecap/licecap125.dmg</a> (目前最新版)</p>

<p>(官方动图教程: <a href="http://www.cockos.com/licecap/how_to_licecap.gif" rel="nofollow" target="_blank">http://www.cockos.com/licecap/how_to_licecap.gif</a> )</p>

    </div>
  </div></div><div class='frame'><h1>
      6-0（解答）穿衣服（以下内容无需记忆）
    </h1><h4>所属章节：6-招聘网站 - （管理员）解答</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>Part 1 安装 Bootstrap</h2>
<h3>Step 1. 帮专案穿上衣服 Bootstrap，挂上 bootstrap-sass 这个 gem</h3>
<p>Bootstrap 是 Web 设计圈有名的 CSS 框架，提供了开发专案快速便捷的元件素材。如按钮、下拉选单、表格等等样式。</p>

<p>在 Rails 上要帮专案穿上 Bootstrap，用的是 <code>bootstrap-sass</code> 这个套件。</p>

<p>修改 Gemfile，在 <code>group :development, :test do</code> 前一行加入 <code>gem 'bootstrap-sass'</code></p>

<figure class="figure-code code"><figcaption><span>Gemfile
</span></figcaption><div class="highlight"><pre><span class="gi">+  gem 'bootstrap-sass'
</span>
<span class="err">   group :development, :test do
</span></pre></div>
</figure>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/h5XvJCjtRYqcauTwQyds_bootstrap.png" title=""></figure></p>

<p><br></p>
<h3>Step 2. bundle install</h3>
<p>执行 <code>bundle install</code></p>

<p>(注意：修改完 Gemfile 都要执行 bundle install）</p>

<p><br></p>
<h3>Step 3. 将 Bootstrap 的 CSS 套件装进专案里面</h3>
<p>输入</p>

<figure class="figure-code code"><div class="highlight"><pre>mv app/assets/stylesheets/application.css app/assets/stylesheets/application.scss
</pre></div>
</figure>

<p>将 <code>application.css</code> 更名为 <code>application.scss</code></p>

<p>然后修改内容加入这两行：</p>

<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss
</span></figcaption><div class="highlight"><pre><span class="cm">/*
 * ...(一堆注解)
 *= require_tree .
 *= require_self
 */</span>

<span class="k">@import</span> <span class="s2">"bootstrap-sprockets"</span><span class="p">;</span>
<span class="k">@import</span> <span class="s2">"bootstrap"</span><span class="p">;</span>
</pre></div>
</figure>

<p><br></p>
<h3>Step 4. 将变更 commit 进去 git 里面。</h3>
<figure class="figure-code code"><div class="highlight"><pre>git add .
git commit -m "add bootstrap to project"
</pre></div>
</figure>

<p><br></p>
<h2>Part 2 增加样式</h2>
<h3>Step 1. 新增 app/views/common 资料夹</h3>
<p><code>mkdir app/views/common</code></p>
<h3>Step 2. 新增 navbar</h3>
<p><code>touch app/views/common/_navbar.html.erb</code></p>

<p>填入</p>

<figure class="figure-code code"><figcaption><span>app/views/common/_navbar.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">"navbar navbar-default"</span> <span class="na">role=</span><span class="s">"navigation"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container-fluid"</span><span class="nt">&gt;</span>
        <span class="c">&lt;!-- Brand and toggle get grouped for better mobile display --&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"navbar-header"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"navbar-brand"</span> <span class="na">href=</span><span class="s">"/"</span><span class="nt">&gt;</span>Job Listing <span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="c">&lt;!-- Collect the nav links, forms, and other content for toggling --&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"collapse navbar-collapse"</span> <span class="na">id=</span><span class="s">"bs-example-navbar-collapse-1"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"nav navbar-nav navbar-right"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;li&gt;</span>
                    <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"登入"</span><span class="p">,</span> <span class="s1">'#'</span><span class="p">)</span> <span class="cp">%&gt;</span>
                <span class="nt">&lt;/li&gt;</span>
            <span class="nt">&lt;/ul&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="c">&lt;!-- /.navbar-collapse --&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="c">&lt;!-- /.container-fluid --&gt;</span>
<span class="nt">&lt;/nav&gt;</span>


</pre></div>
</figure>

<p><br></p>
<h3>Step 3. 新增 footer</h3>
<p><code>touch app/views/common/_footer.html.erb</code></p>

<p>填入</p>

<figure class="figure-code code"><figcaption><span>app/views/common/_footer.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;footer</span> <span class="na">class=</span><span class="s">"container"</span> <span class="na">style=</span><span class="s">"margin-top: 100px;"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"text-center"</span><span class="nt">&gt;</span>Copyright ©2016 Rails101
        <span class="nt">&lt;br&gt;</span>Design by yourname
        
    <span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/footer&gt;</span>

</pre></div>
</figure>

<p><br></p>
<h3>Step 4. 修改全域 HTML 样式 application.html.erb</h3>
<figure class="figure-code code"><figcaption><span>app/views/layouts/application.html.erb
</span></figcaption><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Job Listing <span class="nt">&lt;/title&gt;</span>
        <span class="cp">&lt;%=</span> <span class="n">csrf_meta_tags</span> <span class="cp">%&gt;</span>

        <span class="cp">&lt;%=</span> <span class="n">stylesheet_link_tag</span>    <span class="s1">'application'</span><span class="p">,</span> <span class="ss">media: </span><span class="s1">'all'</span><span class="p">,</span> <span class="s1">'data-turbolinks-track'</span><span class="p">:</span> <span class="s1">'reload'</span> <span class="cp">%&gt;</span>
        <span class="cp">&lt;%=</span> <span class="n">javascript_include_tag</span> <span class="s1">'application'</span><span class="p">,</span> <span class="s1">'data-turbolinks-track'</span><span class="p">:</span> <span class="s1">'reload'</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/head&gt;</span>

    <span class="nt">&lt;body&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container-fluid"</span><span class="nt">&gt;</span>
            <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s2">"common/navbar"</span> <span class="cp">%&gt;</span>
            <span class="cp">&lt;%=</span> <span class="k">yield</span> <span class="cp">%&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s2">"common/footer"</span> <span class="cp">%&gt;</span>

    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</pre></div>
</figure>

<p><br></p>
<h3>Step 5. 产生一个新的空 Hello World 页面 （放在 welcome#index)</h3>
<ul>
<li>新增一个 welcome controller</li>
</ul>

<p><code>rails g controller welcome</code></p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/kYNRc151TyCxTdv1FCpS_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-11%20%E4%B8%8A%E5%8D%882.04.25.png" title=""></figure></p>

<ul>
<li>新增一个空的 HelloWorld 页面</li>
</ul>

<p><code>touch app/views/welcome/index.html.erb</code></p>

<p>填入</p>

<figure class="figure-code code"><figcaption><span>app/views/welcome/index.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;h1&gt;</span> Hello World! <span class="nt">&lt;/h1&gt;</span>
</pre></div>
</figure>

<p><br></p>
<h3>Step 6. 将首页指到 welcome 下的 index.html.erb 页面</h3>
<p>修改 <code>config/routes.rb</code>，改成以下内容</p>

<figure class="figure-code code"><figcaption><span>config/routes.rb
</span></figcaption><div class="highlight"><pre><span class="no">Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">routes</span><span class="p">.</span><span class="nf">draw</span> <span class="k">do</span>
  <span class="n">root</span> <span class="s1">'welcome#index'</span>
<span class="k">end</span>
</pre></div>
</figure>

<p><br></p>
<h3>Step 7. git 进度存档</h3>
<p><code>git add .</code><br>
<code>git commit -m "add bootstrap html"</code></p>

<p><br></p>
<h3>Step 8. 重开 Rails Server</h3>
<p><code>rails s</code></p>

<p><br></p>
<h2>Part 3 增加 flash 功能</h2>
<h3>Step 1. 将 Bootstrap 的 js 提示套件 bootstrap/alert “挂”进专案里面</h3>
<p>在 <code>require_tree</code> 上加入 <code>//= require bootstrap/alert</code></p>

<figure class="figure-code code"><figcaption><span>app/assets/javascripts/application.js
</span></figcaption><div class="highlight"><pre>... (一堆注解)
//= require jquery
//= require jquery_ujs
//= require turbolinks
<span class="gi">+//= require bootstrap/alert
</span><span class="err">//= require_tree .
</span></pre></div>
</figure>

<p><br></p>
<h3>Step 2. 新增 app/views/common/_flashes.html.erb</h3>
<p><code>touch app/views/common/_flashes.html.erb</code></p>

<p>填入</p>

<figure class="figure-code code"><figcaption><span>app/views/common/_flashes.html.erb
</span></figcaption><div class="highlight"><pre><span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">flash</span><span class="p">.</span><span class="nf">any?</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%</span> <span class="n">user_facing_flashes</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">|</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"alert alert-dismissable alert-</span><span class="cp">&lt;%=</span> <span class="n">flash_class</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"close"</span> <span class="na">data-dismiss=</span><span class="s">"alert"</span><span class="nt">&gt;</span>×<span class="nt">&lt;/button&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">value</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</pre></div>
</figure>  

<p><br></p>
<h3>Step 3. 加入 app/helpers/flashes_helper.rb</h3>
<p><code>touch app/helpers/flashes_helper.rb</code></p>

<p>加入以下内容：</p>

<figure class="figure-code code"><figcaption><span>app/helpers/flashes_helper.rb
</span></figcaption><div class="highlight"><pre><span class="k">module</span> <span class="nn">FlashesHelper</span>
  <span class="no">FLASH_CLASSES</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">alert: </span><span class="s2">"danger"</span><span class="p">,</span> <span class="ss">notice: </span><span class="s2">"success"</span><span class="p">,</span> <span class="ss">warning: </span><span class="s2">"warning"</span><span class="p">}.</span><span class="nf">freeze</span>

  <span class="k">def</span> <span class="nf">flash_class</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="no">FLASH_CLASSES</span><span class="p">.</span><span class="nf">fetch</span> <span class="n">key</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">,</span> <span class="n">key</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">user_facing_flashes</span>
    <span class="n">flash</span><span class="p">.</span><span class="nf">to_hash</span><span class="p">.</span><span class="nf">slice</span> <span class="s2">"alert"</span><span class="p">,</span> <span class="s2">"notice"</span><span class="p">,</span><span class="s2">"warning"</span> 
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</figure>

<p><br></p>
<h3>Step 4. 在 application.html.erb 内加入 flash 这个 partial</h3>
<p>在 <code>&lt;%= yield %&gt;</code> 前加入 <code>&lt;%= render "common/flashes" %&gt;</code></p>

<figure class="figure-code code"><figcaption><span>app/views/layouts/application.html.erb
</span></figcaption><div class="highlight"><pre>  <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s2">"common/flashes"</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%=</span> <span class="k">yield</span> <span class="cp">%&gt;</span>
</pre></div>
</figure>      

<p><br></p>
<h3>Step 5. git 存档</h3>
<figure class="figure-code code"><div class="highlight"><pre>git add .
git commit -m "add bootstrap flash function"
</pre></div>
</figure>

<p><br></p>
<h3>Step 6: 测试 flash helper 的功能</h3>
<p>修改 <code>app/controllers/welcome_controller.rb</code>。加入 <code>flash[:notice] = "早安！你好！"</code>。你应该可以看到系统跳出“绿色”提示窗。</p>

<figure class="figure-code code"><figcaption><span>app/controllers/welcome_controller.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">WelcomeController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">index</span>
    <span class="n">flash</span><span class="p">[</span><span class="ss">:notice</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"早安！你好！"</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</figure>

<p><br></p>
<h2>Part 4 : 安装 Devise</h2>
<h3>Step 1: 安装登入系统</h3>
<p>Devise 是 Rails 里热门的一个 gem，专门用来快速实作“登入系统”。在这一节我们会用 devise 实作登入功能。</p>

<p>Gemfile 新增一行 <code>gem 'devise'</code></p>

<figure class="figure-code code"><figcaption><span>Gemfile
</span></figcaption><div class="highlight"><pre><span class="n">gem</span> <span class="s1">'devise'</span>
</pre></div>
</figure>
    

<p>然后执行</p>

<figure class="figure-code code"><div class="highlight"><pre>bundle install
</pre></div>
</figure>

<p><br></p>
<h3>Step 2 : 产生会员系统的必要档案</h3>
<p>执行</p>

<figure class="figure-code code"><div class="highlight"><pre>rails g devise:install
rails g devise user
rake db:migrate
</pre></div>
</figure>

<p><br></p>
<h3>Step 3: 修改 app/views/common/_navbar.html.erb</h3>
<figure class="figure-code code"><figcaption><span>app/views/common/_navbar.html.erb
</span></figcaption><div class="highlight"><pre><span class="gd">-                &lt;li&gt; &lt;%= link_to("登入", '#') %&gt;   &lt;/li&gt;
</span><span class="gi">+                &lt;% if !current_user %&gt;
+                  &lt;li&gt;&lt;%= link_to("注册", new_user_registration_path) %&gt; &lt;/li&gt;
+                  &lt;li&gt;&lt;%= link_to("登入", new_user_session_path) %&gt;&lt;/li&gt;
+                &lt;% else %&gt;
+                  &lt;li class="dropdown"&gt;
+                    &lt;a href="#" class="dropdown-toggle" data-toggle="dropdown"&gt;
+                        Hi!, &lt;%= current_user.email %&gt;
+                        &lt;b class="caret"&gt;&lt;/b&gt;
+                    &lt;/a&gt;
+                    &lt;ul class="dropdown-menu"&gt;
+                        &lt;li&gt; &lt;%= link_to("登出", destroy_user_session_path, method: :delete) %&gt; &lt;/li&gt;
+                    &lt;/ul&gt;
+                  &lt;/li&gt;
</span><span class="err">+                &lt;% end %&gt;
</span></pre></div>
</figure>

<p><br></p>
<h3>Step 4: 修改 app/assets/javascripts/application.js</h3>
<p>加入 <code>//= require bootstrap/dropdown</code></p>

<figure class="figure-code code"><figcaption><span>app/assets/javascripts/application.js
</span></figcaption><div class="highlight"><pre>//= require bootstrap/alert
<span class="err">+ //= require bootstrap/dropdown
</span></pre></div>
</figure> 

<p><br></p>
<h3>Step 5: git 储存</h3>
<figure class="figure-code code"><div class="highlight"><pre>git add .
git commit -m "user can login/logout/signup"
</pre></div>
</figure>

<p><br></p>
<h2>Part 5 : 安装 simple_form</h2>
<h3>Step 1: 使用 SimpleForm 简化</h3>
<p>首先我们要来安装 simple_form</p>

<p>打开 Gemfile，然后新增一行 <code>gem 'simple_form'</code></p>

<figure class="figure-code code"><figcaption><span>Gemfile
</span></figcaption><div class="highlight"><pre>
gem 'bootstrap-sass'
<span class="err">+ gem 'simple_form'
</span></pre></div>
</figure>

<p>然后执行 </p>

<figure class="figure-code code"><div class="highlight"><pre>bundle install
</pre></div>
</figure> 

<p>安装 gem。</p>

<p><br></p>
<h3>Step 2: 安装 simple_form for bootstrap 的设定</h3>
<p>执行：</p>

<figure class="figure-code code"><div class="highlight"><pre>rails generate simple_form:install --bootstrap
</pre></div>
</figure>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/qhG8fT0yICTvwdE71igI_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-11%20%E4%B8%8B%E5%8D%885.45.42.png" title=""></figure></p>

<p>然后重开 rails server（ <code>ctrl-c</code> 然后 <code>rails s</code>）</p>

<p><br></p>
<h3>Step 3 : git 存档</h3>
<figure class="figure-code code"><div class="highlight"><pre>git add .
git commit -m "install simpleform with bootstrap"
</pre></div>
</figure>

    </div>
  </div></div><div class='frame'><h1>
      6-1（解答）招聘网站第一部分
    </h1><h4>所属章节：6-招聘网站 - （管理员）解答</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>目标：</h2>
<ul>
<li>实作 Jobs 的 CRUD</li>
<li>Job 至少必须要有 title 与 description 栏位</li>
<li>Job 的 title 不可为空</li>
<li>new/create/update/edit/destroy 动作必须要进行登入</li>
</ul>

<p>P.S. 如果你想要详细记录每步做了什么，建议每一步都 git commit 。</p>

<p><br></p>
<h2>步骤</h2>
<h3>Step 0:</h3>
<figure class="figure-code code"><div class="highlight"><pre>git checkout -b step1
</pre></div>
</figure>

<p><br></p>
<h3>Step 1: 产生 job model</h3>
<figure class="figure-code code"><div class="highlight"><pre>rails g model job title:string description:text
rake db:migrate
</pre></div>
</figure>

<p><br></p>
<h3>Step 2: 产生 jobs_controller</h3>
<figure class="figure-code code"><div class="highlight"><pre>rails g controller jobs
</pre></div>
</figure>

<p><br></p>
<h3>Step 3：加上 jobs routing</h3>
<p>修改 <code>config/routes.rb</code></p>

<figure class="figure-code code"><figcaption><span>config/routes.rb
</span></figcaption><div class="highlight"><pre>
<span class="no">Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">routes</span><span class="p">.</span><span class="nf">draw</span> <span class="k">do</span>
  <span class="n">devise_for</span> <span class="ss">:users</span>

   <span class="n">resources</span> <span class="ss">:jobs</span>
   <span class="n">root</span> <span class="s1">'welcome#index'</span>
<span class="k">end</span>
</pre></div>
</figure>

<p><br></p>
<h3>Step 4 : 实作 jobs#show action</h3>
<p>新增 <code>show</code> 的 action</p>

<figure class="figure-code code"><figcaption><span>app/controllers/jobs_controller.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">JobsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">show</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</figure>

<p>新增 <code>show</code> 的 view </p>

<figure class="figure-code code"><figcaption><span>app/views/jobs/show.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;h1&gt;</span> <span class="cp">&lt;%=</span> <span class="vi">@job</span><span class="p">.</span><span class="nf">title</span> <span class="cp">%&gt;</span> <span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;p&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">simple_format</span><span class="p">(</span><span class="vi">@job</span><span class="p">.</span><span class="nf">description</span><span class="p">)</span> <span class="cp">%&gt;</span>

<span class="nt">&lt;/p&gt;</span>
</pre></div>
</figure>

<p><br></p>
<h3>Step 5 : 实作 jobs#index action</h3>
<p>新增 <code>index</code> action</p>

<figure class="figure-code code"><figcaption><span>app/controllers/jobs_controller.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">JobsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
<span class="o">+</span>  <span class="k">def</span> <span class="nf">index</span>
<span class="o">+</span>    <span class="vi">@jobs</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">all</span>
<span class="o">+</span>  <span class="k">end</span>
<span class="k">end</span>

</pre></div>
</figure>

<p>新增 <code>index</code> 的 view </p>

<figure class="figure-code code"><figcaption><span>app/views/jobs/index.html.erb
</span></figcaption><div class="highlight"><pre>
<span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">"table table-bordered"</span><span class="nt">&gt;</span>
  <span class="cp">&lt;%</span> <span class="vi">@jobs</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">job</span><span class="o">|</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;tr&gt;</span>
    <span class="nt">&lt;td&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="n">job</span><span class="p">.</span><span class="nf">title</span><span class="p">,</span> <span class="n">job_path</span><span class="p">(</span><span class="n">job</span><span class="p">))</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">job</span><span class="p">.</span><span class="nf">created_at</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
  <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/table&gt;</span>

</pre></div>
</figure>

<p><br></p>
<h3>Step 6. 打开 rails console 新增两笔资料</h3>
<figure class="figure-code code"><div class="highlight"><pre>
rails c

Job.create!(:title =&gt; "Foo", :description =&gt; "Bar")
Job.create!(:title =&gt; "Bar", :description =&gt; "Foo")

exit
</pre></div>
</figure>

<p>这时候你再打开 <a href="http://localhost:3000/jobs" rel="nofollow" target="_blank">http://localhost:3000/jobs</a></p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/MqHrPq6ASTiYHK2d2kRb_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-25%20%E4%B8%8B%E5%8D%885.57.01.png" title=""></figure></p>

<p>应该会看到这个画面</p>

<p><br></p>
<h3>Step 7. 将 root 改到 jobs#index</h3>
<figure class="figure-code code"><figcaption><span>config/routes.rb
</span></figcaption><div class="highlight"><pre><span class="no">Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">routes</span><span class="p">.</span><span class="nf">draw</span> <span class="k">do</span>
  <span class="n">devise_for</span> <span class="ss">:users</span>

   <span class="n">resources</span> <span class="ss">:jobs</span>
   <span class="n">root</span> <span class="s1">'jobs#index'</span>
<span class="k">end</span>
</pre></div>
</figure>

<p>这样当你打开 <a href="http://localhost:3000" rel="nofollow" target="_blank">http://localhost:3000</a> 应该会直接看到职缺一览表</p>

<p><br></p>
<h3>Step 8 : 完成 jobs#new 与 jobs#create 的功能</h3>
<figure class="figure-code code"><figcaption><span>app/controllers/jobs_controller.rb
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">new</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">new</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">create</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">job_params</span><span class="p">)</span>

    <span class="k">if</span> <span class="vi">@job</span><span class="p">.</span><span class="nf">save</span>
      <span class="n">redirect_to</span> <span class="n">jobs_path</span>
    <span class="k">else</span>
      <span class="n">render</span> <span class="ss">:new</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="kp">private</span>

  <span class="k">def</span> <span class="nf">job_params</span>
    <span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:job</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:description</span><span class="p">)</span>
  <span class="k">end</span>
</pre></div>
</figure>  

<p>表单</p>

<figure class="figure-code code"><figcaption><span>app/views/jobs/new.html.erb
</span></figcaption><div class="highlight"><pre>
<span class="nt">&lt;h1&gt;</span> Add a job <span class="nt">&lt;/h1&gt;</span>

<span class="cp">&lt;%=</span> <span class="n">simple_form_for</span> <span class="vi">@job</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span>

<span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:title</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:description</span> <span class="cp">%&gt;</span>

  <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">submit</span> <span class="s2">"Submit"</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>




</pre></div>
</figure>

<p>然后修改 <code>app/views/jobs/index.html.erb</code> 在最上面，加入一段</p>

<figure class="figure-code code"><figcaption><span>app/views/jobs/index.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"pull-right"</span><span class="nt">&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Add a job"</span><span class="p">,</span> <span class="n">new_job_path</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-default"</span> <span class="p">)</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</figure>

<p>这样上面就会显示一颗按钮</p>

<p><br></p>
<h3>Step 9: 完成 jobs#edit 与 jobs#update 的功能</h3>
<figure class="figure-code code"><figcaption><span>app/controllers/jobs_controller.rb
</span></figcaption><div class="highlight"><pre>
  <span class="k">def</span> <span class="nf">edit</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">update</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
    <span class="k">if</span> <span class="vi">@job</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">job_params</span><span class="p">)</span>
      <span class="n">redirect_to</span> <span class="n">jobs_path</span>
    <span class="k">else</span>
      <span class="n">render</span> <span class="ss">:edit</span>
    <span class="k">end</span>
  <span class="k">end</span>
  
</pre></div>
</figure>

<figure class="figure-code code"><figcaption><span>app/views/jobs/edit.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;h1&gt;</span> Edit a job <span class="nt">&lt;/h1&gt;</span>

<span class="cp">&lt;%=</span> <span class="n">simple_form_for</span> <span class="vi">@job</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span>

<span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:title</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:description</span> <span class="cp">%&gt;</span>

  <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">submit</span> <span class="s2">"Submit"</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>

</pre></div>
</figure>

<p>然后修改 <code>app/views/jobs/index.html.erb</code> 加入修改与删除的连接</p>

<figure class="figure-code code"><figcaption><span>app/views/jobs/index.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">"table table-boldered"</span><span class="nt">&gt;</span>
  <span class="cp">&lt;%</span> <span class="vi">@jobs</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">job</span><span class="o">|</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;tr&gt;</span>

    <span class="nt">&lt;td&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="n">job</span><span class="p">.</span><span class="nf">title</span><span class="p">,</span> <span class="n">job_path</span><span class="p">(</span><span class="n">job</span><span class="p">))</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Edit"</span><span class="p">,</span> <span class="n">edit_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">))</span> <span class="cp">%&gt;</span> |
      <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Destroy"</span><span class="p">,</span> <span class="n">job_path</span><span class="p">(</span><span class="n">job</span><span class="p">),</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:delete</span><span class="p">,</span> <span class="ss">:data</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:confirm</span> <span class="o">=&gt;</span> <span class="s2">"Are you sure?"</span> <span class="p">})</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">job</span><span class="p">.</span><span class="nf">created_at</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
  <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/table&gt;</span>


</pre></div>
</figure>

<p>成果就会长这样</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/7IRbzY4ZQH6HbIbZSKBk_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-25%20%E4%B8%8B%E5%8D%886.08.41.png" title=""></figure></p>

<p><br></p>
<h3>Step 10: Jobs 必须要有标题</h3>
<p>然后呢，我们为了要达到标题不得为空的效果，如下图所示：</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/b9yXCOEORoyTGIOrV70A_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-25%20%E4%B8%8B%E5%8D%886.11.02.png" title=""></figure></p>

<p>就必须得在 model 里面加上这样的限制：</p>

<figure class="figure-code code"><figcaption><span>app/models/job.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">Job</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
  <span class="n">validates</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">presence: </span><span class="kp">true</span>
<span class="k">end</span>

</pre></div>
</figure>

<p>更多不同用法，可以看这份文件，做更多的变化限制：</p>

<p><a href="http://guides.rubyonrails.org/active_record_validations.html" rel="nofollow" target="_blank">http://guides.rubyonrails.org/active_record_validations.html</a></p>

<p><br></p>
<h3>Step 11: jobs#destroy</h3>
<figure class="figure-code code"><figcaption><span>app/controllers/jobs_controller.rb
</span></figcaption><div class="highlight"><pre>
  <span class="k">def</span> <span class="nf">destroy</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>

    <span class="vi">@job</span><span class="p">.</span><span class="nf">destroy</span>

    <span class="n">redirect_to</span> <span class="n">jobs_path</span>
  <span class="k">end</span>

</pre></div>
</figure>

<p><br></p>
<h3>Step 12: 限制 new/create/update/edit/destroy 动作必须要进行登入</h3>
<p>加入这行</p>

<figure class="figure-code code"><figcaption><span>app/controllers/jobs_controller.rb
</span></figcaption><div class="highlight"><pre>  <span class="n">before_action</span> <span class="ss">:authenticate_user!</span><span class="p">,</span> <span class="ss">only: </span><span class="p">[</span><span class="ss">:new</span><span class="p">,</span> <span class="ss">:create</span><span class="p">,</span> <span class="ss">:update</span><span class="p">,</span> <span class="ss">:edit</span><span class="p">,</span> <span class="ss">:destroy</span><span class="p">]</span>
</pre></div>
</figure>

<p>这样若存取 <a href="http://localhost:3000/jobs/new" rel="nofollow" target="_blank">http://localhost:3000/jobs/new</a> 就会被导到登入页。</p>

<p><br></p>
<h3>Step 13: git 存档</h3>
<figure class="figure-code code"><div class="highlight"><pre>git add .
git commit -m "implement job CRUD"
</pre></div>
</figure>

    </div>
  </div></div><div class='frame'><h1>
      6-2（解答）招聘网站第二部分
    </h1><h4>所属章节：6-招聘网站 - （管理员）解答</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>目标</h2>
<ul>
<li>实作 Admin 的 CRUD</li>
<li>身为管理者才可以存取 <a href="http://localhost:3000/admin/jobs" rel="nofollow" target="_blank">http://localhost:3000/admin/jobs</a> 下的职缺操作</li>
<li>身为管理者才可以看到 Admin 管理选单的链接</li>
<li>admin 的判定应该使用资料库的判断 <code>is_admin</code>
</li>
</ul>
<h2>步骤</h2>
<p><br></p>
<h2>Step 0:</h2>
<figure class="figure-code code"><div class="highlight"><pre>git checkout -b step2
</pre></div>
</figure>
<h3>Step 1: 产生 <a href="http://localhost:3000/admin/jobs" rel="nofollow" target="_blank">http://localhost:3000/admin/jobs</a> 的网址</h3>
<p><code>rails g controller admin::jobs</code></p>

<p>然后修改 routing</p>

<p>加入</p>

<figure class="figure-code code"><figcaption><span>config/routes.rb
</span></figcaption><div class="highlight"><pre>  <span class="n">namespace</span> <span class="ss">:admin</span> <span class="k">do</span>
    <span class="n">resources</span> <span class="ss">:jobs</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p><br></p>
<h3>Step 2 : 实作 admin::jobs 的 CRUD</h3>
<figure class="figure-code code"><figcaption><span>app/controllers/admin/jobs_controller.rb
</span></figcaption><div class="highlight"><pre>
<span class="k">class</span> <span class="nc">Admin</span><span class="o">::</span><span class="no">JobsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="n">before_action</span> <span class="ss">:authenticate_user!</span><span class="p">,</span> <span class="ss">only: </span><span class="p">[</span><span class="ss">:new</span><span class="p">,</span> <span class="ss">:create</span><span class="p">,</span> <span class="ss">:update</span><span class="p">,</span> <span class="ss">:edit</span><span class="p">,</span> <span class="ss">:destroy</span><span class="p">]</span>

  <span class="k">def</span> <span class="nf">show</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">index</span>
    <span class="vi">@jobs</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">all</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">new</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">new</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">create</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">job_params</span><span class="p">)</span>

    <span class="k">if</span> <span class="vi">@job</span><span class="p">.</span><span class="nf">save</span>
      <span class="n">redirect_to</span> <span class="n">admin_jobs_path</span>
    <span class="k">else</span>
      <span class="n">render</span> <span class="ss">:new</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">edit</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">update</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
    <span class="k">if</span> <span class="vi">@job</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">job_params</span><span class="p">)</span>
      <span class="n">redirect_to</span> <span class="n">admin_jobs_path</span>
    <span class="k">else</span>
      <span class="n">render</span> <span class="ss">:edit</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">destroy</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>

    <span class="vi">@job</span><span class="p">.</span><span class="nf">destroy</span>

    <span class="n">redirect_to</span> <span class="n">admin_jobs_path</span>
  <span class="k">end</span>

  <span class="kp">private</span>

  <span class="k">def</span> <span class="nf">job_params</span>
    <span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:job</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:description</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

</pre></div>
</figure> 

<p>新增 <code>app/views/admin/jobs/index.html.erb</code></p>

<figure class="figure-code code"><figcaption><span>app/views/admin/jobs/index.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"pull-right"</span><span class="nt">&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Add a job"</span><span class="p">,</span> <span class="n">new_admin_job_path</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-default"</span> <span class="p">)</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;br&gt;&lt;br&gt;</span>

<span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">"table table-bordered"</span><span class="nt">&gt;</span>
  <span class="cp">&lt;%</span> <span class="vi">@jobs</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">job</span><span class="o">|</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;tr&gt;</span>
    <span class="nt">&lt;td&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="n">job</span><span class="p">.</span><span class="nf">title</span><span class="p">,</span> <span class="n">admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">))</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Edit"</span><span class="p">,</span> <span class="n">edit_admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">))</span> <span class="cp">%&gt;</span> 
      <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Destroy"</span><span class="p">,</span> <span class="n">admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">),</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:delete</span><span class="p">,</span> <span class="ss">:data</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:confirm</span> <span class="o">=&gt;</span> <span class="s2">"Are you sure?"</span> <span class="p">})</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">job</span><span class="p">.</span><span class="nf">created_at</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
  <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/table&gt;</span>

</pre></div>
</figure>

<p>新增 <code>app/views/admin/jobs/new.html.erb</code></p>

<figure class="figure-code code"><figcaption><span>app/views/admin/jobs/new.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;h1&gt;</span> Add a job <span class="nt">&lt;/h1&gt;</span>

<span class="cp">&lt;%=</span> <span class="n">simple_form_for</span> <span class="p">[</span><span class="ss">:admin</span><span class="p">,</span><span class="vi">@job</span><span class="p">]</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span>

<span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:title</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:description</span> <span class="cp">%&gt;</span>

  <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">submit</span> <span class="s2">"Submit"</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</pre></div>
</figure>

<p>新增 <code>app/views/admin/jobs/show.html.erb</code></p>

<figure class="figure-code code"><figcaption><span>app/views/admin/jobs/show.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;h1&gt;</span> <span class="cp">&lt;%=</span> <span class="vi">@job</span><span class="p">.</span><span class="nf">title</span> <span class="cp">%&gt;</span> <span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;p&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">simple_format</span><span class="p">(</span><span class="vi">@job</span><span class="p">.</span><span class="nf">description</span><span class="p">)</span> <span class="cp">%&gt;</span>

<span class="nt">&lt;/p&gt;</span>
</pre></div>
</figure>

<p>新增 <code>app/views/admin/jobs/edit.html.erb</code></p>

<figure class="figure-code code"><figcaption><span>app/views/admin/jobs/edit.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;h1&gt;</span> Edit a job <span class="nt">&lt;/h1&gt;</span>

<span class="cp">&lt;%=</span> <span class="n">simple_form_for</span> <span class="p">[</span><span class="ss">:admin</span><span class="p">,</span> <span class="vi">@job</span> <span class="p">]</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span>

<span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:title</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:description</span> <span class="cp">%&gt;</span>

  <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">submit</span> <span class="s2">"Submit"</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</pre></div>
</figure>

<p><br></p>
<h3>Step 3: 把通往后台的选单加到下拉选单里：</h3>
<p>这里我们想要试图把 admin 的下拉选单做出来</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/ZgGVbZSASeyDrZQrtOeY_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-25%20%E4%B8%8B%E5%8D%886.33.40.png" title=""></figure></p>

<p>可以这么做</p>

<figure class="figure-code code"><figcaption><span>app/views/common/_navbar.html.erb
</span></figcaption><div class="highlight"><pre>
<span class="nt">&lt;li&gt;</span> <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Admin Panel"</span><span class="p">,</span> <span class="n">admin_jobs_path</span><span class="p">)</span> <span class="cp">%&gt;</span> <span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;li&gt;</span> <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"登出"</span><span class="p">,</span> <span class="n">destroy_user_session_path</span><span class="p">,</span> <span class="ss">method: :delete</span><span class="p">)</span> <span class="cp">%&gt;</span> <span class="nt">&lt;/li&gt;</span> 
</pre></div>
</figure>

<p><br></p>
<h2>Step 4: 限定只有 admin 才可以进后台</h2>
<p>这时候我们要设计一个新的 method 叫 <code>require_is_admin</code></p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/dx0xdYGTCO8dO03G01cC_Screenshot%20at%20Mar%2030%2022-38-26.png" title=""></figure></p>

<figure class="figure-code code"><figcaption><span>app/controllers/admin/jobs_controller.rb
</span></figcaption><div class="highlight"><pre>
<span class="k">class</span> <span class="nc">Admin</span><span class="o">::</span><span class="no">JobsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
    <span class="n">before_action</span> <span class="ss">:authenticate_user!</span><span class="p">,</span> <span class="ss">only: </span><span class="p">[</span><span class="ss">:new</span><span class="p">,</span> <span class="ss">:create</span><span class="p">,</span> <span class="ss">:update</span><span class="p">,</span> <span class="ss">:edit</span><span class="p">,</span> <span class="ss">:destroy</span><span class="p">]</span>
    <span class="n">before_action</span> <span class="ss">:require_is_admin</span>
</pre></div>
</figure>   

<p>然后呢，再加入一个 <code>require_is_admin</code> 的条件</p>

<p>这里我们姑且把条件叫做 email 是“管理员的 email”（你可以改成你自己的）</p>

<figure class="figure-code code"><figcaption><span>app/controllers/admin/jobs_controller.rb
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">require_is_admin</span>
    <span class="k">if</span> <span class="n">current_user</span><span class="p">.</span><span class="nf">email</span> <span class="o">!=</span> <span class="s1">'xdite@growth.school'</span>
      <span class="n">flash</span><span class="p">[</span><span class="ss">:alert</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'You are not admin'</span>
      <span class="n">redirect_to</span> <span class="n">root_path</span>
    <span class="k">end</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p>这样其他使用者，就不能进去 admin panel 了。</p>

<p><br></p>
<h3>Step 5: 重构 admin 条件，放到 model 里面</h3>
<p>接着呢， <code>current_user.email != 'xdite@growth.school'</code> 这样不是很好看，我们应该要把条件改成 <code>if !current_user.admin?</code></p>

<p>这样比较美观。</p>

<p>所以呢，你可以把刚刚的那一段改成：</p>

<figure class="figure-code code"><figcaption><span>app/controllers/admin/jobs_controller.rb
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">require_is_admin</span>
    <span class="k">if</span> <span class="o">!</span><span class="n">current_user</span><span class="p">.</span><span class="nf">admin?</span>
      <span class="n">flash</span><span class="p">[</span><span class="ss">:alert</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'You are not admin'</span>
      <span class="n">redirect_to</span> <span class="n">root_path</span>
    <span class="k">end</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p>然后在 <code>app/models/user.rb</code> 加入一段 <code>admin?</code> 的自定义</p>

<figure class="figure-code code"><figcaption><span>app/models/user.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
  <span class="c1"># ....
</span>
  <span class="k">def</span> <span class="nf">admin?</span>
    <span class="n">email</span> <span class="o">==</span> <span class="s1">'xdite@growth.school'</span>
  <span class="k">end</span>
</pre></div>
</figure>  

<p>这样就做了一次“整理的动作”。这样以后你就可以自己重新定义里面的条件。</p>

<p><br></p>
<h3>Step 6: 把 admin? 的条件改为由资料库判断</h3>
<p>其实呢，admin 的这个条件，最好不要写死在代码中，比较好的方式，是记在数据库中。所以我们可以这样做：</p>

<figure class="figure-code code"><div class="highlight"><pre>rails g migration add_is_admin_to_user
</pre></div>
</figure>

<p>然后修改 migration 档，变成</p>

<figure class="figure-code code"><figcaption><span>db/migrate/xxxxx.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">AddIsAdminToUser</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Migration</span><span class="p">[</span><span class="mi">5</span><span class="o">.</span><span class="mi">0</span><span class="p">]</span>
  <span class="k">def</span> <span class="nf">change</span>
    <span class="n">add_column</span> <span class="ss">:users</span><span class="p">,</span> <span class="ss">:is_admin</span><span class="p">,</span> <span class="ss">:boolean</span><span class="p">,</span> <span class="ss">default: </span><span class="kp">false</span>
  <span class="k">end</span>
<span class="k">end</span>

</pre></div>
</figure>

<p>再</p>

<figure class="figure-code code"><div class="highlight"><pre>rake db:migrate
</pre></div>
</figure>

<p>接着我们再更改 <code>app/models/user.rb</code> 的 <code>admin?</code> 的定义，唯有 user 的 <code>is_admin</code> 这个栏位是 <code>true</code> 时，这个人才会被判定为 <code>admin</code></p>

<figure class="figure-code code"><figcaption><span>app/models/user.rb
</span></figcaption><div class="highlight"><pre>
  <span class="k">def</span> <span class="nf">admin?</span>
    <span class="n">is_admin</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p><br></p>
<h3>Step 7: 把你的帐户提升为 admin</h3>
<p>不过我们系统现在都是一般 user 啊，所以我们要把系统刚刚建的 user 提升为 admin。<br>
打开</p>

<p><code>rails console</code></p>

<p>输入：</p>

<figure class="figure-code code"><div class="highlight"><pre>u = User.first
u.is_admin = true
u.save
exit
</pre></div>
</figure>

<p>这样你的 user 就会变成 admin 了</p>

<p><br></p>
<h3>Step 8 限制只有 admin 才可以看到选单：</h3>
<p>刚刚我们有做一个下拉选单嘛，应该要限制是 admin 才能看到下拉选单，那你现在就可以这样改了：</p>

<figure class="figure-code code"><figcaption><span>app/views/common/_navbar.html.erb
</span></figcaption><div class="highlight"><pre>
<span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">current_user</span><span class="p">.</span><span class="nf">admin?</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;li&gt;</span> <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Admin Panel"</span><span class="p">,</span> <span class="n">admin_jobs_path</span><span class="p">)</span> <span class="cp">%&gt;</span> <span class="nt">&lt;/li&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;li&gt;</span> <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"登出"</span><span class="p">,</span> <span class="n">destroy_user_session_path</span><span class="p">,</span> <span class="ss">method: :delete</span><span class="p">)</span> <span class="cp">%&gt;</span> <span class="nt">&lt;/li&gt;</span>
</pre></div>
</figure>

<p><br></p>
<h3>Step 9: 把 require_is_admin 移到 application_controller</h3>
<p>因为 <code>require_is_admin</code> 将来很多地方会用到，其实你是可以这样做的，把原本在 <code>admin/jobs_controller.rb</code></p>

<figure class="figure-code code"><figcaption><span>app/controllers/admin/jobs_controller.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">Admin</span><span class="o">::</span><span class="no">JobsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">require_is_admin</span>
    <span class="k">if</span> <span class="o">!</span><span class="n">current_user</span><span class="p">.</span><span class="nf">admin?</span>
      <span class="n">flash</span><span class="p">[</span><span class="ss">:alert</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'You are not admin'</span>
      <span class="n">redirect_to</span> <span class="n">root_path</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>  
</pre></div>
</figure>

<p>这段，搬到 <code>application_controller.rb</code></p>

<figure class="figure-code code"><figcaption><span>app/controllers/application_controller.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">ApplicationController</span> <span class="o">&lt;</span> <span class="no">ActionController</span><span class="o">::</span><span class="no">Base</span>


  <span class="k">def</span> <span class="nf">require_is_admin</span>
    <span class="k">if</span> <span class="o">!</span><span class="n">current_user</span><span class="p">.</span><span class="nf">admin?</span>
      <span class="n">flash</span><span class="p">[</span><span class="ss">:alert</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'You are not admin'</span>
      <span class="n">redirect_to</span> <span class="n">root_path</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</figure>

<p>这样之后就更多人可以调用这个 method。</p>

<p><br></p>
<h3>Step 10: git 存档</h3>
<figure class="figure-code code"><div class="highlight"><pre>git add .
git commit -m "implement part 2"
</pre></div>
</figure>

    </div>
  </div></div><div class='frame'><h1>
      6-3（解答）招聘网站第三部分
    </h1><h4>所属章节：6-招聘网站 - （管理员）解答</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>目标：</h2>
<ul>
<li>新增“薪资上限”“薪资下限”“联络 Email”</li>
<li>薪资不能为空，最低薪资至少要大于 0</li>
</ul>

<p><br></p>
<h2>步骤</h2>
<h3>Step 0</h3>
<figure class="figure-code code"><div class="highlight"><pre>git checkout -b step3
</pre></div>
</figure>

<p><br></p>
<h3>Step 1 新增“薪资上限”“薪资下限”“联络 Email”</h3>
<p>接下来我们要新增三个栏位：</p>

<ul>
<li>wage_upper_bound （数字）</li>
<li>wage_lower_bound （数字）</li>
<li>contact_email （字串）</li>
</ul>

<figure class="figure-code code"><div class="highlight"><pre>rails g migration add_more_detail_to_job
</pre></div>
</figure>

<p>修改 <code>db/migrate/XXX_add_more_detail_to_job.rb</code></p>

<figure class="figure-code code"><figcaption><span>db/migrate/XXX_add_more_detail_to_job.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">AddMoreDetailToJob</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Migration</span><span class="p">[</span><span class="mi">5</span><span class="o">.</span><span class="mi">0</span><span class="p">]</span>
  <span class="k">def</span> <span class="nf">change</span>
    <span class="n">add_column</span> <span class="ss">:jobs</span><span class="p">,</span> <span class="ss">:wage_upper_bound</span><span class="p">,</span> <span class="ss">:integer</span>
    <span class="n">add_column</span> <span class="ss">:jobs</span><span class="p">,</span> <span class="ss">:wage_lower_bound</span><span class="p">,</span> <span class="ss">:integer</span>
    <span class="n">add_column</span> <span class="ss">:jobs</span><span class="p">,</span> <span class="ss">:contact_email</span><span class="p">,</span> <span class="ss">:string</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</figure>

<p>然后</p>

<figure class="figure-code code"><div class="highlight"><pre>rake db:migrate
</pre></div>
</figure>

<p><br></p>
<h3>Step 2: 然后我们要修改所有 new/edit 的表单加上这个栏位。要修改的地方有四块</h3>
<ul>
<li><code>app/views/admin/jobs/edit.html.erb</code></li>
<li><code>app/views/admin/jobs/new.html.erb</code></li>
<li><code>app/views/jobs/edit.html.erb</code></li>
<li><code>app/views/jobs/new.html.erb</code></li>
</ul>

<p>新增以下栏位</p>

<figure class="figure-code code"><figcaption><span>
</span></figcaption><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:wage_lower_bound</span><span class="p">,</span> <span class="ss">:label</span> <span class="o">=&gt;</span> <span class="s2">"薪资下限"</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:wage_upper_bound</span><span class="p">,</span> <span class="ss">:label</span> <span class="o">=&gt;</span> <span class="s2">"薪资上限"</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:contact_email</span> <span class="cp">%&gt;</span>
</pre></div>
</figure>

<p>成果应该会变成是这样</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/ktZOJlMsSfCp2mwmXnNG_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-25%20%E4%B8%8B%E5%8D%887.21.23.png" title=""></figure></p>

<p><br></p>
<h3>Step 3: 加上栏位白名单</h3>
<p>既然新增了栏位，我们也要去改</p>

<ul>
<li><code>app/controllers/admin/jobs_controller.rb</code></li>
<li><code>app/controllers/jobs_controller.rb</code></li>
</ul>

<p>修改下面这一段，加入 <code>:wage_upper_bound, :wage_lower_bound, :contact_email</code></p>

<figure class="figure-code code"><figcaption><span>
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">job_params</span>
    <span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:job</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:description</span><span class="p">,</span> <span class="ss">:wage_upper_bound</span><span class="p">,</span> <span class="ss">:wage_lower_bound</span><span class="p">,</span> <span class="ss">:contact_email</span><span class="p">)</span>
  <span class="k">end</span>
  
</pre></div>
</figure>  

<p><br></p>
<h3>Step 4 : 薪资不能为空，最低薪资至少要大于 0</h3>
<p>修改 app/models/job.rb</p>

<figure class="figure-code code"><figcaption><span>app/models/job.rb
</span></figcaption><div class="highlight"><pre>
  <span class="n">validates</span> <span class="ss">:wage_upper_bound</span><span class="p">,</span> <span class="ss">presence: </span><span class="kp">true</span>
  <span class="n">validates</span> <span class="ss">:wage_lower_bound</span><span class="p">,</span> <span class="ss">presence: </span><span class="kp">true</span>
  <span class="n">validates</span> <span class="ss">:wage_lower_bound</span><span class="p">,</span> <span class="ss">numericality: </span><span class="p">{</span> <span class="ss">greater_than: </span><span class="mi">0</span><span class="p">}</span>
</pre></div>
</figure>
<h3>Step 5: git 存档</h3>
<figure class="figure-code code"><div class="highlight"><pre>git add .
git commit -m "implement wage part"
</pre></div>
</figure>

    </div>
  </div></div><div class='frame'><h1>
      6-4（解答）招聘网站第四部分
    </h1><h4>所属章节：6-招聘网站 - （管理员）解答</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>目标</h2>
<ul>
<li>首页应该看不到隐藏的工作</li>
<li>首页的工作应该按照建立时间倒叙排列</li>
<li>后台的 Job List 列表，应该显示哪一些工作是“隐藏”还是“公开”</li>
</ul>

<p><br></p>
<h2>步骤</h2>
<h3>Step 0 :</h3>
<figure class="figure-code code"><div class="highlight"><pre>git checkout -b step4
</pre></div>
</figure>

<p><br></p>
<h3>Step 1: 新增 is_hidden 栏位到 Job</h3>
<figure class="figure-code code"><div class="highlight"><pre>rails g migration add_is_hidden_to_job
</pre></div>
</figure>

<p>“预设为隐藏”</p>

<figure class="figure-code code"><figcaption><span>db/migrate/(一串数字)_add_is_hidden_to_job.rb
</span></figcaption><div class="highlight"><pre>
<span class="k">class</span> <span class="nc">AddIsHiddenToJob</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Migration</span><span class="p">[</span><span class="mi">5</span><span class="o">.</span><span class="mi">0</span><span class="p">]</span>
  <span class="k">def</span> <span class="nf">change</span>
    <span class="n">add_column</span> <span class="ss">:jobs</span><span class="p">,</span> <span class="ss">:is_hidden</span><span class="p">,</span> <span class="ss">:boolean</span><span class="p">,</span> <span class="ss">default: </span><span class="kp">true</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</figure>

<figure class="figure-code code"><div class="highlight"><pre>rake db:migrate
</pre></div>
</figure>

<p><br></p>
<h3>Step 2: 然后我们要修改所有 new/edit 的表单加上这个栏位。要修改的地方有四块</h3>
<ul>
<li><code>app/views/admin/jobs/edit.html.erb</code></li>
<li><code>app/views/admin/jobs/new.html.erb</code></li>
<li><code>app/views/jobs/edit.html.erb</code></li>
<li><code>app/views/jobs/new.html.erb</code></li>
</ul>

<p>新增以下栏位</p>

<figure class="figure-code code"><figcaption><span>
</span></figcaption><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:is_hidden</span> <span class="cp">%&gt;</span>
</pre></div>
</figure>

<p>效果如以下：</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/FjkigSoMQqiPsjhe7XHW_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-25%20%E4%B8%8B%E5%8D%888.03.59.png" title=""></figure></p>

<p>这样就能控制一份工作，是否隐藏</p>

<p><br></p>
<h3>Step 3: 将 is_hidden 加入 job_params</h3>
<p>修改</p>

<ul>
<li><code>app/controllers/admin/jobs_controller.rb</code></li>
<li><code>app/controllers/jobs_controller.rb</code></li>
</ul>

<p>修改下面这一段，加入 <code>:is_hidden</code></p>

<figure class="figure-code code"><div class="highlight"><pre>
   def job_params
    params.require(:job).permit(:title, :description, :wage_upper_bound, :wage_lower_bound, :contact_email, :is_hidden)
  end
</pre></div>
</figure>
  

<p><br></p>
<h3>Step 4: 被隐藏的文章应该在首页看不到</h3>
<p>修改 <code>app/controllers/jobs_controller.rb</code></p>

<figure class="figure-code code"><figcaption><span>
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">index</span>
    <span class="vi">@jobs</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">all</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p>改成</p>

<figure class="figure-code code"><figcaption><span>
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">index</span>
    <span class="vi">@jobs</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">:is_hidden</span> <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">)</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p><br></p>

<p>这样就可以在首页“隐藏”已设为隐藏的工作</p>
<h3>Step 5 : 首页文章应该按照发表时间顺序</h3>
<p>修改 <code>app/controllers/jobs_controller.rb</code></p>

<figure class="figure-code code"><figcaption><span>
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">index</span>
    <span class="vi">@jobs</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">:is_hidden</span> <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">)</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p>变成</p>

<figure class="figure-code code"><figcaption><span>
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">index</span>
    <span class="vi">@jobs</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">:is_hidden</span> <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">).</span><span class="nf">order</span><span class="p">(</span><span class="s2">"created_at DESC"</span><span class="p">)</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/JoBgJJ8TNuwN8udhS2Uw_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-25%20%E4%B8%8B%E5%8D%888.16.28.png" title=""></figure></p>

<p><br></p>
<h3>Step 6: 让前后台的 Job List 长得不一样</h3>
<p>修改</p>

<figure class="figure-code code"><figcaption><span>app/views/admin/jobs/index.html.erb 
</span></figcaption><div class="highlight"><pre>
    <span class="nt">&lt;td&gt;</span>

  <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">job</span><span class="p">.</span><span class="nf">is_hidden</span> <span class="cp">%&gt;</span>
         (Hidden)
      <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
         (Public)
      <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>

      <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="n">job</span><span class="p">.</span><span class="nf">title</span><span class="p">,</span> <span class="n">admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">))</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/td&gt;</span>
    
</pre></div>
</figure>    

<p>成果会长这样：</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/6Cg17bzaRMG1viLfxPIK_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-25%20%E4%B8%8B%E5%8D%888.22.30.png" title=""></figure></p>

<p><br></p>
<h3>Step 7: 翻修到 Helper</h3>
<p>在 View 里面写一堆 Ruby Code 实在太丑了，因此我们应该要把这段代码重构成 Helper 。</p>

<p>所以我们应该把刚刚那一段判断式砍掉，换成这样</p>

<figure class="figure-code code"><figcaption><span>app/views/admin/jobs/index.html.erb 
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;td&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">render_job_status</span><span class="p">(</span><span class="n">job</span><span class="p">)</span> <span class="cp">%&gt;</span>

  <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="n">job</span><span class="p">.</span><span class="nf">title</span><span class="p">,</span> <span class="n">admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">))</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/td&gt;</span>
</pre></div>
</figure>

<p>然后加入这一段：</p>

<figure class="figure-code code"><figcaption><span>app/helpers/jobs_helper.rb
</span></figcaption><div class="highlight"><pre><span class="k">module</span> <span class="nn">JobsHelper</span>

  <span class="k">def</span> <span class="nf">render_job_status</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">job</span><span class="p">.</span><span class="nf">is_hidden</span>
      <span class="s2">"(Hidden)"</span>
    <span class="k">else</span>
      <span class="s2">"(Public)"</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

</pre></div>
</figure>

<p><br></p>
<h3>Step 8: git 存档</h3>
<figure class="figure-code code"><div class="highlight"><pre>git add .
git commit -m "implement part4"
</pre></div>
</figure>

    </div>
  </div></div><div class='frame'><h1>
      7-1 本章节目标
    </h1><h4>所属章节：7-基础知识补充</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>本章节的目的，是透过一个小网站的开发，让大家知道程序员是怎么开发产品的。并且在这个过程中，教会大家 Rails 基础的 API 与工具。</p>

<p>涵盖的主题：</p>

<ul>
<li>Terminal / rails console / IRB</li>
<li>Git 基本指令</li>
<li>开发设置</li>
<li>专案结构</li>
</ul>

<p>本章的课程作业，其实是要让各位先「在不了解原理的情况下」「熟练」基本「操作流程」，目的是布建基础知识点。请<code>千万练习 Rails101 三遍后</code>，再服用这些补充知识。</p>

    </div>
  </div></div><div class='frame'><h1>
      7-2 Terminal
    </h1><h4>所属章节：7-基础知识补充</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/9T8X3T4aSECeGiGToDCJ_terminal.png" title=""></figure></p>

<p>Terminal 是使用者用「文字」直接与「Mac 内核」沟通的界面。</p>

<p>平常作为一般用户，我们都是以图形化界面来指挥 Mac 应该怎么做。而开发者使用文字指令与 Mac 沟通更多的事。</p>
<h3>cd ~/</h3>
<ul>
<li>
<code>cd</code> 切换到当前目录</li>
<li>
<code>cd ~</code> 切到 home 目录</li>
</ul>
<h3>ls -al</h3>
<ul>
<li>
<code>ls</code> 列出当前目录下所有的档案</li>
<li>
<code>ls -al</code> 详细列出当前目录下所有档案的信息</li>
</ul>
<h3>pwd</h3>
<ul>
<li>
<code>pwd</code> 显示当前的目录位置</li>
</ul>
<h3>rails s</h3>
<ul>
<li>
<code>rails s</code> 启动 Rails 服务器</li>
</ul>
<h3>rails g</h3>
<ul>
<li>
<code>rails g</code> 产生 Rails 用的档案</li>
</ul>

    </div>
  </div></div><div class='frame'><h1>
      7-3 rails console / IRB
    </h1><h4>所属章节：7-基础知识补充</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>Rails Console</h2>
<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/b9PKKcSFQ1yyNwHLQHsu_rails%20console.png" title=""></figure></p>

<ul>
<li>在 Terminal 打 <code>rails c</code> 或 <code>rails console</code> 可以进入（必须要在 rails 项目的资料夹才能启动进入）</li>
<li>是 Rails 的「文字后台」</li>
<li>可以对  Model 进行「查询」、「修改」...等等动作</li>
<li>
<code>exit</code> 可以退出</li>
<li>新手常常「忘记」自己在 Terminal 还是 Console</li>
</ul>
<h2>IRB</h2>
<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/9bcbzdkJRj2eZBK1MNd6_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202017-01-02%20%E4%B8%8B%E5%8D%887.04.27.png" title=""></figure></p>

<ul>
<li>互动式 Ruby 界面</li>
<li>进入方式输入 <code>irb</code> （在任何目录都可以进入）</li>
<li>无需装载 Rails 环境</li>
<li>只能测试验证 Ruby 语法</li>
<li>即时看到执行 Ruby 的结果</li>
<li>
<code>exit</code> 可以退出</li>
<li>可以玩玩 TryRuby <a href="http://tryruby.org/levels/1/challenges/0" rel="nofollow" target="_blank">http://tryruby.org/levels/1/challenges/0</a>
</li>
</ul>

    </div>
  </div></div><div class='frame'><h1>
      7-4 Git
    </h1><h4>所属章节：7-基础知识补充</h4><hr><div class="post group">
    <div class="post-content markdown">
      <ul>
<li>程序员用来储存项目代码的「时光机」。</li>
</ul>
<h3>常见 Git 的指令</h3>
<ul>
<li>
<code>git init</code>  （把专案变成一个被 git 记录的专案）</li>
<li>
<code>git add README</code>   ( 把某个档案加入 git 的控制）</li>
<li>
<code>git add .</code> （把当前目录加入 git 的控制）</li>
<li>
<code>git commit -m “信息”</code>  （把已经加入控制的档案，正式记录到变更中）</li>
</ul>
<h3>进阶 Git 指令</h3>
<ul>
<li>
<code>git remote add origin  git://github.com/xxx.git</code>

<ul>
<li>新增一个远程的仓库，命名为 origin。origin 的位置指向 Github</li>
</ul>
</li>
<li>
<code>git push origin master</code>

<ul>
<li>推送本地的 master 分支到远程的 origin 仓库</li>
</ul>
</li>
<li>
<code>git push -u origin master</code>

<ul>
<li>预设以后都是推到远程 origin 仓库的 master</li>
</ul>
</li>
<li>
<code>git status</code>

<ul>
<li>当前代码追踪的状态。红色代表被变更的内容，绿色代表现在修改的内容</li>
</ul>
</li>
<li>
<code>git pull</code><br>

<ul>
<li>拉下远程仓库的变更</li>
</ul>
</li>
<li>
<code>git checkout -b ch01</code>

<ul>
<li>新增一个名为“ch01”的分支</li>
</ul>
</li>
<li>
<code>git checkout ch01</code>

<ul>
<li>切换到 “ch01” 分支</li>
</ul>
</li>
</ul>
<h3>Git 练习</h3>
<ul>
<li><a href="https://try.github.io/levels/1/challenges/1" rel="nofollow" target="_blank">https://try.github.io/levels/1/challenges/1</a></li>
</ul>
<h3>gitignore</h3>
<ul>
<li>可以设定哪一些档案不被 git 存取</li>
<li>比如说 config/database.yml</li>
</ul>

    </div>
  </div></div><div class='frame'><h1>
      7-5 Github / Heroku
    </h1><h4>所属章节：7-基础知识补充</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h3>Github</h3>
<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/tzFkHjRS6nFdiBFsIMRw_Github.png" title=""></figure></p>

<ul>
<li><a href="http://github.com" rel="nofollow" target="_blank">http://github.com</a></li>
<li>程序原始码的「网络仓库」</li>
<li>网络套件大本营</li>
</ul>
<h3>Heroku</h3>
<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/Hi3OyfFuTFPfPNpN3XRQ_Heroku.png" title=""></figure></p>

<ul>
<li>网站部署空间</li>
<li>利用 git 上传部署</li>
<li>git push heroku master</li>
</ul>

    </div>
  </div></div><div class='frame'><h1>
      7-6  Rails 项目架构扫盲
    </h1><h4>所属章节：7-基础知识补充</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h3>先从改了不用重开 server 的地方开始</h3>
<h5>自己的程式码逻辑</h5>
<ul>
<li>app/controllers</li>
<li>app/views</li>
<li>app/models</li>
<li>app/assets/stylesheets</li>
<li>app/assets/javascripts</li>
<li>db/migrate/</li>
</ul>
<h3>其他地方改了都要重开</h3>
<h5>Routing (网址由这边控制)</h5>
<ul>
<li>config/routes.rb </li>
<li>
<code>rake routes</code> 可以看所有路径</li>
</ul>
<h5>Gemfile ( 套件都放在这里 )</h5>
<ul>
<li>改完一定要 bundle install</li>
<li>然后重开 server</li>
<li>server 会检查 Gemfile.lock 有没有完成相依性检查</li>
</ul>

    </div>
  </div></div><div class='frame'><h1>
      7-7 哪里有好用的 Gems（仅供参考）
    </h1><h4>所属章节：7-基础知识补充</h4><hr><div class="post group">
    <div class="post-content markdown">
      <ul>
<li><a href="http://ruby-toolbox.com" rel="nofollow" target="_blank">http://ruby-toolbox.com</a></li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/V5La8G41QXuoPVB6oU7N_ruby-toolbox.png" title=""></figure></p>

<ul>
<li><a href="http://railscasts.com" rel="nofollow" target="_blank">http://railscasts.com</a></li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/mhBu6pfYS8GVglTgUM0P_railscast.png" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      7-8 HTML / ERB
    </h1><h4>所属章节：7-基础知识补充</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h3>HTML Tag</h3>
<figure class="figure-code code"><figcaption><span>
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;h1&gt;</span> 
<span class="nt">&lt;h2&gt;</span> 
<span class="nt">&lt;h3&gt;</span>
<span class="nt">&lt;p&gt;</span> 
<span class="nt">&lt;strong&gt;</span>
<span class="nt">&lt;div&gt;</span> 
<span class="nt">&lt;span&gt;</span>
<span class="nt">&lt;form&gt;</span>
<span class="nt">&lt;table&gt;</span>
<span class="nt">&lt;input&gt;</span> 
<span class="nt">&lt;button&gt;</span>
</pre></div>
</figure>

<p>关于这些HTML标签，下面有一份作业给大家。</p>
<h3>ERB</h3>
<p>在 HTML 中嵌入 RUBY 语法的 ERB ( Embedded Ruby )。</p>

<figure class="figure-code code"><figcaption><span>
</span></figcaption><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="vi">@post</span><span class="p">.</span><span class="nf">title</span> <span class="cp">%&gt;</span>  # 显示 @post.title
<span class="cp">&lt;%</span> <span class="vi">@post</span><span class="p">.</span><span class="nf">title</span> <span class="cp">%&gt;</span>   # 执行 @post.title
</pre></div>
</figure>
<h4>实际的例子：</h4>
<figure class="figure-code code"><figcaption><span>
</span></figcaption><div class="highlight"><pre><span class="cp">&lt;%</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%</span> <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">1</span><span class="p">.</span><span class="nf">.</span><span class="mi">10</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">+</span> <span class="n">i</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">sum</span> <span class="cp">%&gt;</span>
</pre></div>
</figure>

<p>以上的代码表示：执行 1+2+3+4+5+6+7+8+9+10 的运算后，印出 55。</p>

    </div>
  </div></div><div class='frame'><h1>
      [直播回放]4月13日 Nic 基础知识补充与开发技巧
    </h1><h4>所属章节：7-基础知识补充</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>主讲人：<br>
Nic 老师</p>

<p>时间：<br>
4月13日 20:00</p>

<p>时长：<br>
总时长预计42分钟。</p>

<p>概要：<br>
Nic 老师教你如何在小白程序员时期避开不必要的纠结，让你获得更多的基础知识补充还有开发工具实用小技巧</p>

<p>提示：<br>
需要科学上网才可以正常观看本视频<br>
如果画面模糊请到右下角设置中将画质调整为720p<br>
<br></p>

    </div>
      <script src="//fast.wistia.com/embed/medias/blzsllzs4l.jsonp" async></script>
<script src="//fast.wistia.com/assets/external/E-v1.js" async></script>
<div class="player-bg">
    <div class="loading-tips">
        <button class="btn btn-default btn-lg">
            <i class="fa fa-spinner fa-spin"></i>
        </button>
        <p>视频文件正在加载，请确保已经打开VPN</p>
    </div>
    <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
        <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
            <div class="wistia_embed wistia_async_blzsllzs4l videoFoam=true" style="height:100%;width:100%"> </div>
            <script>
                window._wq = window._wq || [];
                _wq.push({ id: "blzsllzs4l", onReady: function(video) {
                    window.wistia_video = video;
                        window.wistia_video.time("1328.53963");
                    var url = "/user_wistia_position_records/update_position";
                    var post_id = "560"; 
                    setInterval(function(){                        
                        if (wistia_video.state() === "playing") {
                            var data = {
                                position: wistia_video.time(),
                                post_id: post_id 
                            };                            
                            $.post(url, data);
                        }                        
                    }, 5000);
                }});
            </script>            
        </div>
    </div>
</div>

  </div></div><div class='frame'><h1>
      8-1 加分习题
    </h1><h4>所属章节：8 - 应征者 - 加分习题</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>加分习题</h2>
<ul>
<li>把 admin#jobs（管理员用的）与 jobs（应征者用的）做个区分；

<ul>
<li>加上 sidebar 设计</li>
</ul>
</li>
<li>在 admin 后台的职缺状态，改成图标；

<ul>
<li>把 render_job_status 状态显示改成 Font Awesome 图标显示（使用 fa-lock / fa-globe）</li>
</ul>
</li>
<li>把 is_hidden 的操作改成按钮</li>
<li>jobs#show 在隐藏状态不可以用</li>
</ul>
<h3>Step 5-1</h3>
<ul>
<li>把 admin#jobs（管理员用的）与 jobs（应征者用的）做个区分</li>
<li>管理员用的要有sidebar, 这样就容易知道自己在哪里
<figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/uAffuvHETliXRaRBnYKM_s5-1-1.png" title=""></figure>
</li>
</ul>

<p><br><br>
利用 layout 可以做出不同的view</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/6f2D9Vc8SGay83rGnRsq_p52.png" title=""></figure></p>

<p>使用者看到的页面<br>
<figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/H1k1J25FQIy3kOPvATda_s5-1-1-2.png" title=""></figure></p>

<p>管理员看到的页面</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/35zjvnh6Rd64T4swRhsw_p532.png" title=""></figure></p>
<h3>Step 5-2</h3>
<p>把 public / hide 改成图标<br>
<figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/M4SzyB35Q0qH7u7vS8Rd_s3-done.png" title=""></figure></p>
<h5>提示</h5>
<ul>
<li>Fontawsome  <a href="http://fontawesome.io/icons" rel="nofollow" target="_blank">http://fontawesome.io/icons</a>
</li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/h25ZzmdmSmSTR9Z86oow_p551.png" title=""></figure></p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/OrGRIXzQeoqZig9qWAPF_p552.png" title=""></figure></p>
<h3>Step 5-3</h3>
<p>把 publish / hide 改成按钮</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/L2KtkNE9SNW4vFFR42Co_p556.png" title=""></figure></p>
<h5>提示</h5>
<figure class="figure-code code"><figcaption><span>config/routes.rb
</span></figcaption><div class="highlight"><pre>
<span class="n">member</span> <span class="k">do</span> 
    <span class="n">post</span> <span class="ss">:publish</span>
  <span class="n">post</span> <span class="ss">:hide</span>
<span class="k">end</span> 
</pre></div>
</figure>

    </div>
  </div></div><div class='frame'><h1>
      8-2 （解答）招聘网站第五部分
    </h1><h4>所属章节：8 - 应征者 - 加分习题</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h3>目标</h3>
<ul>
<li>加入 sidebar</li>
<li>限制已隐藏职缺不能存取</li>
<li>将“职缺”状态换成图示</li>
<li>设计能“隐藏”“重新显示”的按钮</li>
</ul>
<h3>步骤</h3>
<h4>Step 0</h4>
<p>git checkout -b step5</p>
<h4>Step 1 加入 admin layouts</h4>
<p><code>touch app/views/layouts/admin.html.erb</code></p>

<figure class="figure-code code"><figcaption><span>app/views/layouts/admin.html.erb 
</span></figcaption><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Job Listing <span class="nt">&lt;/title&gt;</span>
        <span class="cp">&lt;%=</span> <span class="n">csrf_meta_tags</span> <span class="cp">%&gt;</span>

        <span class="cp">&lt;%=</span> <span class="n">stylesheet_link_tag</span>    <span class="s1">'application'</span><span class="p">,</span> <span class="ss">media: </span><span class="s1">'all'</span><span class="p">,</span> <span class="s1">'data-turbolinks-track'</span><span class="p">:</span> <span class="s1">'reload'</span> <span class="cp">%&gt;</span>
        <span class="cp">&lt;%=</span> <span class="n">javascript_include_tag</span> <span class="s1">'application'</span><span class="p">,</span> <span class="s1">'data-turbolinks-track'</span><span class="p">:</span> <span class="s1">'reload'</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/head&gt;</span>

    <span class="nt">&lt;body&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container-fluid"</span><span class="nt">&gt;</span>
            <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s2">"common/navbar"</span> <span class="cp">%&gt;</span>
            <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s2">"common/flashes"</span> <span class="cp">%&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-2"</span><span class="nt">&gt;</span>
                sidebar
              <span class="nt">&lt;/div&gt;</span>

              <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-10"</span><span class="nt">&gt;</span>
                <span class="cp">&lt;%=</span> <span class="k">yield</span> <span class="cp">%&gt;</span>
              <span class="nt">&lt;/div&gt;</span>
           <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s2">"common/footer"</span> <span class="cp">%&gt;</span>

    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</figure>

<p>然后在 <code>app/controllers/admin/jobs_controller.rb</code> 加入一行 <code>layout "admin"</code></p>

<figure class="figure-code code"><figcaption><span>app/controllers/admin/jobs_controller.rb 
</span></figcaption><div class="highlight"><pre>class Admin::JobsController <span class="nt">&lt; ApplicationController</span>
  <span class="na">before_action</span> <span class="na">:authenticate_user</span><span class="err">!,</span> <span class="na">only:</span> <span class="err">[</span><span class="na">:new</span><span class="err">,</span> <span class="na">:create</span><span class="err">,</span> <span class="na">:update</span><span class="err">,</span> <span class="na">:edit</span><span class="err">,</span> <span class="na">:destroy</span><span class="err">]</span>
  <span class="na">before_action</span> <span class="na">:require_is_admin</span>
  <span class="na">layout</span> <span class="err">"</span><span class="na">admin</span><span class="err">"</span>
</pre></div>
</figure> 

<p>就可以看到新的 layout 被套用了。</p>
<h4>Step 2 加入 正确的 sidebar</h4>
<p>接着我们要修改 app/views/layouts/admin.html.erb</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/SuTrIh4QF6a9RWsFXTRQ_s2-1.png" title=""></figure><br>
把 sidebar 换成</p>

<figure class="figure-code code"><div class="highlight"><pre>   &lt;ul class="nav nav-pills nav-stacked" style="max-width: 300px; padding-top:20px;"&gt;
      &lt;li class="active"&gt;&lt;%= link_to("Jobs", admin_jobs_path ) %&gt; &lt;/li&gt;

   &lt;/ul&gt;
</pre></div>
</figure>

<p>成果就会变成这样：</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/MhYyKOtfQOWdfWnaKvxP_s2-2.png" title=""></figure></p>
<h4>Step 3: 把 Public / Hidden 换成图示（用 FontAwesome）</h4>
<p>原先的 ( Public / Hidden ) 实在太丑了：</p>

<p>我们应该要换成图示，像这样：</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/X70a7YpXTD2wUdnwtdlX_s3-done.png" title=""></figure></p>

<p>那么要怎么做呢？<br>
有一个厉害的网站叫做 FontAwesome，提供各式各样厉害的图示：<a href="http://fontawesome.io/icons/" rel="nofollow" target="_blank">http://fontawesome.io/icons/</a><br>
<figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/yce0qsIXTaaLQwt5Pgc0_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-26%20%E4%B8%8B%E5%8D%8810.16.41.png" title=""></figure></p>

<p>如何安装 FontAwesome？修改 Gemfile 挂上</p>

<figure class="figure-code code"><div class="highlight"><pre>gem 'font-awesome-rails'
</pre></div>
</figure>

<p>然后执行<br>
<code>bundle install</code></p>

<p>接着修改 <code>app/assets/stylesheets/application.scss</code><br>
加入：</p>

<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss 
</span></figcaption><div class="highlight"><pre><span class="o">*=</span> <span class="nb">require</span> <span class="n">font</span><span class="o">-</span><span class="n">awesome</span>
</pre></div>
</figure>

<p>也加入：</p>

<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss 
</span></figcaption><div class="highlight"><pre><span class="vi">@import</span> <span class="s2">"font-awesome"</span><span class="p">;</span>
</pre></div>
</figure>

<p>然后重开 <code>rails server</code></p>

<p>接着我们要换掉 Helper，修改 <code>app/helpers/jobs_helper.rb</code> 当中的 <code>render_job_status(job)</code></p>

<figure class="figure-code code"><figcaption><span>app/helpers/jobs_helper.rb 
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">render_job_status</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">job</span><span class="p">.</span><span class="nf">is_hidden</span>
      <span class="n">content_tag</span><span class="p">(</span><span class="ss">:span</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"fa fa-lock"</span><span class="p">)</span>
    <span class="k">else</span>
      <span class="n">content_tag</span><span class="p">(</span><span class="ss">:span</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"fa fa-globe"</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p>这样你的后台列表就会变成：</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/nqoA9vjrQf2FBUmVFu7m_s3-done.png" title=""></figure></p>
<h4>Step 4: 实作“被隐藏的工作”，不可以被查看到。</h4>
<p>把 <code>app/controllers/jobs_controller.rb 当中的 show action</code><br>
改成</p>

<figure class="figure-code code"><figcaption><span>app/controllers/jobs_controller.rb 
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">show</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>

    <span class="k">if</span> <span class="vi">@job</span><span class="p">.</span><span class="nf">is_hidden</span>
      <span class="n">flash</span><span class="p">[</span><span class="ss">:warning</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"This Job already archived"</span>
      <span class="n">redirect_to</span> <span class="n">root_path</span>
    <span class="k">end</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p>使用普通用户登录，在浏览器地址栏输入 </p>

<figure class="figure-code code"><div class="highlight"><pre>http://localhost:3000/jobs/x （x是被隐藏的工作的ID编号）
</pre></div>
</figure>

<p>成果就会是这样：<br>
<figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/nopV1XuLSq6IzQidLMpL_s4-done.png" title=""></figure></p>
<h4>Step 5 : 设计按钮，将“隐藏职缺”改成是一个按钮，按下去“隐藏职缺”，再按一次“显示职缺”</h4>
<p>如同这样：</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/6pAUGJMMST6I9CfxrSIz_s5-1.png" title=""></figure></p>

<p>首先呢，修改 <code>app/views/admin/jobs/index.html.erb</code><br>
加上一个判断式，显示 Publish / Hide 的按钮</p>

<figure class="figure-code code"><figcaption><span>app/views/admin/jobs/index.html.erb 
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;td&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Edit"</span><span class="p">,</span> <span class="n">edit_admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">))</span> <span class="cp">%&gt;</span> 
  <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Destroy"</span><span class="p">,</span> <span class="n">admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">),</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:delete</span><span class="p">,</span> <span class="ss">:data</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:confirm</span> <span class="o">=&gt;</span> <span class="s2">"Are you sure?"</span> <span class="p">})</span> <span class="cp">%&gt;</span>

  
  <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">job</span><span class="p">.</span><span class="nf">is_hidden</span> <span class="cp">%&gt;</span>

    <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Publish"</span><span class="p">,</span> <span class="s2">"#"</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-xs btn-default"</span><span class="p">)</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Hide"</span><span class="p">,</span> <span class="s2">"#"</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-xs btn-default"</span><span class="p">)</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/td&gt;</span>
</pre></div>
</figure>

<p>接着呢？<br>
再把 <code>#</code> 改成“正确的路径”，并加上 :method =&gt; :post</p>

<figure class="figure-code code"><figcaption><span>app/views/admin/jobs/index.html.erb 
</span></figcaption><div class="highlight"><pre>  <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">job</span><span class="p">.</span><span class="nf">is_hidden</span> <span class="cp">%&gt;</span>

    <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Publish"</span><span class="p">,</span> <span class="n">publish_admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">)</span> <span class="p">,</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:post</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-xs btn-default"</span><span class="p">)</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Hide"</span><span class="p">,</span> <span class="n">hide_admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">),</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:post</span><span class="p">,</span>  <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-xs btn-default"</span><span class="p">)</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</pre></div>
</figure>

<p>也改 routing 加上去 publish 与 hide</p>

<figure class="figure-code code"><figcaption><span>config/routes.rb 
</span></figcaption><div class="highlight"><pre>  <span class="n">namespace</span> <span class="ss">:admin</span> <span class="k">do</span>
    <span class="n">resources</span> <span class="ss">:jobs</span> <span class="k">do</span>
      <span class="n">member</span> <span class="k">do</span>
        <span class="n">post</span> <span class="ss">:publish</span>
        <span class="n">post</span> <span class="ss">:hide</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p>此时别高兴呢！若你按下去 publish 的按钮，他铁定跟你说 publish action 还没设计：<br>
<figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/ADtglDXYTeG0oQaMbRvW_s5-done.png" title=""></figure></p>
<h4>Step 6 : 设计 publish / hide 的 action</h4>
<p>所以你还得在 <code>app/controllers/admin/jobs_controller.rb</code> 加入：</p>

<figure class="figure-code code"><figcaption><span>app/controllers/admin/jobs_controller.rb 
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">publish</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
    <span class="vi">@job</span><span class="p">.</span><span class="nf">is_hidden</span> <span class="o">=</span> <span class="kp">false</span>
    <span class="vi">@job</span><span class="p">.</span><span class="nf">save</span>
    <span class="n">redirect_to</span> <span class="ss">:back</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">hide</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
    <span class="vi">@job</span><span class="p">.</span><span class="nf">is_hidden</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="vi">@job</span><span class="p">.</span><span class="nf">save</span>
    <span class="n">redirect_to</span> <span class="ss">:back</span>
  <span class="k">end</span>
</pre></div>
</figure>
<h4>Step 7 : 重构到 model</h4>
<p>但我们觉得这样写</p>

<figure class="figure-code code"><figcaption><span>app/controllers/admin/jobs_controller.rb 
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">publish</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
    <span class="vi">@job</span><span class="p">.</span><span class="nf">is_hidden</span> <span class="o">=</span> <span class="kp">false</span>
    <span class="vi">@job</span><span class="p">.</span><span class="nf">save</span>
    <span class="n">redirect_to</span> <span class="ss">:back</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p>太土炮了！</p>

<p>要是我们这样写：</p>

<figure class="figure-code code"><figcaption><span>app/controllers/admin/jobs_controller.rb 
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">publish</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
    <span class="vi">@job</span><span class="p">.</span><span class="nf">publish!</span>
    <span class="n">redirect_to</span> <span class="ss">:back</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p>看起来才牛逼啊！</p>

<p>如何做呢？首先到 <code>app/models/job.rb</code> 实作 <code>publish!</code> 与 <code>hide!</code></p>

<figure class="figure-code code"><figcaption><span>app/models/job.rb 
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">Job</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
  <span class="k">def</span> <span class="nf">publish!</span>
    <span class="nb">self</span><span class="p">.</span><span class="nf">is_hidden</span> <span class="o">=</span> <span class="kp">false</span>
    <span class="nb">self</span><span class="p">.</span><span class="nf">save</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">hide!</span>
    <span class="nb">self</span><span class="p">.</span><span class="nf">is_hidden</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="nb">self</span><span class="p">.</span><span class="nf">save</span>
  <span class="k">end</span>
<span class="k">end</span>  
</pre></div>
</figure>

<p>再去把 <code>app/controllers/admin/jobs_controller.rb</code> 中的两个 action 换掉：</p>

<figure class="figure-code code"><figcaption><span>app/controllers/admin/jobs_controller.rb 
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">publish</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
    <span class="vi">@job</span><span class="p">.</span><span class="nf">publish!</span>

    <span class="n">redirect_to</span> <span class="ss">:back</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">hide</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>

    <span class="vi">@job</span><span class="p">.</span><span class="nf">hide!</span>

    <span class="n">redirect_to</span> <span class="ss">:back</span>
  <span class="k">end</span>
</pre></div>
</figure>
<h4>Step 8 : git 储存</h4>
<figure class="figure-code code"><div class="highlight"><pre>git add .
git commit -m "implement step 5"
</pre></div>
</figure>

    </div>
  </div></div><div class='frame'><h1>
      9-1 应征者用户故事 Part 1
    </h1><h4>所属章节：9 - 用戶故事 - 应征者</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>请各位继续拿出</p>

<ul>
<li>一本全白的笔记本</li>
<li>一支蓝笔</li>
<li>一支绿笔</li>
</ul>

<p>跟着做。</p>

<p>（ 请千万不要跳过这个步骤。我们需要各位真的也照着写下来，才会记住这个方法。）</p>

<p>把第一版用户故事写下来。 </p>

<p>（请跟着照抄，如下图所示。）</p>
<h3>应征者用户故事</h3>
<p>在本章节，我们会让同学们实作“应征者”这个角色。</p>

<p>应征者需要做什么呢？</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/FTJKPUoQ2qJvttgasTmX_WechatIMG10.jpeg" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      9-2 应聘者用户故事 Part 2
    </h1><h4>所属章节：9 - 用戶故事 - 应征者</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>接着，我们来拆分第一条用户故事：应征者，可以“过滤”理想工作。</p>

<p>那么到底要如何“过滤”呢？</p>

<p>通常应征者会在意的是：</p>

<ul>
<li>薪资的下限</li>
<li>薪资的上限</li>
<li>职缺的刊登时间</li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/6r8lxdZVRPmiz1H37GX9_WechatIMG11.jpeg" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      9-3 应聘者用户故事Part 3
    </h1><h4>所属章节：9 - 用戶故事 - 应征者</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>第二条用户故事：应征者，可以「上传」简历。这部分我们可以怎么拆呢？</p>

<ul>
<li>上传简历的网址应该长成这样：/jobs/1/resumes/new</li>
<li>用户必须要登入才能提交简历</li>
<li>简历的格式是 PDF，使用 Resume 这个 model 的 attachment 栏位</li>
<li>上传空简历必须要被滤掉</li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/t2Ufq6pOTKSOTc5XwAeQ_WechatIMG7.jpeg" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      10-1 实作章节 - 应聘者  - 学习方法
    </h1><h4>所属章节：10 - 招聘网站 - （应征者）提示 </h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>在这里我们分成两套学习方法，提供给同学们使用：</p>
<h3>还未牛逼的同学</h3>
<p>还是觉得一头懵的同学，请你直接看解答。</p>

<ul>
<li>第一遍用贴的</li>
<li>第二遍用打的</li>
<li>第三遍自己写出来</li>
</ul>
<h3>牛逼的同学</h3>
<p>课前已经觉得中级练习很简单的牛逼同学，请你直接按照提示，看着中级练习实作出来。</p>

    </div>
  </div></div><div class='frame'><h1>
      10-2 实作章节 - 应聘者 - 提示 Part 1
    </h1><h4>所属章节：10 - 招聘网站 - （应征者）提示 </h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>其实到这里。我们就把步骤拆的也与「中级练习」（Rails101）非常的相似：</p>

<ul>
<li>首页可以按照职缺薪资下限排序</li>
<li>首页可以按照职缺薪资上限排序</li>
<li>首页可以按照职缺发表时间排序</li>
<li>应征者可以提交自己的简历

<ul>
<li>简历的网址应该长成这样：/jobs/1/resumes/new</li>
<li>用户必须要登入才能提交简历</li>
<li>使用 Resume 这个 model 的 attachment 栏位</li>
</ul>
</li>
</ul>

    </div>
  </div></div><div class='frame'><h1>
      10-3 实作章节 - 应征者 - 提示 Part 2
    </h1><h4>所属章节：10 - 招聘网站 - （应征者）提示 </h4><hr><div class="post group">
    <div class="post-content markdown">
      <ul>
<li>首页可以按照职缺薪资下限排序</li>
<li>首页可以按照职缺薪资上限排序</li>
<li>首页可以按照职缺发表时间排序</li>
</ul>

<p>步骤是这样的：</p>
<h3>Step 1 :</h3>
<p>制作 Bootstrap 的下拉选单</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/kgYBvisBT1mFo78LpxGK_9-1.png" title=""></figure></p>
<h3>Step 2 :</h3>
<p>① 设定下拉选单的过滤器网址<br>
② 原理是在网址里面带参数 <br>
③ jobs_path(:order =&gt; "by_upper_bound")<br>
④ 可以生成 /jobs?order=by_lower_bound 这样的网址</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/pCxUWa03QzCj1Vf63snk_9-2.png" title=""></figure></p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/roxdo8ncQqiGrZDX1Ott_9-3.png" title=""></figure></p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/lOtRXWblSMmggeyOe8gb_9-4.png" title=""></figure></p>
<h3>Step 3:</h3>
<p>① 使用者点击后，在 rails s 的日志里面会看到传进来了一个参数<br>
② 然后我们可以选择在 controller 根据传进来的 params[:order] 参数决定去查询哪些资料</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/eIsQazzzSfq9s8OS1kPA_9-5.png" title=""></figure></p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/iVMRyuQQmtDqCaLeaW9Q_9-6.png" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      10-4 实作章节 - 应征者 - 提示 Part 3
    </h1><h4>所属章节：10 - 招聘网站 - （应征者）提示 </h4><hr><div class="post group">
    <div class="post-content markdown">
      <ul>
<li>应征者可以提交自己的简历</li>
<li>上传简历的网址应该长成这样：/jobs/1/resumes/new</li>
<li>用户必须要登入才能提交简历</li>
<li>使用 Job 这个 model 的 attachment 栏位</li>
</ul>
<h3>上传简历的网址</h3>
<ul>
<li>/jobs/1/resumes/new</li>
<li>提示：可以参考 Rails101 的练习部分</li>
</ul>
<h3>用户必须要登入才能提交简历</h3>
<ul>
<li>devise</li>
<li>提示：可以参考 Rails101 的练习部分</li>
</ul>
<h3>上传空简历必须要被滤掉</h3>
<ul>
<li>validate :attachment, presence: true</li>
</ul>
<h3>上传简历</h3>
<ul>
<li>Google 关键字：carrierwave pdf</li>
<li>carrierwave （上传档案的 gem）</li>
<li>在 Resume 这个 model 增加 attachment 栏位</li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/3ZHgXiYnTuK9JTyAUhux_p10.png" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      11-1（解答）招聘网站第六部分
    </h1><h4>所属章节：11 - 招聘网站 - （应征者）解答</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>目标：</h2>
<ul>
<li>首页可以按照职缺薪资下限排序</li>
<li>首页可以按照职缺薪资上限排序</li>
<li>首页可以按照职缺发表时间排序</li>
<li>把 <code>Job.where(:is_hidden =&gt; false").order("created_at DESC")</code> 重构成 <code>Job.published.recent</code>
</li>
</ul>

<p><br></p>
<h2>步骤</h2>
<h3>Step 0</h3>
<figure class="figure-code code"><div class="highlight"><pre>git checkout -b step6
</pre></div>
</figure>

<p><br></p>
<h3>Step 1: 先将薪资上限、薪资下限，也加入首页职缺列表</h3>
<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/M3i1fLVJRNKgIIzEkes8_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-30%20%E4%B8%8A%E5%8D%881.21.59.png" title=""></figure></p>

<p>修改 <code>app/views/jobs/index.html.erb</code> 的 <code>&lt;table&gt;</code></p>

<figure class="figure-code code"><figcaption><span>app/views/jobs/index.html.erb
</span></figcaption><div class="highlight"><pre>
<span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">"table table-boldered"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;thead&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td&gt;</span>
                职缺<span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>薪资下限<span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>薪资上限<span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>刊登时间<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>

    <span class="nt">&lt;/thead&gt;</span>
    <span class="nt">&lt;tbody&gt;</span>
        <span class="cp">&lt;%</span> <span class="vi">@jobs</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">job</span><span class="o">|</span> <span class="cp">%&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td&gt;</span>
                <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="n">job</span><span class="p">.</span><span class="nf">title</span><span class="p">,</span> <span class="n">job_path</span><span class="p">(</span><span class="n">job</span><span class="p">))</span> <span class="cp">%&gt;</span>
            <span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>
                <span class="cp">&lt;%=</span> <span class="n">job</span><span class="p">.</span><span class="nf">wage_lower_bound</span> <span class="cp">%&gt;</span>
            <span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>
                <span class="cp">&lt;%=</span> <span class="n">job</span><span class="p">.</span><span class="nf">wage_upper_bound</span> <span class="cp">%&gt;</span>
            <span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>
                <span class="cp">&lt;%=</span> <span class="n">job</span><span class="p">.</span><span class="nf">created_at</span> <span class="cp">%&gt;</span>
            <span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/tbody&gt;</span>

<span class="nt">&lt;/table&gt;</span>
</pre></div>
</figure>

<p><br></p>
<h3>Step 2: 加上下拉选单</h3>
<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/En1QxpIUTtuQ6xjj4jRZ_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-30%20%E4%B8%8A%E5%8D%881.31.15.png" title=""></figure></p>

<p>修改 <code>app/views/jobs/index.html.erb</code> ，在 <code>&lt;table&gt;</code> 之前加入“下拉选单”</p>

<figure class="figure-code code"><figcaption><span>
</span></figcaption><div class="highlight"><pre>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"dropdown clearfix pull-right"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"btn btn-default dropdown-toggle"</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"dropdownMenuDivider"</span> <span class="na">data-toggle=</span><span class="s">"dropdown"</span> <span class="na">aria-haspopup=</span><span class="s">"true"</span> <span class="na">aria-expanded=</span><span class="s">"true"</span><span class="nt">&gt;</span>
      排序
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"caret"</span><span class="nt">&gt;&lt;/span&gt;</span>
    <span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"dropdown-menu"</span> <span class="na">aria-labelledby=</span><span class="s">"dropdownMenuDivider"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;li&gt;</span>
          <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"按照薪资下限排序"</span><span class="p">,</span> <span class="n">jobs_path</span><span class="p">(</span><span class="ss">:order</span> <span class="o">=&gt;</span> <span class="s2">"by_lower_bound"</span><span class="p">))</span> <span class="cp">%&gt;</span>
        <span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;</span>
            <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"按照薪资上限排序"</span><span class="p">,</span> <span class="n">jobs_path</span><span class="p">(</span><span class="ss">:order</span> <span class="o">=&gt;</span> <span class="s2">"by_upper_bound"</span><span class="p">))</span> <span class="cp">%&gt;</span>

        <span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;</span>
          <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"按照发表时间排序"</span><span class="p">,</span> <span class="n">jobs_path</span> <span class="p">)</span> <span class="cp">%&gt;</span>

        <span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</figure>

<p>如此一来呢，打开 Google Chrome，右键检视 Dropdown 的 HTML，如下图所示：</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/2v4znZQpKoy5o74DHlrw_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-30%20%E4%B8%8A%E5%8D%883.03.53.png" title=""></figure></p>

<p><br></p>
<h3>Step 3: 在 JobsController 里面写判断式，决定要送出哪些资料</h3>
<p>当你按了“按照薪资下限排序后”，回去看 rails 的 log，可以看到</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/M9PrsGpETV229Qohm0fC_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-30%20%E4%B8%8A%E5%8D%883.05.13.png" title=""></figure></p>

<p>所以呢，接着你可以把 JobsController 的 <code>index</code> 改成这样：</p>

<figure class="figure-code code"><figcaption><span>app/controllers/jobs_controller.rb
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">index</span>
    <span class="vi">@jobs</span> <span class="o">=</span> <span class="k">case</span> <span class="n">params</span><span class="p">[</span><span class="ss">:order</span><span class="p">]</span>
            <span class="k">when</span> <span class="s1">'by_lower_bound'</span>
              <span class="no">Job</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">is_hidden: </span><span class="kp">false</span><span class="p">).</span><span class="nf">order</span><span class="p">(</span><span class="s1">'wage_lower_bound DESC'</span><span class="p">)</span>
            <span class="k">when</span> <span class="s1">'by_upper_bound'</span>
              <span class="no">Job</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">is_hidden: </span><span class="kp">false</span><span class="p">).</span><span class="nf">order</span><span class="p">(</span><span class="s1">'wage_upper_bound DESC'</span><span class="p">)</span>
            <span class="k">else</span>
              <span class="no">Job</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">is_hidden: </span><span class="kp">false</span><span class="p">).</span><span class="nf">order</span><span class="p">(</span><span class="s1">'created_at DESC'</span><span class="p">)</span>
            <span class="k">end</span>
  <span class="k">end</span>

</pre></div>
</figure>

<p>由 <code>params[:order]</code> 去决定，吐什么资料出来。</p>

<p><br></p>
<h3>Step 4: 重构重复的代码，建立 <code>published</code> scope</h3>
<p>我们发现 <code>where(is_hidden: false)</code> 这一段一直重复，有点厌烦。因此我们可以去 Job 这个 model 里面新增一个 scope：</p>

<figure class="figure-code code"><figcaption><span>app/models/job.rb
</span></figcaption><div class="highlight"><pre>
<span class="k">class</span> <span class="nc">Job</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
<span class="p">.</span><span class="nf">.</span><span class="o">.</span><span class="err">略</span>
  <span class="n">scope</span> <span class="ss">:published</span><span class="p">,</span> <span class="o">-&gt;</span> <span class="p">{</span> <span class="n">where</span><span class="p">(</span><span class="ss">is_hidden: </span><span class="kp">false</span><span class="p">)</span> <span class="p">}</span>
<span class="k">end</span>
</pre></div>
</figure>

<p>然后再修改 <code>app/controllers/jobs_controller.rb</code>，把 <code>where(is_hidden: false)</code> 都改成 <code>published</code></p>

<figure class="figure-code code"><figcaption><span>app/controllers/jobs_controller.rb
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">index</span>
    <span class="vi">@jobs</span> <span class="o">=</span> <span class="k">case</span> <span class="n">params</span><span class="p">[</span><span class="ss">:order</span><span class="p">]</span>
            <span class="k">when</span> <span class="s1">'by_lower_bound'</span>
              <span class="no">Job</span><span class="p">.</span><span class="nf">published</span><span class="p">.</span><span class="nf">order</span><span class="p">(</span><span class="s1">'wage_lower_bound DESC'</span><span class="p">)</span>
            <span class="k">when</span> <span class="s1">'by_upper_bound'</span>
              <span class="no">Job</span><span class="p">.</span><span class="nf">published</span><span class="p">.</span><span class="nf">order</span><span class="p">(</span><span class="s1">'wage_upper_bound DESC'</span><span class="p">)</span>
            <span class="k">else</span>
              <span class="no">Job</span><span class="p">.</span><span class="nf">published</span><span class="p">.</span><span class="nf">order</span><span class="p">(</span><span class="s1">'created_at DESC'</span><span class="p">)</span>
            <span class="k">end</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p><br></p>
<h3>Step 5: 建立 <code>recent</code> scope</h3>
<p>我们发现 <code>order('created_at DESC')</code> 这段其实也挺常用到的，应该也是可以设计一个专属 scope，就叫 <code>recent</code> 好了。</p>

<figure class="figure-code code"><figcaption><span>app/models/job.rb
</span></figcaption><div class="highlight"><pre>
<span class="k">class</span> <span class="nc">Job</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
<span class="p">.</span><span class="nf">.</span><span class="o">.</span><span class="err">略</span>
  <span class="n">scope</span> <span class="ss">:recent</span><span class="p">,</span> <span class="o">-&gt;</span> <span class="p">{</span> <span class="n">order</span><span class="p">(</span><span class="s1">'created_at DESC'</span><span class="p">)</span> <span class="p">}</span>
<span class="k">end</span>
</pre></div>
</figure>

<p>然后再修改 <code>app/controllers/jobs_controller.rb</code></p>

<figure class="figure-code code"><figcaption><span>app/controllers/jobs_controller.rb
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">index</span>
    <span class="vi">@jobs</span> <span class="o">=</span> <span class="k">case</span> <span class="n">params</span><span class="p">[</span><span class="ss">:order</span><span class="p">]</span>
            <span class="k">when</span> <span class="s1">'by_lower_bound'</span>
              <span class="no">Job</span><span class="p">.</span><span class="nf">published</span><span class="p">.</span><span class="nf">order</span><span class="p">(</span><span class="s1">'wage_lower_bound DESC'</span><span class="p">)</span>
            <span class="k">when</span> <span class="s1">'by_upper_bound'</span>
              <span class="no">Job</span><span class="p">.</span><span class="nf">published</span><span class="p">.</span><span class="nf">order</span><span class="p">(</span><span class="s1">'wage_upper_bound DESC'</span><span class="p">)</span>
            <span class="k">else</span>
              <span class="no">Job</span><span class="p">.</span><span class="nf">published</span><span class="p">.</span><span class="nf">recent</span>
            <span class="k">end</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p>这样 <code>Job.published.recent</code> 看起来就直观太多了！</p>

<p><br></p>
<h3>Step 6: git</h3>
<figure class="figure-code code"><div class="highlight"><pre>git add .
git commit -m "step 6 order by wage"
</pre></div>
</figure>

    </div>
  </div></div><div class='frame'><h1>
      11-2（解答）招聘网站第七部分
    </h1><h4>所属章节：11 - 招聘网站 - （应征者）解答</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>目标：</h2>
<ul>
<li>送出的简历网址是：/jobs/1/resumes/new</li>
<li>简历内容不能为空 </li>
<li>使用者得登入才能提交简历</li>
<li>使用 attachment 栏位</li>
</ul>

<p><br></p>
<h2>步骤</h2>
<h3>Step 0:切出一个新分支</h3>
<figure class="figure-code code"><div class="highlight"><pre>git checkout -b step7
</pre></div>
</figure>

<p><br></p>
<h3>Step 1: 建立投递简历的链接</h3>
<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/ePS1x2ScQIWXVSCiWbvD_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-30%20%E4%B8%8A%E5%8D%883.15.24.png" title=""></figure></p>

<p>首先呢，我们要在职缺下面建立一个投递简历的链接，在 <code>app/views/jobs/show.html.erb</code> 加入以下代码：</p>

<figure class="figure-code code"><figcaption><span>app/views/jobs/show.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"text-center"</span><span class="nt">&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"投交履历"</span><span class="p">,</span> <span class="s2">"#"</span><span class="p">,</span> <span class="ss">:style</span> <span class="o">=&gt;</span> <span class="s2">"font-size: 30px; text-decoration: underline;"</span><span class="p">)</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</figure>

<p><br></p>
<h3>Step 2: 产生简历 Resume 的 model</h3>
<p>简历 Resume 的 Model 初步构想是，应该要跟 Job 有关，也要跟 User 有关，至少还要一个 content 栏位。所以我们可以根据这样的规划产生 model。</p>

<ul>
<li>job_id:integer</li>
<li>user_id:integer</li>
<li>content:text</li>
</ul>

<p><code>rails g model resume job_id:integer user_id:integer content:text</code></p>

<p>然后再跑</p>

<p><code>rake db:migrate</code></p>

<p><br></p>
<h3>Step 3: 将 Resume 与 User / Job 连起来</h3>
<figure class="figure-code code"><figcaption><span>app/models/resume.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">Resume</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
<span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">+</span>  <span class="n">belongs_to</span> <span class="ss">:user</span>
<span class="o">+</span>  <span class="n">belongs_to</span> <span class="ss">:job</span>
<span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">end</span>
</pre></div>
</figure>

<figure class="figure-code code"><figcaption><span>app/models/job.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">Job</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
<span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">+</span>  <span class="n">has_many</span> <span class="ss">:resumes</span>
<span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">end</span>
</pre></div>
</figure>

<figure class="figure-code code"><figcaption><span>app/models/user.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
<span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">+</span>  <span class="n">has_many</span> <span class="ss">:resumes</span>
<span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">end</span>
</pre></div>
</figure>

<p><br></p>
<h3>Step 4: 建立简历表单</h3>
<p>初步想法：</p>

<ul>
<li>送出的简历网址是：/jobs/1/resumes/new</li>
<li>至少简历内容不能为空</li>
<li>使用者得登入才能提交简历</li>
</ul>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/BkaQrmHS3K46gA4F99WW_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-30%20%E4%B8%8A%E5%8D%883.22.52.png" title=""></figure></p>

<p>产生 resumes_controller</p>

<figure class="figure-code code"><div class="highlight"><pre>rails g controller resumes
</pre></div>
</figure>

<p>修改 <code>config/routes.rb</code></p>

<figure class="figure-code code"><figcaption><span>config/routes.rb
</span></figcaption><div class="highlight"><pre><span class="no">Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">routes</span><span class="p">.</span><span class="nf">draw</span> <span class="k">do</span>
  <span class="n">devise_for</span> <span class="ss">:users</span>

  <span class="n">namespace</span> <span class="ss">:admin</span> <span class="k">do</span>
    <span class="n">resources</span> <span class="ss">:jobs</span> <span class="k">do</span>
      <span class="n">member</span> <span class="k">do</span>
        <span class="n">post</span> <span class="ss">:publish</span>
        <span class="n">post</span> <span class="ss">:hide</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>

<span class="o">-</span>  <span class="n">resources</span> <span class="ss">:jobs</span>
<span class="o">+</span>  <span class="n">resources</span> <span class="ss">:jobs</span> <span class="k">do</span>
<span class="o">+</span>    <span class="n">resources</span> <span class="ss">:resumes</span>
<span class="o">+</span>  <span class="k">end</span>
  
  <span class="n">root</span> <span class="s1">'jobs#index'</span>
<span class="k">end</span>
</pre></div>
</figure>

<p>然后修改送出简历网址为 <code>new_job_resume_path(@job)</code></p>

<figure class="figure-code code"><figcaption><span>app/views/jobs/show.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"text-center"</span><span class="nt">&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"投交履历"</span><span class="p">,</span> <span class="n">new_job_resume_path</span><span class="p">(</span><span class="vi">@job</span><span class="p">),</span> <span class="ss">:style</span> <span class="o">=&gt;</span> <span class="s2">"font-size: 30px; text-decoration:underline;"</span><span class="p">)</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</figure>

<p>新增 <code>resumes_controller</code> 里的内容</p>

<figure class="figure-code code"><figcaption><span>app/controllers/resumes_controller.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">ResumesController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="n">before_action</span> <span class="ss">:authenticate_user!</span>

  <span class="k">def</span> <span class="nf">new</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:job_id</span><span class="p">])</span>
    <span class="vi">@resume</span> <span class="o">=</span> <span class="no">Resume</span><span class="p">.</span><span class="nf">new</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">create</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:job_id</span><span class="p">])</span>
    <span class="vi">@resume</span> <span class="o">=</span> <span class="no">Resume</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">resume_params</span><span class="p">)</span>
    <span class="vi">@resume</span><span class="p">.</span><span class="nf">job</span> <span class="o">=</span> <span class="vi">@job</span>
    <span class="vi">@resume</span><span class="p">.</span><span class="nf">user</span> <span class="o">=</span> <span class="n">current_user</span>

    <span class="k">if</span> <span class="vi">@resume</span><span class="p">.</span><span class="nf">save</span>
      <span class="n">flash</span><span class="p">[</span><span class="ss">:notice</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"成功提交履历"</span>
      <span class="n">redirect_to</span> <span class="n">job_path</span><span class="p">(</span><span class="vi">@job</span><span class="p">)</span>
    <span class="k">else</span>
      <span class="n">render</span> <span class="ss">:new</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="kp">private</span>

  <span class="k">def</span> <span class="nf">resume_params</span>
    <span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:resume</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:content</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</figure>

<p>新增 <code>app/views/resumes/new.html.erb</code></p>

<figure class="figure-code code"><figcaption><span>app/views/resumes/new.html.erb
</span></figcaption><div class="highlight"><pre>
<span class="nt">&lt;h3&gt;</span> 投交履历到 <span class="cp">&lt;%=</span> <span class="vi">@job</span><span class="p">.</span><span class="nf">title</span> <span class="cp">%&gt;</span> <span class="nt">&lt;/h3&gt;</span>

<span class="nt">&lt;hr&gt;</span>

<span class="cp">&lt;%=</span> <span class="n">simple_form_for</span> <span class="p">[</span><span class="vi">@job</span><span class="p">,</span> <span class="vi">@resume</span><span class="p">]</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:content</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">submit</span> <span class="s2">"送出"</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>

</pre></div>
</figure>

<p>简历内容不得为空</p>

<figure class="figure-code code"><figcaption><span>app/models/resume.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">Resume</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
  <span class="n">belongs_to</span> <span class="ss">:user</span>
  <span class="n">belongs_to</span> <span class="ss">:job</span>

  <span class="n">validates</span> <span class="ss">:content</span><span class="p">,</span> <span class="ss">presence: </span><span class="kp">true</span>
<span class="k">end</span>

</pre></div>
</figure>

<p><br></p>
<h3>Step 5：加入简历上传功能 （安装 carrierwave）</h3>
<p>这里我们会使用 <a href="https://github.com/carrierwaveuploader/carrierwave">carrierwave</a> 这套 gem 实作上传功能。</p>

<p>安装 carrierwave</p>

<figure class="figure-code code"><figcaption><span>Gemfile
</span></figcaption><div class="highlight"><pre><span class="n">gem</span> <span class="s1">'carrierwave'</span>
</pre></div>
</figure>

<p>然后</p>

<p><code>bundle install</code></p>

<p><br></p>
<h3>Step 6 ：重开 rails server</h3>
<p>装完 Gem 后，要重开 rails server</p>

<p><br></p>
<h3>Step 7 ：新增 attachment 栏位在 resume 这个 model 上</h3>
<figure class="figure-code code"><div class="highlight"><pre>rails g migration add_attachment_to_resume
</pre></div>
</figure>

<p>内容：</p>

<figure class="figure-code code"><figcaption><span>
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">AddAttachmentToResume</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Migration</span><span class="p">[</span><span class="mi">5</span><span class="o">.</span><span class="mi">0</span><span class="p">]</span>
  <span class="k">def</span> <span class="nf">change</span>
    <span class="n">add_column</span> <span class="ss">:resumes</span><span class="p">,</span> <span class="ss">:attachment</span><span class="p">,</span> <span class="ss">:string</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</figure>

<p>然后 rake db:migrate</p>

<p><br></p>
<h3>Step 8：挂上 Attachment Uploader 到 Resume 上</h3>
<p>carrierwave 使用的是“Uploader”这个机制，因此呢，我们要</p>

<figure class="figure-code code"><div class="highlight"><pre>rails g uploader attachment
</pre></div>
</figure>

<p>然后再修改 model，挂上去</p>

<figure class="figure-code code"><figcaption><span>app/models/resume.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">Resume</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
  <span class="n">belongs_to</span> <span class="ss">:user</span>
  <span class="n">belongs_to</span> <span class="ss">:job</span>

  <span class="n">mount_uploader</span> <span class="ss">:attachment</span><span class="p">,</span> <span class="no">AttachmentUploader</span>

  <span class="n">validates</span> <span class="ss">:content</span><span class="p">,</span> <span class="ss">presence: </span><span class="kp">true</span>
<span class="k">end</span>
</pre></div>
</figure>

<p>然后修改 </p>

<figure class="figure-code code"><figcaption><span>app/views/resumes/new.html.erb
</span></figcaption><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">simple_form_for</span> <span class="p">[</span><span class="vi">@job</span><span class="p">,</span> <span class="vi">@resume</span><span class="p">]</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:content</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:attachment</span> <span class="cp">%&gt;</span>

  <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">submit</span> <span class="s2">"送出"</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>

</pre></div>
</figure>

<p>在上传表单加入“档案上传”栏位。</p>

<p>成果会是这样：</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/kAAq0owTpq7z87LTG3BQ_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-30%20%E4%B8%8A%E5%8D%882.21.44.png" title=""></figure></p>

<p><br></p>
<h3>Step 9 : 别忘了修改 resume_params</h3>
<p>修改了表单，我们也要记得修改 <code>resume_params</code>，这样才能收到档案。</p>

<p>修改 <code>app/controllers/resumes_controller.rb</code></p>

<figure class="figure-code code"><figcaption><span>app/controllers/resumes_controller.rb
</span></figcaption><div class="highlight"><pre>  <span class="k">def</span> <span class="nf">resume_params</span>
    <span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:resume</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:content</span><span class="p">,</span> <span class="ss">:attachment</span><span class="p">)</span>
  <span class="k">end</span>
  
</pre></div>
</figure>

<p>试着提交一份简历</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/k81J5QMESGiMu7I1xCyl_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-30%20%E4%B8%8A%E5%8D%882.23.47.png" title=""></figure></p>

<p>这时候如果成功，你切换到 rails server 的 Log 会看到类似这一串：</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/KhK7v50cTduuGZDvdXpv_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-30%20%E4%B8%8A%E5%8D%882.24.19.png" title=""></figure></p>

<p>而且，如果你 <code>git status</code> 会看到 <code>public/uploads/</code> 下有东西</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/46pn3Tb4QBLDDka7mEvN_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-30%20%E4%B8%8A%E5%8D%882.24.48.png" title=""></figure></p>

<p>这时候如果我们打开这个目录，会看到这个资料夹下已经有 pdf</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/CgrDICbISB2sbtQGA7kh_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-30%20%E4%B8%8A%E5%8D%882.25.40.png" title=""></figure></p>

<p><br></p>
<h3>Step 10 ：使用 .gitignore 屏蔽使用者产生的档案</h3>
<p>但是问题来了，使用者产生的档案，其实我们不应该在 git 里面对他们做版本控制。<br>
因此我们要修改 <code>.gitignore</code> 这个档案，在里面记录，屏蔽掉底下所以生成的资源，避免他们被加入版本控制。</p>

<p>修改  <code>.gitignore</code> 加入：</p>

<figure class="figure-code code"><div class="highlight"><pre>public/uploads
</pre></div>
</figure>

<p>屏蔽<br>
如下图所示：</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/CB7L9m4S5CiEq91PnnXP_Screenshot%20at%20Apr%2015%2020-28-50.png" title=""></figure></p>

<p><br></p>
<h3>Step 11: git 存档</h3>
<figure class="figure-code code"><div class="highlight"><pre>git add .
git commit -m "step 7 upload resume"
</pre></div>
</figure>

    </div>
  </div></div><div class='frame'><h1>
      12-1 加分习题
    </h1><h4>所属章节：12 - Admin履历后台 - 加分习题</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>管理员简历后台 － 加分习题</h2>
<ul>
<li>管理员在后台可以看到每个职缺有多少使用者投递简历；</li>
<li>管理员在后台可以看到每个职缺里面的投递简历内容，并且可以下载附件。</li>
</ul>

    </div>
  </div></div><div class='frame'><h1>
      12-2（解答）招聘网站第八部分
    </h1><h4>所属章节：12 - Admin履历后台 - 加分习题</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>目标</h2>
<ul>
<li>管理员在后台可以看到每个职缺有多少使用者投递简历；</li>
<li>管理员在后台可以看到每个职缺里面的投递简历内容，并且可以下载附件。</li>
</ul>

<p><br></p>
<h2>步骤：</h2>
<h3>Step 0: 切出一个新分支</h3>
<figure class="figure-code code"><div class="highlight"><pre>git checkout -b step8
</pre></div>
</figure>

<p><br></p>
<h3>Step 1: 在 admin/jobs 列表加入 薪资上限、下限、收到多少份简历</h3>
<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/lVcBJIp5SHWf74jwpFhh_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-30%20%E4%B8%8A%E5%8D%882.32.33.png" title=""></figure></p>

<p>修改</p>

<figure class="figure-code code"><figcaption><span>app/views/admin/jobs/index.html.erb
</span></figcaption><div class="highlight"><pre>
<span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">"table table-boldered"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;thead&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td&gt;</span>
                职缺
            <span class="nt">&lt;/td&gt;</span>

            <span class="nt">&lt;td&gt;</span>
              收到履历数量
            <span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>
                薪资下限
            <span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>
                薪资上限
            <span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>
                管理选项
            <span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>
                刊登时间
            <span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;/thead&gt;</span>

    <span class="cp">&lt;%</span> <span class="vi">@jobs</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">job</span><span class="o">|</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;tr&gt;</span>

        <span class="nt">&lt;td&gt;</span>
            <span class="cp">&lt;%=</span> <span class="n">render_job_status</span><span class="p">(</span><span class="n">job</span><span class="p">)</span> <span class="cp">%&gt;</span>

            <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="n">job</span><span class="p">.</span><span class="nf">title</span><span class="p">,</span> <span class="n">admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">))</span> <span class="cp">%&gt;</span>
        <span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span> <span class="cp">&lt;%=</span> <span class="n">job</span><span class="p">.</span><span class="nf">resumes</span><span class="p">.</span><span class="nf">count</span> <span class="cp">%&gt;</span> <span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span> <span class="cp">&lt;%=</span> <span class="n">job</span><span class="p">.</span><span class="nf">wage_lower_bound</span> <span class="cp">%&gt;</span> <span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span> <span class="cp">&lt;%=</span> <span class="n">job</span><span class="p">.</span><span class="nf">wage_upper_bound</span> <span class="cp">%&gt;</span> <span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span>
            <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Edit"</span><span class="p">,</span> <span class="n">edit_admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">))</span> <span class="cp">%&gt;</span>
            |
            <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Destroy"</span><span class="p">,</span> <span class="n">admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">),</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:delete</span><span class="p">,</span> <span class="ss">:data</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:confirm</span> <span class="o">=&gt;</span> <span class="s2">"Are you sure?"</span> <span class="p">})</span> <span class="cp">%&gt;</span>

            |
            <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">job</span><span class="p">.</span><span class="nf">is_hidden</span> <span class="cp">%&gt;</span>

            <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Publish"</span><span class="p">,</span> <span class="n">publish_admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">)</span> <span class="p">,</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:post</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-xs btn-default"</span><span class="p">)</span> <span class="cp">%&gt;</span>
        <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
            <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Hide"</span><span class="p">,</span> <span class="n">hide_admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">),</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:post</span><span class="p">,</span>  <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-xs btn-default"</span><span class="p">)</span> <span class="cp">%&gt;</span>
            <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
        <span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span>
            <span class="cp">&lt;%=</span> <span class="n">job</span><span class="p">.</span><span class="nf">created_at</span> <span class="cp">%&gt;</span>
        <span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/table&gt;</span>

</pre></div>
</figure>

<p><br></p>
<h3>Step 2: 可以看到职缺里面有谁投递简历：</h3>
<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/Rk4BLWIzQaaaNkI4LsrI_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-30%20%E4%B8%8A%E5%8D%883.48.17.png" title=""></figure></p>

<p>修改</p>

<figure class="figure-code code"><figcaption><span>app/views/admin/jobs/index.html.erb
</span></figcaption><div class="highlight"><pre>- <span class="nt">&lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">job</span><span class="p">.</span><span class="nf">resumes</span><span class="p">.</span><span class="nf">count</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
+ <span class="nt">&lt;td&gt;</span> <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="n">job</span><span class="p">.</span><span class="nf">resumes</span><span class="p">.</span><span class="nf">count</span><span class="p">,</span> <span class="n">admin_job_resumes_path</span><span class="p">(</span><span class="n">job</span><span class="p">))</span> <span class="cp">%&gt;</span> <span class="nt">&lt;/td&gt;</span>
</pre></div>
</figure>

<p>然后</p>

<figure class="figure-code code"><div class="highlight"><pre>rails g controller admin::resumes
</pre></div>
</figure>

<p>修改</p>

<figure class="figure-code code"><figcaption><span>config/routes.rb
</span></figcaption><div class="highlight"><pre>  <span class="n">namespace</span> <span class="ss">:admin</span> <span class="k">do</span>
    <span class="n">resources</span> <span class="ss">:jobs</span> <span class="k">do</span>
      <span class="n">member</span> <span class="k">do</span>
        <span class="n">post</span> <span class="ss">:publish</span>
        <span class="n">post</span> <span class="ss">:hide</span>
      <span class="k">end</span>

 <span class="o">+</span>    <span class="n">resources</span> <span class="ss">:resumes</span>
    <span class="k">end</span>
  <span class="k">end</span>
</pre></div>
</figure>

<p>然后修改</p>

<figure class="figure-code code"><figcaption><span>app/controllers/admin/resumes_controller.rb
</span></figcaption><div class="highlight"><pre><span class="k">class</span> <span class="nc">Admin</span><span class="o">::</span><span class="no">ResumesController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="n">before_action</span> <span class="ss">:authenticate_user!</span>
  <span class="n">before_action</span> <span class="ss">:require_is_admin</span>

  <span class="n">layout</span> <span class="s1">'admin'</span>

  <span class="k">def</span> <span class="nf">index</span>
    <span class="vi">@job</span> <span class="o">=</span> <span class="no">Job</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:job_id</span><span class="p">])</span>
    <span class="vi">@resumes</span> <span class="o">=</span> <span class="vi">@job</span><span class="p">.</span><span class="nf">resumes</span><span class="p">.</span><span class="nf">order</span><span class="p">(</span><span class="s1">'created_at DESC'</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

</pre></div>
</figure>

<p><br></p>
<h3>Step 3: 设计简历列表</h3>
<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/vQZPDjFLRhmanQj1IFDN_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202016-07-30%20%E4%B8%8A%E5%8D%882.42.39.png" title=""></figure></p>

<p>touch <code>app/views/admin/resumes/index.html.erb</code></p>

<figure class="figure-code code"><figcaption><span>app/views/admin/resumes/index.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;h2&gt;</span> <span class="cp">&lt;%=</span> <span class="vi">@job</span><span class="p">.</span><span class="nf">title</span> <span class="cp">%&gt;</span> - 履历列表 <span class="nt">&lt;/h2&gt;</span>

<span class="nt">&lt;hr&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">render</span> <span class="ss">:partial</span> <span class="o">=&gt;</span> <span class="s2">"resume"</span><span class="p">,</span> <span class="ss">:collection</span> <span class="o">=&gt;</span> <span class="vi">@resumes</span><span class="p">,</span> <span class="ss">:as</span> <span class="o">=&gt;</span> <span class="ss">:resume</span> <span class="cp">%&gt;</span>
</pre></div>
</figure>

<p>touch <code>app/views/admin/resumes/_resume.html.erb</code></p>

<figure class="figure-code code"><figcaption><span>app/views/admin/resumes/_resume.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"panel panel-default"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"panel-heading"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-12"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;h3</span> <span class="na">class=</span><span class="s">"panel-title"</span><span class="nt">&gt;</span>
                    <span class="cp">&lt;%=</span> <span class="n">resume</span><span class="p">.</span><span class="nf">user</span><span class="p">.</span><span class="nf">email</span> <span class="cp">%&gt;</span>
                <span class="nt">&lt;/h3&gt;</span>
            <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"panel-body"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"trix-content"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;p&gt;</span> <span class="cp">&lt;%=</span> <span class="n">simple_format</span><span class="p">(</span><span class="n">resume</span><span class="p">.</span><span class="nf">content</span><span class="p">)</span> <span class="cp">%&gt;</span> <span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;hr&gt;</span>

        <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">resume</span><span class="p">.</span><span class="nf">attachment</span><span class="p">.</span><span class="nf">present?</span> <span class="cp">%&gt;</span>
          <span class="nt">&lt;i</span> <span class="na">class=</span><span class="s">"fa fa-paperclip"</span><span class="nt">&gt;</span> <span class="nt">&lt;/i&gt;</span>
          <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Download Resume"</span><span class="p">,</span> <span class="n">resume</span><span class="p">.</span><span class="nf">attachment_url</span><span class="p">)</span> <span class="cp">%&gt;</span>
        <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
           No Attachment
        <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;/div&gt;</span>
</pre></div>
</figure>

<p><br></p>
<h3>Step 4: git 存档</h3>
<figure class="figure-code code"><div class="highlight"><pre>git add .
git commit -m "admin can see resume list"
</pre></div>
</figure>

    </div>
  </div></div><div class='frame'><h1>
      Job Listing 魔改大赛（第二季）参赛指南
    </h1><h4>所属章节：13 - 招聘网站 PK 魔改大赛</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h3>活动时间</h3>
<p>2017年4月20日00:00~2017年5月7日23:59</p>
<h3>活动内容</h3>
<p>以VIP课程《Rails实战：招聘网站》的实作项目为基本框架，进行网站页面样式的设计比赛</p>
<h3>参赛资格</h3>
<ol>
<li>本次活动仅限本网站VIP用户投稿参赛作品</li>
<li>已在往期任意比赛中获得一等奖、二等奖、三等奖的VIP用户不可重复参加本次比赛</li>
</ol>
<h3>投票说明</h3>
<ol>
<li>本网站的免费用户/VIP用户均可为参赛作品投票</li>
<li>每个用户最多可以为5个不同的作品投票</li>
<li>每个用户只能为一个作品投一次票（免费用户一次投票=1票，VIP用户一次投票=10票）</li>
<li>投票后无法撤销投票</li>
</ol>
<h3>评选规则</h3>
<ol>
<li><p>至活动截止日期，我们将按得票数高低一次评选出一等奖、二等奖、三等奖、优秀奖（注：恶意刷票的作品可继续参加比赛，但将被取消全部获奖资格）</p></li>
<li><p>我们还将从所有完成5次投票的用户（含VIP和免费用户）中随机挑选5名送出投票参与奖</p></li>
</ol>
<h3>结果公布</h3>
<ol>
<li>活动结束后，我们将会有专门的页面公布结果/集中展示获奖作品</li>
<li>如果你在活动中获奖，我们将按照您填写的收货地址寄送奖品（请所有参赛者和投票者在”我的账户“中完善收货地址）
<br>
<br>
</li>
</ol>
<h2>FAQ</h2>
<p>Q：第一期没留级，还能参加第二期魔改大赛吗？</p>

<p>A：可以，只要是全栈营的VIP用户，在之前的比赛中没有得过一等奖或二等奖或三等奖的用户都可以参赛。</p>

<p><br></p>

<p>Q：课程需要学到什么程度才能参加魔改大赛？</p>

<p>A：只要你跟着教材完成了Job-Listing的课程就可以参加大赛。</p>

<p><br><br>
Q：怎样才可以有底气参加魔改大赛？现在心里没底。</p>

<p>A：一开始不要追求完美，尽快把自己的作品呈现出来。好的产品/作品都是经过一层层迭代才变得越来越好的。所以只要你先提交了作品，你就赢了60%的人。<br>
<br><br>
Q：怎么安排时间，分解任务呢？</p>

<p>A：为了帮助大家更好地完成大赛，原定于下周一发布的课程<a href="https://fullstack.xinshengdaxue.com/courses/32" target="_blank">《项目管理基础篇》</a>已经提前公开给各位，学习时间约30分钟，磨刀不误砍柴功，期待在魔改大赛中看到你的作品。<br>
<br><br>
Q：除了基本的套路之外, 有没有排名前面的套路？</p>

<p>A：有。</p>

<ul>
<li>在课程《Rails实战：招聘网站》的基础上优化页面并添加小功能即可。</li>
<li>做完《Rails实战：招聘网站》即可发布自己的作品第一版，后续再对页面和功进行优化和添加。</li>
<li>把网站中已有的按钮功能都实作出来（实在做不出来的可以暂时砍掉），并写成可实操的小教程，发布在论坛或者自己的博客里（有利于其他小伙伴给你投票哦）。</li>
<li>可参考的技术资源有：教材《Rails实战：招聘网站》、<a href="https://forum.qzy.camp/c/40-category/jobliting" target="_blank">交流论坛</a>、<a href="https://fullstack.xinshengdaxue.com/competitions/1" target="_blank">往期参赛作品</a>等。</li>
<li>可参考的网站资源：<a href="http://bootsnipp.com/" rel="nofollow" target="_blank">http://bootsnipp.com/</a> <a href="https://themeforest.net/" rel="nofollow" target="_blank">https://themeforest.net/</a>
</li>
<li>新功能很重要，但是页面的美观和主题的创意也都是很重要的。</li>
<li>积极在slack、微信、论坛上帮助其他小伙伴debug（这时候可以让小伙伴们给你的作品投票哦，不仅践行了教就是最好的学，也为自己拉到了宝贵的票）。</li>
</ul>

<p><br></p>

    </div>
  </div></div><div class='frame'><h1>
      [直播回放]4月17日 Nic 如何参加魔改大赛
    </h1><h4>所属章节：13 - 招聘网站 PK 魔改大赛</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>主讲人：<br>
Nic 老师</p>

<p>时间：<br>
4月17日 20:00</p>

<p>时长：<br>
本次视频总时长50分钟。QA部分12分钟</p>

<p>概要：<br>
魔改大赛前哨战，提取练习的重要性，以及教你如何只花三十分钟就能参加比赛的小套路</p>

<ul>
<li>提取练习的重要性</li>
<li>魔改大赛前端基础实战</li>
<li>Google Chrome 快捷 + Atom 缩进快捷</li>
<li>Q＆A</li>
</ul>

<p>提示：<br>
需要科学上网才可以正常观看本视频<br>
如果画面模糊请到右下角设置中将画质调整为720p<br>
<br></p>

    </div>
      <script src="//fast.wistia.com/embed/medias/9xnqzcele0.jsonp" async></script>
<script src="//fast.wistia.com/assets/external/E-v1.js" async></script>
<div class="player-bg">
    <div class="loading-tips">
        <button class="btn btn-default btn-lg">
            <i class="fa fa-spinner fa-spin"></i>
        </button>
        <p>视频文件正在加载，请确保已经打开VPN</p>
    </div>
    <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
        <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
            <div class="wistia_embed wistia_async_9xnqzcele0 videoFoam=true" style="height:100%;width:100%"> </div>
            <script>
                window._wq = window._wq || [];
                _wq.push({ id: "9xnqzcele0", onReady: function(video) {
                    window.wistia_video = video;
                        window.wistia_video.time("1132.557147");
                    var url = "/user_wistia_position_records/update_position";
                    var post_id = "1122"; 
                    setInterval(function(){                        
                        if (wistia_video.state() === "playing") {
                            var data = {
                                position: wistia_video.time(),
                                post_id: post_id 
                            };                            
                            $.post(url, data);
                        }                        
                    }, 5000);
                }});
            </script>            
        </div>
    </div>
</div>

  </div></div><div class='frame'><h1>
      魔改大赛（初级）
    </h1><h4>所属章节：13 - 招聘网站 PK 魔改大赛</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>目标：</h2>
<ul>
<li>首页美化</li>
<li>管理员后台美化</li>
</ul>
<h2>Part 1: 首页美化</h2>
<h3>Step 0: 把 welcome/index 设为首页</h3>
<figure class="figure-code code"><figcaption><span>routes.rb
</span></figcaption><div class="highlight"><pre><span class="o">-</span> <span class="n">root</span> <span class="s1">'jobs#index'</span>
<span class="o">+</span> <span class="n">root</span> <span class="s1">'welcome#index'</span>
</pre></div>
</figure>
<h3>Step 1: 在首页加个头图</h3>
<figure class="figure-code code"><figcaption><span>welcome/index.html.erb
</span></figcaption><div class="highlight"><pre>- <span class="nt">&lt;h1&gt;</span> Hello World! <span class="nt">&lt;h1&gt;</span>

+  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"jumbotron"</span><span class="nt">&gt;</span>
+    <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">"title"</span><span class="nt">&gt;</span>18K Offer<span class="nt">&lt;/h1&gt;</span>
+    <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"slogan"</span><span class="nt">&gt;</span>18K Offer 是一个提供18K薪水工作机会的求职网站。
+    <span class="nt">&lt;br&gt;</span>
+    我们希望藉由这个网站，能让大家找到且应征上高薪且优质的工作。
+    <span class="nt">&lt;br&gt;</span>
+     凭借自己的努力和天份也会变 Winner
+    <span class="nt">&lt;/p&gt;</span>
+    <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"lead"</span><span class="nt">&gt;&lt;a</span> <span class="na">class=</span><span class="s">"btn btn-lg btn-danger"</span> <span class="na">href=</span><span class="s">"/jobs"</span><span class="nt">&gt;</span>马上应征<span class="nt">&lt;/a&gt;&lt;/p&gt;</span>
+  <span class="nt">&lt;/div&gt;</span>
</pre></div>
</figure>

<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss
</span></figcaption><div class="highlight"><pre><span class="p">.</span><span class="nf">jumbotron</span> <span class="p">{</span>
  <span class="n">background</span><span class="o">-</span><span class="n">image</span><span class="ss">:url</span><span class="p">(</span><span class="s1">'http://fullstack-public.oss-cn-qingdao.aliyuncs.com/2017-04-15-542213.png'</span><span class="p">);</span>
  <span class="n">background</span><span class="o">-</span><span class="ss">repeat: </span><span class="n">no</span><span class="o">-</span><span class="n">repeat</span><span class="p">;</span>
  <span class="n">background</span><span class="o">-</span><span class="ss">size: </span><span class="n">cover</span><span class="p">;</span>
  <span class="n">padding</span><span class="o">-</span><span class="ss">bottom: </span><span class="mi">110</span><span class="n">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nf">title</span> <span class="p">{</span>
  <span class="n">font</span><span class="o">-</span><span class="ss">family: </span><span class="s2">"Helvetica Neue"</span><span class="p">,</span> <span class="s2">"Microsoft Yahei"</span><span class="p">,</span> <span class="err">微软雅黑</span><span class="p">;</span>
  <span class="n">text</span><span class="o">-</span><span class="ss">align: </span><span class="n">center</span><span class="p">;</span>
  <span class="n">margin</span><span class="o">-</span><span class="ss">top: </span><span class="mi">200</span><span class="n">px</span><span class="p">;</span>
  <span class="n">margin</span><span class="o">-</span><span class="ss">bottom: </span><span class="mi">80</span><span class="n">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nf">slogan</span> <span class="p">{</span>
  <span class="n">margin</span><span class="o">-</span><span class="ss">top: </span><span class="mi">10</span><span class="n">px</span><span class="p">;</span>
  <span class="n">margin</span><span class="o">-</span><span class="ss">bottom: </span><span class="mi">50</span><span class="n">px</span><span class="p">;</span>
  <span class="n">text</span><span class="o">-</span><span class="ss">align: </span><span class="n">center</span><span class="p">;</span>
  <span class="ss">color: </span><span class="n">white</span><span class="p">;</span>
  <span class="ss">top: </span><span class="mi">12</span><span class="n">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nf">lead</span> <span class="p">{</span>
  <span class="n">margin</span><span class="o">-</span><span class="ss">bottom: </span><span class="mi">60</span><span class="n">px</span><span class="p">;</span>
  <span class="n">text</span><span class="o">-</span><span class="ss">align: </span><span class="n">center</span><span class="p">;</span>
  <span class="ss">color: </span><span class="n">white</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</figure>
<h3>Step 2: 在头图下方加入其他信息</h3>
<figure class="figure-code code"><figcaption><span>welcome/index.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">"company"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class =</span><span class="err"> </span><span class="s">"container-fluid"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-sm-4 "</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"thumbnail"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"http://fullstack-public.oss-cn-qingdao.aliyuncs.com/2017-04-15-Screenshot%20at%20Apr%2015%2021-43-31.png"</span> <span class="na">alt=</span><span class="s">"search"</span> <span class="na">class =</span><span class="err"> </span><span class="s">"img-thumbnail"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"caption"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h3&gt;</span>北京朝阳建外SOHO<span class="nt">&lt;/h3&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-sm-4 "</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"thumbnail"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"http://fullstack-public.oss-cn-qingdao.aliyuncs.com/2017-04-15-Screenshot%20at%20Apr%2015%2021-43-48.png"</span> <span class="na">alt=</span><span class="s">"bid"</span> <span class="na">class =</span><span class="err"> </span><span class="s">"img-thumbnail"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"caption"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h3&gt;</span>info@18koffer.com<span class="nt">&lt;/h3&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-sm-4 "</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"thumbnail"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"http://fullstack-public.oss-cn-qingdao.aliyuncs.com/2017-04-15-Screenshot%20at%20Apr%2015%2021-44-00.png"</span> <span class="na">alt=</span><span class="s">"heart"</span> <span class="na">class =</span><span class="err"> </span><span class="s">"img-thumbnail"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"caption"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h3&gt;</span>010-12344321<span class="nt">&lt;/h3&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>
</pre></div>
</figure>

<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss
</span></figcaption><div class="highlight"><pre><span class="p">.</span><span class="nf">caption</span> <span class="p">{</span>
  <span class="ss">margin: </span><span class="mi">30</span><span class="n">px</span><span class="p">;</span>
  <span class="n">text</span><span class="o">-</span><span class="ss">align: </span><span class="n">center</span><span class="p">;</span>
  <span class="ss">top: </span><span class="mi">20</span><span class="n">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nf">thumbnail</span> <span class="p">{</span>
    <span class="ss">border: </span><span class="mi">0</span> <span class="n">none</span><span class="p">;</span>
    <span class="n">box</span><span class="o">-</span><span class="ss">shadow: </span><span class="n">none</span><span class="p">;</span>
    <span class="n">margin</span><span class="o">-</span><span class="ss">top: </span><span class="mi">60</span><span class="n">px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</figure>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/1mWBUKptR9WOG7Y3xoWs_index2.png" title=""></figure><br>
<br></p>
<h2>Part 2: 管理员后台美化</h2>
<h3>Step 1:更改按钮样式</h3>
<figure class="figure-code code"><figcaption><span>app/views/admin/jobs/index.html.erb
</span></figcaption><div class="highlight"><pre><span class="nt">&lt;td&gt;</span>
-    <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Edit"</span><span class="p">,</span> <span class="n">edit_admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">))</span> <span class="cp">%&gt;</span>
-    | 
-    <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Destroy"</span><span class="p">,</span> <span class="n">admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">),</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:delete</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-xs btn-default info"</span><span class="p">,</span> <span class="ss">:data</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:confirm</span> <span class="o">=&gt;</span> <span class="s2">"Are you sure?"</span> <span class="p">})</span> <span class="cp">%&gt;</span>
-    |
+    <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Edit"</span><span class="p">,</span> <span class="n">edit_admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">),</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-xs btn-info"</span><span class="p">)</span> <span class="cp">%&gt;</span>
+    <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Destroy"</span><span class="p">,</span> <span class="n">admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">),</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:delete</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-xs btn-danger"</span><span class="p">,</span> <span class="ss">:data</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:confirm</span> <span class="o">=&gt;</span> <span class="s2">"Are you sure?"</span> <span class="p">})</span> <span class="cp">%&gt;</span>
     <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">job</span><span class="p">.</span><span class="nf">is_hidden</span> <span class="cp">%&gt;</span>
-      <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Publish"</span><span class="p">,</span> <span class="n">publish_admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">)</span> <span class="p">,</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:post</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-xs btn-default "</span><span class="p">)</span> <span class="cp">%&gt;</span>
+        <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Publish"</span><span class="p">,</span> <span class="n">publish_admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">)</span> <span class="p">,</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:post</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-xs btn-success"</span><span class="p">)</span> <span class="cp">%&gt;</span>
     <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
-        <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Hide"</span><span class="p">,</span> <span class="n">hide_admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">),</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:post</span><span class="p">,</span>  <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-xs btn-default"</span><span class="p">)</span> <span class="cp">%&gt;</span>
+        <span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"Hide"</span><span class="p">,</span> <span class="n">hide_admin_job_path</span><span class="p">(</span><span class="n">job</span><span class="p">),</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:post</span><span class="p">,</span>  <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-xs btn-warning"</span><span class="p">)</span> <span class="cp">%&gt;</span>
     <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/td&gt;</span>
</pre></div>
</figure>
<h3>Step 2: 更改表格样式</h3>
<figure class="figure-code code"><figcaption><span>app/views/admin/jobs/index.html.erb
</span></figcaption><div class="highlight"><pre>- <span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">"table table-boldered"</span> <span class="nt">&gt;</span>
+ <span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">"table table-boldered table-striped custab"</span> <span class="nt">&gt;</span>
</pre></div>
</figure>

<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss
</span></figcaption><div class="highlight"><pre><span class="p">.</span><span class="nf">custab</span><span class="p">{</span>
  <span class="ss">border: </span><span class="mi">1</span><span class="n">px</span> <span class="n">solid</span> <span class="c1">#ccc;
</span>
  <span class="ss">padding: </span><span class="mi">5</span><span class="n">px</span><span class="p">;</span>
  <span class="ss">margin: </span><span class="mi">5</span><span class="o">%</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">box</span><span class="o">-</span><span class="ss">shadow: </span><span class="mi">3</span><span class="n">px</span> <span class="mi">3</span><span class="n">px</span> <span class="mi">2</span><span class="n">px</span> <span class="c1">#ccc;
</span>
  <span class="ss">transition: </span><span class="mi">0</span><span class="o">.</span><span class="mi">5</span><span class="n">s</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nf">custab</span><span class="ss">:hover</span><span class="p">{</span>
  <span class="n">box</span><span class="o">-</span><span class="ss">shadow: </span><span class="mi">3</span><span class="n">px</span> <span class="mi">3</span><span class="n">px</span> <span class="mi">0</span><span class="n">px</span> <span class="n">transparent</span><span class="p">;</span>
  <span class="ss">transition: </span><span class="mi">0</span><span class="o">.</span><span class="mi">5</span><span class="n">s</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</figure>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/9a5efHcTx2yvu8VUfDwT_colorbutton1.png" title=""></figure></p>
<h3>Step 3: git 存档</h3>
<figure class="figure-code code"><div class="highlight"><pre>git add .
git commit -m "better welcome/index &amp; admin/jobs/index"
</pre></div>
</figure>

    </div>
  </div></div><div class='frame'><h1>
      魔改大赛（中级 Part 1）
    </h1><h4>所属章节：13 - 招聘网站 PK 魔改大赛</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>目标：</h2>
<ul>
<li>搭配颜色</li>
<li>修改导航栏</li>
<li>修改首页大图</li>
</ul>
<h2>步骤：</h2>
<h2>Part 1：搭配颜色</h2>
<h3>Step 0：利用工具来选色</h3>
<p>如果你对颜色的拿捏没有把握<br>
打开 <a href="https://www.materialui.co/colors" rel="nofollow" target="_blank">https://www.materialui.co/colors</a> ，这里面的颜色都是标准颜色，选择你觉得顺眼的颜色，点击之后系统就会复制颜色值到粘贴板，然后就可以放在css里面使用了。</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/Z6OL3MjvRhwWhmLhUbLj_Screenshot%20at%20Apr%2017%2011-40-25.png" title=""></figure></p>

<p>说明：如果你想让自己的网页美观一些，请避免使用 css 默认的 “black、red、blue、yellow……”这些颜色值</p>

    </div>
  </div></div><div class='frame'><h1>
      魔改大赛（中级 Part 2）
    </h1><h4>所属章节：13 - 招聘网站 PK 魔改大赛</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>Part 2：修改导航栏</h2>
<h3>Step 0：让导航栏真正的全屏</h3>
<p>修改 app/views/layouts/application.html.erb </p>

<figure class="figure-code code"><figcaption><span>app/views/layouts/application.html.erb
</span></figcaption><div class="highlight"><pre><span class="o">-</span> <span class="o">&lt;</span><span class="sx">%= render "common/navbar" %&gt;
+ &lt;div class=</span><span class="s2">"row"</span><span class="o">&gt;</span>
<span class="o">+</span>   <span class="o">&lt;</span><span class="sx">%= render "common/navbar" %&gt;
+ &lt;/div&gt;
</span></pre></div>
</figure>      
  

<p>说明：这是因为我们的 layout 里用到了 container-fluid 这个 class，它默认会把左右两边的 padding 撑开15px，而 row 这个 class 则是带有左右 负 15px 的 margin，这样就可以抵消掉外面的两个 padding 了。</p>
<h3>Step 1：给导航栏替换不同的颜色</h3>
<p>修改 app/assets/stylesheets/application.scss<br>
在最底部回车换一个空行，填入</p>

<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss
</span></figcaption><div class="highlight"><pre><span class="p">.</span><span class="nf">.</span><span class="o">.</span><span class="err">略</span>
<span class="o">+</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">default</span> <span class="p">{</span>
<span class="o">+</span>     <span class="n">background</span><span class="o">-</span><span class="ss">color: </span><span class="c1">#212121;  //背景颜色
</span>
<span class="o">+</span>     <span class="n">border</span><span class="o">-</span><span class="ss">color: </span><span class="c1">#212121; //边框色
</span>
<span class="o">+</span>     <span class="n">margin</span><span class="o">-</span><span class="ss">bottom: </span><span class="mi">0</span><span class="p">;</span> <span class="sr">//</span><span class="err">底部</span> <span class="n">margin</span> <span class="err">不撑开距离</span>
<span class="o">+</span> <span class="p">}</span>
</pre></div>
</figure>

<p>说明：因为本文举例主要修改的是网站首页，而它默认用的是 application layout，application.scss 负责控制 application layout 的样式，所以本文所有的 css 都是在这个 scss 文件里面改。</p>
<h3>step 2：去掉导航栏的圆角</h3>
<p>更换背景色之后导航栏四边有圆角，我们来把它去掉，增加 css 代码</p>

<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss
</span></figcaption><div class="highlight"><pre><span class="p">.</span><span class="nf">.</span><span class="o">.</span><span class="err">略</span>
<span class="o">+</span> <span class="vi">@media</span> <span class="p">(</span><span class="n">min</span><span class="o">-</span><span class="ss">width: </span><span class="mi">768</span><span class="n">px</span><span class="p">)</span> <span class="p">{</span>
<span class="o">+</span>   <span class="p">.</span><span class="nf">navbar</span> <span class="p">{</span>
<span class="o">+</span>     <span class="n">border</span><span class="o">-</span><span class="ss">radius: </span><span class="mi">0</span><span class="p">;</span> <span class="sr">//</span><span class="err">圆角为</span><span class="mi">0</span>
<span class="o">+</span>   <span class="p">}</span>
<span class="o">+</span> <span class="p">}</span>
</pre></div>
</figure>
<h3>step 3：修改 Logo 字体颜色和对齐样式</h3>
<p>增加代码</p>

<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss
</span></figcaption><div class="highlight"><pre><span class="p">.</span><span class="nf">.</span><span class="o">.</span><span class="err">略</span>
<span class="o">+</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">default</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">brand</span> <span class="p">{</span>
<span class="o">+</span>   <span class="ss">color: </span><span class="c1">#EF6C00; //字体颜色
</span>
<span class="o">+</span>   <span class="ss">padding: </span><span class="mi">10</span><span class="n">px</span> <span class="mi">15</span><span class="n">px</span><span class="p">;</span> <span class="sr">//</span><span class="err">上下</span><span class="mi">10</span><span class="n">px</span><span class="err">，左右</span><span class="mi">15</span><span class="n">px</span>
<span class="o">+</span>   <span class="n">line</span><span class="o">-</span><span class="ss">height: </span><span class="mi">30</span><span class="n">px</span><span class="p">;</span> <span class="sr">//</span><span class="err">文字行高</span>
<span class="o">+</span> <span class="p">}</span>

<span class="o">+</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">default</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">brand</span><span class="ss">:hover</span><span class="p">,</span>
<span class="o">+</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">default</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">brand</span><span class="ss">:focus</span> <span class="p">{</span>
<span class="o">+</span>   <span class="ss">color: </span><span class="c1">#FF6F00; //鼠标放置在链接上的文字颜色
</span>
<span class="o">+</span>   <span class="n">background</span><span class="o">-</span><span class="ss">color: </span><span class="n">transparent</span><span class="p">;</span> <span class="sr">//</span><span class="err">鼠标放置在链接上的背景颜色，这里设为透明</span>
<span class="o">+</span> <span class="p">}</span>
</pre></div>
</figure>
<h3>step 4：修改导航栏链接颜色</h3>
<p>增加代码（本段代码不做注释说明，请参考step3）</p>

<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss
</span></figcaption><div class="highlight"><pre><span class="p">.</span><span class="nf">.</span><span class="o">.</span><span class="err">略</span>
<span class="o">+</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">default</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">nav</span> <span class="o">&gt;</span> <span class="n">li</span> <span class="o">&gt;</span> <span class="n">a</span><span class="p">{</span>
<span class="o">+</span>   <span class="ss">color: </span><span class="c1">#EF6C00;
</span>
<span class="o">+</span> <span class="p">}</span>

<span class="o">+</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">default</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">nav</span> <span class="o">&gt;</span> <span class="n">li</span> <span class="o">&gt;</span> <span class="n">a</span><span class="ss">:hover</span><span class="p">,</span>
<span class="o">+</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">default</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">nav</span> <span class="o">&gt;</span> <span class="n">li</span> <span class="o">&gt;</span> <span class="n">a</span><span class="ss">:focus</span> <span class="p">{</span>
<span class="o">+</span>   <span class="ss">color: </span><span class="c1">#FF6F00;
</span>
<span class="o">+</span>   <span class="n">background</span><span class="o">-</span><span class="ss">color: </span><span class="n">transparent</span><span class="p">;</span>
<span class="o">+</span> <span class="p">}</span>
<span class="o">+</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">default</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">nav</span> <span class="o">&gt;</span> <span class="p">.</span><span class="nf">active</span> <span class="o">&gt;</span> <span class="n">a</span><span class="p">,</span>
<span class="o">+</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">default</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">nav</span> <span class="o">&gt;</span> <span class="p">.</span><span class="nf">active</span> <span class="o">&gt;</span> <span class="n">a</span><span class="ss">:hover</span><span class="p">,</span>
<span class="o">+</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">default</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">nav</span> <span class="o">&gt;</span> <span class="p">.</span><span class="nf">active</span> <span class="o">&gt;</span> <span class="n">a</span><span class="ss">:focus</span> <span class="p">{</span>
<span class="o">+</span>   <span class="ss">color: </span><span class="c1">#FF6F00;
</span>
<span class="o">+</span>   <span class="n">background</span><span class="o">-</span><span class="ss">color: </span><span class="c1">#FFE0B2;
</span>
<span class="o">+</span> <span class="p">}</span>

<span class="o">+</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">default</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">nav</span> <span class="o">&gt;</span> <span class="p">.</span><span class="nf">open</span> <span class="o">&gt;</span> <span class="n">a</span><span class="p">,</span>
<span class="o">+</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">default</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">nav</span> <span class="o">&gt;</span> <span class="p">.</span><span class="nf">open</span> <span class="o">&gt;</span> <span class="n">a</span><span class="ss">:focus</span><span class="p">,</span>
<span class="o">+</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">default</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">nav</span> <span class="o">&gt;</span> <span class="p">.</span><span class="nf">open</span> <span class="o">&gt;</span> <span class="n">a</span><span class="ss">:hover</span> <span class="p">{</span>
<span class="o">+</span>   <span class="n">background</span><span class="o">-</span><span class="ss">color: </span><span class="c1">#FFE0B2;
</span>
<span class="o">+</span>   <span class="ss">color: </span><span class="c1">#212121;
</span>
<span class="o">+</span> <span class="p">}</span>
</pre></div>
</figure>
<h3>step 5：给导航栏 Logo 加图标</h3>
<h3>方法一：用 FontAwesome</h3>
<figure class="figure-code code"><figcaption><span>app/views/common/_navbar.html.erb
</span></figcaption><div class="highlight"><pre><span class="p">.</span><span class="nf">.</span><span class="o">.</span><span class="err">略</span>
<span class="o">-</span> <span class="o">&lt;</span><span class="n">a</span> <span class="k">class</span><span class="o">=</span><span class="s2">"navbar-brand"</span> <span class="n">href</span><span class="o">=</span><span class="s2">"/"</span><span class="o">&gt;</span><span class="no">Job</span> <span class="no">Listing</span> <span class="o">&lt;</span><span class="sr">/a&gt;
+ &lt;a class="navbar-brand" href="/</span><span class="s2">"&gt;&lt;i class="</span><span class="n">fa</span> <span class="n">fa</span><span class="o">-</span><span class="n">diamond</span><span class="s2">" aria-hidden="</span><span class="kp">true</span><span class="s2">"&gt;真·24K Offer&lt;/i&gt;&lt;/a&gt;
</span></pre></div>
</figure>
<h3>方法二：用图片</h3>
<p>① FontAwesome 的图标数量毕竟有限，而且适合用的也不多，我们也可以用普通图片格式<br>
② 去 <a href="http://www.flaticon.com" rel="nofollow" target="_blank">http://www.flaticon.com</a> 选一个合适的小图片并以 png 的格式下载，把下载后的图片命名为 logo.png<br>
③ 在 job-listing/public 目录里新建一个 images 文件夹，把 logo.png 复制到images 文件夹里<br>
④ 打开app/views/common/_navbar.html.erb</p>

<figure class="figure-code code"><figcaption><span>app/views/common/_navbar.html.erb
</span></figcaption><div class="highlight"><pre><span class="p">.</span><span class="nf">.</span><span class="o">.</span><span class="err">略</span>
<span class="o">-</span> <span class="o">&lt;</span><span class="n">a</span> <span class="k">class</span><span class="o">=</span><span class="s2">"navbar-brand"</span> <span class="n">href</span><span class="o">=</span><span class="s2">"/"</span><span class="o">&gt;</span><span class="no">Job</span> <span class="no">Listing</span> <span class="o">&lt;</span><span class="sr">/a&gt;
+ &lt;a class="navbar-brand" href="/</span><span class="s2">"&gt;&lt;img src='&lt;%= image_url 'logo.png' %&gt;' &gt;真·24K Offer&lt;/a&gt;
</span></pre></div>
</figure>

<p>⑤ 再给 application.scss 加一小段logo图片的样式定义</p>

<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss
</span></figcaption><div class="highlight"><pre><span class="p">.</span><span class="nf">.</span><span class="o">.</span><span class="err">略</span>
<span class="o">+</span> <span class="p">.</span><span class="nf">navbar</span><span class="o">-</span><span class="n">brand</span> <span class="o">&gt;</span> <span class="n">img</span> <span class="p">{</span>
<span class="o">+</span>     <span class="ss">display: </span><span class="n">inline</span><span class="o">-</span><span class="n">block</span><span class="p">;</span> <span class="sr">//</span><span class="err">图片和链接文字显示在同一行</span>
<span class="o">+</span>     <span class="n">margin</span><span class="o">-</span><span class="ss">right: </span><span class="mi">10</span><span class="n">px</span><span class="p">;</span> <span class="sr">//</span><span class="err">图片和链接文字拉开一点距离</span>
<span class="o">+</span>     <span class="ss">width: </span><span class="mi">32</span><span class="n">px</span><span class="p">;</span> <span class="sr">//</span><span class="err">定制图片宽度</span>
<span class="o">+</span>     <span class="ss">height: </span><span class="mi">32</span><span class="n">px</span><span class="p">;</span> <span class="sr">//</span><span class="err">定制图片高度</span>
<span class="o">+</span> <span class="p">}</span>
</pre></div>
</figure>
<h3>step 6：给网站加 Favicon（收藏书签时显示的小图标）</h3>
<h3>方法一：用 FontAwesome</h3>
<p>① 打开 <a href="http://paulferrett.com/fontawesome-favicon" rel="nofollow" target="_blank">http://paulferrett.com/fontawesome-favicon</a> ，把 step5方法一 用到的 fa-diamond 转换成 ico 格式并下载，重命名 ico 文件为 favicon.ico<br>
② 在job-listing/public目录里新建一个 images 文件夹，把 favicon.ico 复制到 images 文件夹里<br>
③ 在 app/views/layouts/application.html.erb 中加入一行代码，如下图</p>

<figure class="figure-code code"><figcaption><span>app/views/layouts/application.html.erb
</span></figcaption><div class="highlight"><pre><span class="p">.</span><span class="nf">.</span><span class="o">.</span><span class="err">略</span>
  <span class="o">&lt;</span><span class="sx">%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;
+ &lt;link rel=</span><span class="s2">"shortcut icon"</span> <span class="n">href</span><span class="o">=</span><span class="s2">"/images/favicon.ico"</span><span class="o">&gt;</span>
</pre></div>
</figure>
<h3>方法二：用图片</h3>
<p>① 打开 <a href="http://www.png2ico.com" rel="nofollow" target="_blank">http://www.png2ico.com</a> ，把 step5方法二 用到的 logo.png 拖动上传并转换成 ico 文件<br>
② 下载 ico 文件，按照step5方法二的方法重命名、放入文件夹、引用。</p>
<h3>step 7：修改网站标题</h3>
<p>修改 app/views/layouts/application.html.erb</p>

<figure class="figure-code code"><figcaption><span>app/views/layouts/application.html.erb
</span></figcaption><div class="highlight"><pre><span class="o">-</span> <span class="o">&lt;</span><span class="n">title</span><span class="o">&gt;</span><span class="no">JobListing</span><span class="o">&lt;</span><span class="sr">/title&gt;
+ &lt;title&gt;真·24K Offer&lt;/</span><span class="n">title</span><span class="o">&gt;</span>
</pre></div>
</figure>

<p>最后的效果图如下：<br>
<figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/LPxQYsVYSShmbjA7zeAQ_Screenshot%20at%20Apr%2017%2013-25-23.png" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      魔改大赛（中级 Part 3）
    </h1><h4>所属章节：13 - 招聘网站 PK 魔改大赛</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>Part 3：修改首页大图</h2>
<h3>step 0：请使用正版授权的付费或免费图片</h3>
<p>付费 <a href="https://www.shutterstock.com" rel="nofollow" target="_blank">https://www.shutterstock.com</a></p>

<p>免费 <a href="https://picjumbo.com" rel="nofollow" target="_blank">https://picjumbo.com</a><br>
免费 <a href="https://unsplash.com" rel="nofollow" target="_blank">https://unsplash.com</a><br>
免费 <a href="https://pixabay.com" rel="nofollow" target="_blank">https://pixabay.com</a></p>
<h3>step 1：让大图满屏显示</h3>
<p>修改 app/assets/stylesheets/application.scss</p>

<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss
</span></figcaption><div class="highlight"><pre><span class="o">+</span> <span class="p">.</span><span class="nf">container</span><span class="o">-</span><span class="n">fluid</span> <span class="p">.</span><span class="nf">jumbotron</span><span class="p">{</span>
<span class="o">+</span>   <span class="n">padding</span><span class="o">-</span><span class="ss">bottom: </span><span class="mi">110</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="err">内部的底部边距，这样按钮不会很靠近底部了</span>
<span class="o">+</span>   <span class="ss">margin: </span><span class="mi">0</span> <span class="o">-</span><span class="mi">15</span><span class="n">px</span> <span class="mi">20</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="err">顶部</span><span class="n">margin</span><span class="err">为</span><span class="mi">0</span><span class="err">，因此可以直接接着导航栏；左右</span><span class="n">margin</span><span class="err">为负</span><span class="mi">15</span><span class="err">，因此可以顶到浏览器的边缘（抵消</span> <span class="n">container</span><span class="o">-</span><span class="n">fluid</span> <span class="err">的</span> <span class="mi">15</span><span class="n">px</span> <span class="err">左右</span><span class="n">padding</span><span class="p">);</span><span class="err">底部</span><span class="n">margin</span><span class="err">为</span><span class="mi">20</span><span class="err">，会跟下面的内容撑开距离</span>
<span class="o">+</span>   <span class="n">border</span><span class="o">-</span><span class="ss">radius: </span><span class="mi">0</span><span class="p">;</span><span class="sr">//</span><span class="err">圆角为</span><span class="mi">0</span>
<span class="o">+</span> <span class="p">}</span>
</pre></div>
</figure>
<h3>step 2：修改文字对齐/背景</h3>
<p>本例背景图的主体位于右侧，因此需要把文字的显示对齐改为左对齐。<br>
我们顺便试着给文字区域加一点带透明度的背景色。</p>

<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss
</span></figcaption><div class="highlight"><pre><span class="p">.</span><span class="nf">title</span> <span class="p">{</span>
<span class="o">-</span>  <span class="n">font</span><span class="o">-</span><span class="ss">family: </span><span class="s2">"Helvetica Neue"</span><span class="p">,</span> <span class="s2">"Microsoft Yahei"</span><span class="p">,</span> <span class="err">微软雅黑</span><span class="p">;</span>
<span class="o">-</span>  <span class="n">text</span><span class="o">-</span><span class="ss">align: </span><span class="n">center</span><span class="p">;</span>
<span class="o">-</span>  <span class="n">margin</span><span class="o">-</span><span class="ss">top: </span><span class="mi">200</span><span class="n">px</span><span class="p">;</span>
<span class="o">-</span>  <span class="n">margin</span><span class="o">-</span><span class="ss">bottom: </span><span class="mi">80</span><span class="n">px</span><span class="p">;</span>
  
<span class="o">+</span>  <span class="n">background</span><span class="o">-</span><span class="ss">color: </span><span class="n">rgba</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">0</span><span class="o">.</span><span class="mi">39</span><span class="p">);</span><span class="sr">//</span><span class="err">背景颜色含透明度</span>
<span class="o">+</span>  <span class="n">max</span><span class="o">-</span><span class="ss">width: </span><span class="mi">500</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="err">最大宽度</span>
<span class="o">+</span>  <span class="n">margin</span><span class="o">-</span><span class="ss">top: </span><span class="mi">200</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="err">和顶部拉开距离</span>
<span class="o">+</span>  <span class="n">margin</span><span class="o">-</span><span class="ss">bottom: </span><span class="mi">0</span><span class="p">;</span><span class="sr">//</span><span class="err">这样就可以紧接息面的描述文字</span>
<span class="o">+</span>  <span class="n">border</span><span class="o">-</span><span class="n">top</span><span class="o">-</span><span class="n">right</span><span class="o">-</span><span class="ss">radius: </span><span class="mi">3</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="err">右上角圆边</span>
<span class="o">+</span>  <span class="n">border</span><span class="o">-</span><span class="n">top</span><span class="o">-</span><span class="n">left</span><span class="o">-</span><span class="ss">radius: </span><span class="mi">3</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="err">左上角圆边</span>
<span class="p">}</span>

<span class="o">+</span> <span class="p">.</span><span class="nf">jumbotron</span> <span class="n">h1</span><span class="p">,</span> <span class="p">.</span><span class="nf">jumbotron</span> <span class="p">.</span><span class="nf">h1</span> <span class="p">{</span>
<span class="o">+</span>     <span class="n">text</span><span class="o">-</span><span class="ss">align: </span><span class="n">left</span><span class="p">;</span><span class="sr">//</span><span class="err">文字左对齐</span>
<span class="o">+</span>     <span class="ss">color: </span><span class="c1">#222;  //字体颜色
</span>
<span class="o">+</span>     <span class="ss">padding: </span><span class="mi">50</span><span class="n">px</span> <span class="mi">20</span><span class="n">px</span> <span class="mi">0</span><span class="p">;</span><span class="sr">//</span><span class="err">上</span><span class="mi">50</span><span class="n">px</span><span class="err">，左右</span><span class="mi">20</span><span class="n">px</span><span class="err">，下</span><span class="mi">0</span>
<span class="o">+</span> <span class="p">}</span>

<span class="o">+</span> <span class="p">.</span><span class="nf">jumbotron</span> <span class="nb">p</span> <span class="p">{</span>
<span class="o">+</span>     <span class="ss">margin: </span><span class="mi">0</span><span class="p">;</span><span class="sr">//</span><span class="err">上下左右</span><span class="n">margin</span><span class="err">为</span><span class="mi">0</span>
<span class="o">+</span>     <span class="n">font</span><span class="o">-</span><span class="ss">size: </span><span class="mi">26</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="err">字体大小</span>
<span class="o">+</span>     <span class="n">max</span><span class="o">-</span><span class="ss">width: </span><span class="mi">500</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="err">最大宽度</span>
<span class="o">+</span>     <span class="n">background</span><span class="o">-</span><span class="ss">color: </span><span class="n">rgba</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">0</span><span class="o">.</span><span class="mi">39</span><span class="p">);</span><span class="sr">//</span><span class="err">背景颜色含透明度</span>
<span class="o">+</span>     <span class="ss">padding: </span><span class="mi">20</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="err">上下左右</span><span class="n">padding</span><span class="err">为</span><span class="mi">20</span><span class="n">px</span>
<span class="o">+</span>     <span class="n">text</span><span class="o">-</span><span class="n">align</span><span class="ss">:left</span><span class="p">;</span><span class="sr">//</span><span class="err">文字左对齐</span>
<span class="o">+</span>     <span class="ss">color: </span><span class="c1">#222;//字体颜色
</span>
<span class="o">+</span>     <span class="n">border</span><span class="o">-</span><span class="n">bottom</span><span class="o">-</span><span class="n">right</span><span class="o">-</span><span class="ss">radius: </span><span class="mi">3</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="err">右下角圆边</span>
<span class="o">+</span>     <span class="n">border</span><span class="o">-</span><span class="n">bottom</span><span class="o">-</span><span class="n">left</span><span class="o">-</span><span class="ss">radius: </span><span class="mi">3</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="err">左下角圆边</span>
<span class="o">+</span> <span class="p">}</span>
</pre></div>
</figure>
<h3>step 3：替换按钮颜色</h3>
<p>到这一步，我们发现按钮的颜色会不会跟别人的太千篇一律了，以迷你教程使用 btn-danger 为例，我们来重新复写这个 class 的颜色。</p>

<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss
</span></figcaption><div class="highlight"><pre><span class="o">+</span> <span class="p">.</span><span class="nf">btn</span><span class="o">-</span><span class="n">danger</span> <span class="p">{</span>
<span class="o">+</span>     <span class="ss">color: </span><span class="c1">#fff;//字体颜色
</span>
<span class="o">+</span>     <span class="n">background</span><span class="o">-</span><span class="ss">color: </span><span class="c1">#EF6C00;//背景颜色
</span>
<span class="o">+</span>     <span class="n">border</span><span class="o">-</span><span class="ss">color: </span><span class="c1">#EF6C00;//边框颜色
</span>
<span class="o">+</span> <span class="p">}</span>

<span class="o">+</span> <span class="p">.</span><span class="nf">btn</span><span class="o">-</span><span class="n">danger</span><span class="ss">:hover</span> <span class="p">{</span>
<span class="o">+</span>     <span class="n">background</span><span class="o">-</span><span class="ss">color: </span><span class="c1">#E65100;//鼠标放置在btn上的背景颜色
</span>
<span class="o">+</span>     <span class="n">border</span><span class="o">-</span><span class="ss">color: </span><span class="c1">#E65100;//鼠标放置在btn上的边框颜色
</span>
<span class="o">+</span> <span class="p">}</span>
</pre></div>
</figure>

<p>其他的 btn-default、btn-info、btn-success 等依样画葫芦修改即可。</p>
<h3>step 4：修改按钮大小</h3>
<p>虽然改了颜色，但按钮大小还是可以再做调整，以 btn-lg 为例。</p>

<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss
</span></figcaption><div class="highlight"><pre><span class="o">+</span> <span class="p">.</span><span class="nf">btn</span><span class="o">-</span><span class="n">lg</span><span class="p">,</span> <span class="p">.</span><span class="nf">btn</span><span class="o">-</span><span class="n">group</span><span class="o">-</span><span class="n">lg</span> <span class="o">&gt;</span> <span class="p">.</span><span class="nf">btn</span> <span class="p">{</span>
<span class="o">+</span>     <span class="ss">padding: </span><span class="mi">8</span><span class="n">px</span> <span class="mi">16</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="err">通过</span><span class="n">padding</span><span class="err">来决定</span><span class="n">btn</span><span class="err">的大小</span>
<span class="o">+</span>     <span class="n">font</span><span class="o">-</span><span class="ss">size: </span><span class="mi">20</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="n">btn</span><span class="err">文字大小</span>
<span class="o">+</span>     <span class="n">letter</span><span class="o">-</span><span class="ss">spacing: </span><span class="mi">3</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="err">调整文字间距</span>
<span class="o">+</span>     <span class="n">border</span><span class="o">-</span><span class="ss">radius: </span><span class="mi">3</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="n">btn</span><span class="err">圆角</span>
<span class="o">+</span>     <span class="ss">width: </span><span class="mi">200</span><span class="n">px</span><span class="p">;</span><span class="sr">//</span><span class="err">这里用指定宽度把</span><span class="n">btn</span><span class="err">拉得更长</span>
<span class="o">+</span> <span class="p">}</span>
</pre></div>
</figure>

<p>说明：默认有 btn-xs、btn-sm、btn-lg 对应不同的按钮尺寸。</p>

<p>最后成果图：</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/pqE526YSTo2d8D1UulEz_Screenshot%20at%20Apr%2017%2013-53-11.png" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      制作登录弹窗
    </h1><h4>所属章节：13 - 招聘网站 PK 魔改大赛</h4><hr><div class="post group">
    <div class="post-content markdown">
      <h2>目标：</h2>
<ul>
<li>点击注册/登入链接后，弹出窗口</li>
</ul>
<h2>步骤：</h2>
<h3>step1 修改 application.js 文件，加入 modal 的 js 效果</h3>
<figure class="figure-code code"><figcaption><span>app/assets/javascripts/application.js
</span></figcaption><div class="highlight"><pre><span class="o">+</span><span class="sr">//</span><span class="o">=</span> <span class="nb">require</span> <span class="n">bootstrap</span><span class="o">/</span><span class="n">modal</span>
<span class="sr">//</span><span class="o">=</span> <span class="n">require_tree</span> <span class="o">.</span>
</pre></div>
</figure>
<h3>step2 修改 navbar 文件，加入弹窗页面代码，将注册/登入链接与弹窗连接起来</h3>
<figure class="figure-code code"><figcaption><span>app/views/common/_navbar.html.erb
</span></figcaption><div class="highlight"><pre>略...
+<span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">data-toggle=</span><span class="s">"modal"</span> <span class="na">data-target=</span><span class="s">"#signup-modal"</span><span class="nt">&gt;</span>注册<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
+<span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">data-toggle=</span><span class="s">"modal"</span> <span class="na">data-target=</span><span class="s">"#login-modal"</span><span class="nt">&gt;</span>登入<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
-<span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"注册"</span><span class="p">,</span> <span class="n">new_user_registration_path</span><span class="p">)</span> <span class="cp">%&gt;</span> <span class="nt">&lt;/li&gt;</span>
-<span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">"登入"</span><span class="p">,</span> <span class="n">new_user_session_path</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
略...
<span class="c">&lt;!-- 以下代码添加在最后 --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"modal fade"</span> <span class="na">id=</span><span class="s">"login-modal"</span> <span class="na">tabindex=</span><span class="s">"-1"</span> <span class="na">role=</span><span class="s">"dialog"</span> <span class="na">aria-labelledby=</span><span class="s">"myModalLabel"</span> <span class="na">aria-hidden=</span><span class="s">"true"</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"modal-dialog"</span> <span class="na">role=</span><span class="s">"document"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"loginmodal-container"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;h2&gt;</span>Log in<span class="nt">&lt;/h2&gt;</span>
       <span class="cp">&lt;%=</span> <span class="n">simple_form_for</span><span class="p">(</span><span class="n">resource</span><span class="p">,</span> <span class="ss">as: </span><span class="n">resource_name</span><span class="p">,</span> <span class="ss">url: </span><span class="n">session_path</span><span class="p">(</span><span class="n">resource_name</span><span class="p">))</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span>
         <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-inputs"</span><span class="nt">&gt;</span>
           <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">required: </span><span class="kp">false</span><span class="p">,</span> <span class="ss">autofocus: </span><span class="kp">true</span> <span class="cp">%&gt;</span>
           <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:password</span><span class="p">,</span> <span class="ss">required: </span><span class="kp">false</span> <span class="cp">%&gt;</span>
           <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:remember_me</span><span class="p">,</span> <span class="ss">as: :boolean</span> <span class="k">if</span> <span class="n">devise_mapping</span><span class="p">.</span><span class="nf">rememberable?</span> <span class="cp">%&gt;</span>
         <span class="nt">&lt;/div&gt;</span>
         <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-actions"</span><span class="nt">&gt;</span>
           <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">button</span> <span class="ss">:submit</span><span class="p">,</span> <span class="s2">"Log in"</span> <span class="cp">%&gt;</span>
         <span class="nt">&lt;/div&gt;</span>
       <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"modal fade"</span> <span class="na">id=</span><span class="s">"signup-modal"</span> <span class="na">tabindex=</span><span class="s">"-1"</span> <span class="na">role=</span><span class="s">"dialog"</span> <span class="na">aria-labelledby=</span><span class="s">"myModalLabel"</span> <span class="na">aria-hidden=</span><span class="s">"true"</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"modal-dialog"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"loginmodal-container"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h2&gt;</span>Sign up<span class="nt">&lt;/h2&gt;</span>
        <span class="cp">&lt;%=</span> <span class="n">simple_form_for</span><span class="p">(</span><span class="n">resource</span><span class="p">,</span> <span class="ss">as: </span><span class="n">resource_name</span><span class="p">,</span> <span class="ss">url: </span><span class="n">registration_path</span><span class="p">(</span><span class="n">resource_name</span><span class="p">))</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span>
        <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">error_notification</span> <span class="cp">%&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-inputs"</span><span class="nt">&gt;</span>
          <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">required: </span><span class="kp">true</span><span class="p">,</span> <span class="ss">autofocus: </span><span class="kp">true</span> <span class="cp">%&gt;</span>
          <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:password</span><span class="p">,</span> <span class="ss">required: </span><span class="kp">true</span><span class="p">,</span> <span class="ss">hint: </span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="vi">@minimum_password_length</span><span class="si">}</span><span class="s2"> characters minimum"</span> <span class="k">if</span> <span class="vi">@minimum_password_length</span><span class="p">)</span> <span class="cp">%&gt;</span>
          <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">input</span> <span class="ss">:password_confirmation</span><span class="p">,</span> <span class="ss">required: </span><span class="kp">true</span> <span class="cp">%&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-actions"</span><span class="nt">&gt;</span>
            <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">button</span> <span class="ss">:submit</span><span class="p">,</span> <span class="s2">"Sign up"</span> <span class="cp">%&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</figure>
<h3>step3 修改 helper 文件，让弹窗能够正常使用</h3>
<figure class="figure-code code"><figcaption><span>app/helpers/application_helper.rb
</span></figcaption><div class="highlight"><pre><span class="k">module</span> <span class="nn">ApplicationHelper</span>
  <span class="k">def</span> <span class="nf">resource_name</span>
    <span class="ss">:user</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">resource</span>
      <span class="vi">@resource</span> <span class="o">||=</span> <span class="no">User</span><span class="p">.</span><span class="nf">new</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">resource_class</span>
      <span class="no">User</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">devise_mapping</span>
      <span class="vi">@devise_mapping</span> <span class="o">||=</span> <span class="no">Devise</span><span class="p">.</span><span class="nf">mappings</span><span class="p">[</span><span class="ss">:user</span><span class="p">]</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</figure>
<h3>step4 在 application.scss 文件中添加以下 css 代码，设置弹窗样式</h3>
<figure class="figure-code code"><figcaption><span>app/assets/stylesheets/application.scss
</span></figcaption><div class="highlight"><pre><span class="k">@import</span> <span class="sx">url(http://fonts.googleapis.com/css?family=Roboto)</span><span class="p">;</span>

<span class="c">/****** LOGIN MODAL ******/</span>
<span class="nc">.loginmodal-container</span> <span class="p">{</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
  <span class="nl">max-width</span><span class="p">:</span> <span class="m">350px</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span> <span class="cp">!important</span><span class="p">;</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#F7F7F7</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="nb">auto</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">2px</span><span class="p">;</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0px</span> <span class="m">2px</span> <span class="m">2px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0.3</span><span class="p">);</span>
  <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
  <span class="nl">font-family</span><span class="p">:</span> <span class="n">roboto</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.loginmodal-container</span> <span class="nt">h1</span> <span class="p">{</span>
  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">1.8em</span><span class="p">;</span>
  <span class="nl">font-family</span><span class="p">:</span> <span class="n">roboto</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.loginmodal-container</span> <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="nt">submit</span><span class="o">]</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.loginmodal-container</span> <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="nt">text</span><span class="o">],</span> <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="nt">password</span><span class="o">]</span> <span class="p">{</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">44px</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">16px</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
  <span class="nl">-webkit-appearance</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#d9d9d9</span><span class="p">;</span>
  <span class="nl">border-top</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#c0c0c0</span><span class="p">;</span>
  <span class="c">/* border-radius: 2px; */</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span> <span class="m">8px</span><span class="p">;</span>
  <span class="nl">box-sizing</span><span class="p">:</span> <span class="n">border-box</span><span class="p">;</span>
  <span class="nl">-moz-box-sizing</span><span class="p">:</span> <span class="n">border-box</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.loginmodal-container</span> <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="nt">text</span><span class="o">]</span><span class="nd">:hover</span><span class="o">,</span> <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="nt">password</span><span class="o">]</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#b9b9b9</span><span class="p">;</span>
  <span class="nl">border-top</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#a0a0a0</span><span class="p">;</span>
  <span class="nl">-moz-box-shadow</span><span class="p">:</span> <span class="nb">inset</span> <span class="m">0</span> <span class="m">1px</span> <span class="m">2px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0.1</span><span class="p">);</span>
  <span class="nl">-webkit-box-shadow</span><span class="p">:</span> <span class="nb">inset</span> <span class="m">0</span> <span class="m">1px</span> <span class="m">2px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0.1</span><span class="p">);</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="nb">inset</span> <span class="m">0</span> <span class="m">1px</span> <span class="m">2px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0.1</span><span class="p">);</span>
<span class="p">}</span>

<span class="nc">.loginmodal</span> <span class="p">{</span>
  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">14px</span><span class="p">;</span>
  <span class="nl">font-family</span><span class="p">:</span> <span class="s2">'Arial'</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span>
  <span class="nl">font-weight</span><span class="p">:</span> <span class="m">700</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">36px</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span> <span class="m">8px</span><span class="p">;</span>
<span class="c">/* border-radius: 3px; */</span>
<span class="c">/* -webkit-user-select: none;
  user-select: none; */</span>
<span class="p">}</span>

<span class="nc">.loginmodal-submit</span> <span class="p">{</span>
  <span class="c">/* border: 1px solid #3079ed; */</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">0px</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
  <span class="nl">text-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">1px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0.1</span><span class="p">);</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#4d90fe</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">17px</span> <span class="m">0px</span><span class="p">;</span>
  <span class="nl">font-family</span><span class="p">:</span> <span class="n">roboto</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">14px</span><span class="p">;</span>
  <span class="c">/* background-image: -webkit-gradient(linear, 0 0, 0 100%,   from(#4d90fe), to(#4787ed)); */</span>
<span class="p">}</span>

<span class="nc">.loginmodal-submit</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="c">/* border: 1px solid #2f5bb7; */</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">0px</span><span class="p">;</span>
  <span class="nl">text-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">1px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0.3</span><span class="p">);</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#357ae8</span><span class="p">;</span>
  <span class="c">/* background-image: -webkit-gradient(linear, 0 0, 0 100%,   from(#4d90fe), to(#357ae8)); */</span>
<span class="p">}</span>

<span class="nc">.loginmodal-container</span> <span class="nt">a</span> <span class="p">{</span>
  <span class="nl">text-decoration</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="m">#666</span><span class="p">;</span>
  <span class="nl">font-weight</span><span class="p">:</span> <span class="m">400</span><span class="p">;</span>
  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.6</span><span class="p">;</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="n">ease</span> <span class="m">0.5s</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.login-help</span><span class="p">{</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">12px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</figure>

<p>最终效果如下图</p>

<p><figure><img src="https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/ik73G3EpSKKshXRQuip0_loginmodal.jpg" title=""></figure></p>

    </div>
  </div></div><div class='frame'><h1>
      [直播回放]4月20日 Xdite 冲破人生天花板，从魔改大赛做起
    </h1><h4>所属章节：13 - 招聘网站 PK 魔改大赛</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>主讲人：<br>
Xdite 老师</p>

<p>时间：<br>
4月20日 20:00</p>

<p>时长：<br>
本次直播总时长预计30分钟。</p>

<p>概要：冲破人生天花板，从魔改大赛做起</p>

<p>王同学的<a href="http://sihhan-blog.logdown.com/posts/1728306-live-breaking-the-ceiling-in-life-starting-from-the-magic-change-contest" target="_blank">笔记</a></p>

    </div>
      <script src="//fast.wistia.com/embed/medias/8ewjs8eqv1.jsonp" async></script>
<script src="//fast.wistia.com/assets/external/E-v1.js" async></script>
<div class="player-bg">
    <div class="loading-tips">
        <button class="btn btn-default btn-lg">
            <i class="fa fa-spinner fa-spin"></i>
        </button>
        <p>视频文件正在加载，请确保已经打开VPN</p>
    </div>
    <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
        <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
            <div class="wistia_embed wistia_async_8ewjs8eqv1 videoFoam=true" style="height:100%;width:100%"> </div>
            <script>
                window._wq = window._wq || [];
                _wq.push({ id: "8ewjs8eqv1", onReady: function(video) {
                    window.wistia_video = video;
                        window.wistia_video.time("931.225309");
                    var url = "/user_wistia_position_records/update_position";
                    var post_id = "1124"; 
                    setInterval(function(){                        
                        if (wistia_video.state() === "playing") {
                            var data = {
                                position: wistia_video.time(),
                                post_id: post_id 
                            };                            
                            $.post(url, data);
                        }                        
                    }, 5000);
                }});
            </script>            
        </div>
    </div>
</div>

  </div></div><div class='frame'><h1>
      [直播回放]4月24日 Nic 与 Bootstrap 做朋友
    </h1><h4>所属章节：13 - 招聘网站 PK 魔改大赛</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>主讲人：<br>
Nic 老师</p>

<p>时间：<br>
4月24日 20:00</p>

<p>时长：<br>
本次直播总时长约30分钟，QA环节约15分钟。</p>

<p>概要：<br>
魔改大赛补充包，Nic 将在这次直播，教你如何与 Bootstrap 做朋友，及完善魔改页面，一起学习更多的开发技巧吧！</p>

<ul>
<li>Bootstrap元件</li>
<li>Bootstrap格线系统</li>
<li>全频截图插件 full page screenshot</li>
<li>Q＆A</li>
</ul>

<blockquote>
<p>提示：<br>
需要科学上网才可以正常观看本视频<br>
如果画面模糊请到右下角设置中将画质调整为720p</p>
</blockquote>

<p><br></p>

    </div>
      <script src="//fast.wistia.com/embed/medias/kygha4tahi.jsonp" async></script>
<script src="//fast.wistia.com/assets/external/E-v1.js" async></script>
<div class="player-bg">
    <div class="loading-tips">
        <button class="btn btn-default btn-lg">
            <i class="fa fa-spinner fa-spin"></i>
        </button>
        <p>视频文件正在加载，请确保已经打开VPN</p>
    </div>
    <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
        <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
            <div class="wistia_embed wistia_async_kygha4tahi videoFoam=true" style="height:100%;width:100%"> </div>
            <script>
                window._wq = window._wq || [];
                _wq.push({ id: "kygha4tahi", onReady: function(video) {
                    window.wistia_video = video;
                        window.wistia_video.time("2747.932176");
                    var url = "/user_wistia_position_records/update_position";
                    var post_id = "1125"; 
                    setInterval(function(){                        
                        if (wistia_video.state() === "playing") {
                            var data = {
                                position: wistia_video.time(),
                                post_id: post_id 
                            };                            
                            $.post(url, data);
                        }                        
                    }, 5000);
                }});
            </script>            
        </div>
    </div>
</div>

  </div></div><div class='frame'><h1>
      [直播回放]4月27日 xdite 教你克服情绪 &amp; Nic 教你克服 DB
    </h1><h4>所属章节：13 - 招聘网站 PK 魔改大赛</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>主讲人：<br>
Xdite老师 Nic老师</p>

<p>时间：<br>
4月27日 20:00</p>

<p>时长：<br>
本次直播总时长预计47分钟。</p>

<p>概要：<br>
xdite 在这次直播会教你如何克服参加大赛时的一团纠结情绪，同时 Nic 还会帮你补充一些 DB 的小知识</p>

<ul>
<li>《脑能量整理术》</li>
<li>DB前进后退操作方式</li>
<li>  DB的操作观念提升</li>
<li>  Google 技巧</li>
<li>Gem ‘annotate’</li>
<li>查看 Schema</li>
</ul>

<blockquote>
<p>提示：<br>
需要科学上网才可以正常观看本视频<br>
如果画面模糊请到右下角设置中将画质调整为720p</p>
</blockquote>

<p><br></p>

    </div>
      <script src="//fast.wistia.com/embed/medias/gh9iysvher.jsonp" async></script>
<script src="//fast.wistia.com/assets/external/E-v1.js" async></script>
<div class="player-bg">
    <div class="loading-tips">
        <button class="btn btn-default btn-lg">
            <i class="fa fa-spinner fa-spin"></i>
        </button>
        <p>视频文件正在加载，请确保已经打开VPN</p>
    </div>
    <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
        <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
            <div class="wistia_embed wistia_async_gh9iysvher videoFoam=true" style="height:100%;width:100%"> </div>
            <script>
                window._wq = window._wq || [];
                _wq.push({ id: "gh9iysvher", onReady: function(video) {
                    window.wistia_video = video;
                        window.wistia_video.time("2098.404875");
                    var url = "/user_wistia_position_records/update_position";
                    var post_id = "1142"; 
                    setInterval(function(){                        
                        if (wistia_video.state() === "playing") {
                            var data = {
                                position: wistia_video.time(),
                                post_id: post_id 
                            };                            
                            $.post(url, data);
                        }                        
                    }, 5000);
                }});
            </script>            
        </div>
    </div>
</div>

  </div></div><div class='frame'><h1>
      [直播回放]5月1日 Nic Git 入门篇
    </h1><h4>所属章节：13 - 招聘网站 PK 魔改大赛</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>主讲人：<br>
Nic老师</p>

<p>时间：<br>
5月1日 20:00</p>

<p>时长：<br>
本次直播总时长预计37分钟。</p>

<p>概要：<br>
Nic 老师会在这次直播让你对模糊不清的Git与 Github做一个详细的说明，同时也会学到开发流程与小技巧哦</p>

<ul>
<li>Git 与 Github 的差异</li>
<li>  Fork &amp; Clone 区别</li>
<li>  Pull Request 用法</li>
<li>工具 Source Tree</li>
<li>  观摩 Nic 的开发流程</li>
</ul>

<blockquote>
<p>提示：<br>
需要科学上网才可以正常观看本视频<br>
如果画面模糊请到右下角设置中将画质调整为720p</p>
</blockquote>

<p><br></p>

    </div>
      <script src="//fast.wistia.com/embed/medias/enbuw81yxm.jsonp" async></script>
<script src="//fast.wistia.com/assets/external/E-v1.js" async></script>
<div class="player-bg">
    <div class="loading-tips">
        <button class="btn btn-default btn-lg">
            <i class="fa fa-spinner fa-spin"></i>
        </button>
        <p>视频文件正在加载，请确保已经打开VPN</p>
    </div>
    <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
        <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
            <div class="wistia_embed wistia_async_enbuw81yxm videoFoam=true" style="height:100%;width:100%"> </div>
            <script>
                window._wq = window._wq || [];
                _wq.push({ id: "enbuw81yxm", onReady: function(video) {
                    window.wistia_video = video;
                        window.wistia_video.time("2083.289199");
                    var url = "/user_wistia_position_records/update_position";
                    var post_id = "1143"; 
                    setInterval(function(){                        
                        if (wistia_video.state() === "playing") {
                            var data = {
                                position: wistia_video.time(),
                                post_id: post_id 
                            };                            
                            $.post(url, data);
                        }                        
                    }, 5000);
                }});
            </script>            
        </div>
    </div>
</div>

  </div></div><div class='frame'><h1>
      [直播回放]5月4日 Xdite 学一遍就能把知识焊入大脑的技法
    </h1><h4>所属章节：13 - 招聘网站 PK 魔改大赛</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>主讲人：<br>
Xdite老师</p>

<p>时间：<br>
5月4日 20:00</p>

<p>时长：<br>
本次直播总时长44分钟。</p>

<p>概要：<br>
Xdite 学一遍就能把知识焊入大脑的技法</p>

<ul>
<li>如何做提取练习</li>
<li>  魔改大赛</li>
<li>  如何创业</li>
</ul>

<p>视频中提到的创业书籍 - <a href="https://www.gitbook.com/book/xdite/blitzscaling/details">BlitzScaling 闪电式扩张</a></p>

<blockquote>
<p>提示：<br>
需要科学上网才可以正常观看本视频<br>
如果画面模糊请到右下角设置中将画质调整为720p</p>
</blockquote>

<p><br></p>

    </div>
      <script src="//fast.wistia.com/embed/medias/zsynzvjnqw.jsonp" async></script>
<script src="//fast.wistia.com/assets/external/E-v1.js" async></script>
<div class="player-bg">
    <div class="loading-tips">
        <button class="btn btn-default btn-lg">
            <i class="fa fa-spinner fa-spin"></i>
        </button>
        <p>视频文件正在加载，请确保已经打开VPN</p>
    </div>
    <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
        <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
            <div class="wistia_embed wistia_async_zsynzvjnqw videoFoam=true" style="height:100%;width:100%"> </div>
            <script>
                window._wq = window._wq || [];
                _wq.push({ id: "zsynzvjnqw", onReady: function(video) {
                    window.wistia_video = video;
                        window.wistia_video.time("1223.460467");
                    var url = "/user_wistia_position_records/update_position";
                    var post_id = "1173"; 
                    setInterval(function(){                        
                        if (wistia_video.state() === "playing") {
                            var data = {
                                position: wistia_video.time(),
                                post_id: post_id 
                            };                            
                            $.post(url, data);
                        }                        
                    }, 5000);
                }});
            </script>            
        </div>
    </div>
</div>

  </div></div><div class='frame'><h1>
      [直播回放]5月7日 Nic拉你出坑， CRUD以及RESTful，Xdite揭晓大赛获奖结果 
    </h1><h4>所属章节：13 - 招聘网站 PK 魔改大赛</h4><hr><div class="post group">
    <div class="post-content markdown">
      <p>主讲人：<br>
Xdite老师 Nic老师</p>

<p>时间：<br>
5月8日 20:00</p>

<p>时长：<br>
本次直播总时长40分钟。</p>

<p>概要：<br>
 Nic 会说明最常陷入混乱的 CRUD 以及 RESTful 基础概观，让你的基础一步一步扎实<br>
 Xdite 揭晓大赛获奖结果，以及怎么准备商店大赛；</p>

<p>註解：<br>
 后面 belongs_to 的部分有谬误，如需完成点数计算只要避开直播中没有解掉的 bug 就行啰</p>

<blockquote>
<p>提示：<br>
需要科学上网才可以正常观看本视频<br>
如果画面模糊请到右下角设置中将画质调整为720p</p>
</blockquote>

<p><br></p>

    </div>
      <script src="//fast.wistia.com/embed/medias/qigdd398f0.jsonp" async></script>
<script src="//fast.wistia.com/assets/external/E-v1.js" async></script>
<div class="player-bg">
    <div class="loading-tips">
        <button class="btn btn-default btn-lg">
            <i class="fa fa-spinner fa-spin"></i>
        </button>
        <p>视频文件正在加载，请确保已经打开VPN</p>
    </div>
    <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
        <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
            <div class="wistia_embed wistia_async_qigdd398f0 videoFoam=true" style="height:100%;width:100%"> </div>
            <script>
                window._wq = window._wq || [];
                _wq.push({ id: "qigdd398f0", onReady: function(video) {
                    window.wistia_video = video;
                        window.wistia_video.time("1799.023136");
                    var url = "/user_wistia_position_records/update_position";
                    var post_id = "1174"; 
                    setInterval(function(){                        
                        if (wistia_video.state() === "playing") {
                            var data = {
                                position: wistia_video.time(),
                                post_id: post_id 
                            };                            
                            $.post(url, data);
                        }                        
                    }, 5000);
                }});
            </script>            
        </div>
    </div>
</div>

  </div></div><div class='end'>
              <a href='https://fullstack.qzy.camp/'>
                <img src='https://img.buzzfeed.com/buzzfeed-static/static/2014-10/26/6/enhanced/webdr08/longform-original-14836-1414320930-10.jpg'>
              </a>
              <p>The End</p>
            </div>